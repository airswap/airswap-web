{"version":3,"sources":["app/hooks.ts","components/Icon/Icon.styles.tsx","components/Icon/icons/IconLink.tsx","components/Icon/icons/IconPending.tsx","components/Icon/icons/IconVote.tsx","components/Icon/Icon.tsx","components/Icon/icons/IconLibrary.tsx","components/Icon/icons/IconAirswap.tsx","components/Icon/icons/IconArrowRight.tsx","components/Icon/icons/IconArrowLeft.tsx","components/Icon/icons/IconBars.tsx","components/Icon/icons/IconX.tsx","components/Icon/icons/IconChevronDown.tsx","components/Icon/icons/IconCode.tsx","components/Icon/icons/IconContactSupport.tsx","components/Icon/icons/IconDarkModeSwitch.tsx","components/Icon/icons/IconDeny.tsx","components/BookmarkWarning/BookmarkWarning.styles.tsx","components/BookmarkWarning/BookmarkWarning.tsx","constants/nativeETH.ts","features/tradeTerms/tradeTermsSlice.ts","features/pricing/pricingApi.ts","features/balances/balancesApi.ts","features/pricing/pricingSlice.ts","contexts/lastLook/LastLook.tsx","constants/configParams.ts","features/wallet/walletSlice.ts","features/balances/balancesSlice.ts","features/metadata/metadataApi.ts","features/registry/registryApi.ts","features/registry/registrySlice.ts","features/metadata/metadataSlice.ts","helpers/findEthOrTokenByAddress.ts","components/Typography/Typography.styles.tsx","components/Typography/Typography.tsx","components/Toasts/Toast.styles.tsx","components/Toasts/ErrorToast.tsx","components/Toasts/TransactionToast.tsx","components/Toasts/ToastController.tsx","features/transactions/transactionActions.ts","features/orders/orderApi.ts","features/orders/ordersSlice.ts","features/transactions/transactionsSlice.ts","components/IconButton/IconButton.styles.tsx","components/IconButton/IconButton.tsx","helpers/transformHexToRgba.ts","styled-components/CloseButton/CloseButton.tsx","style/sizes.ts","components/Overlay/Overlay.styles.tsx","components/Overlay/Overlay.tsx","helpers/useWindowSize.ts","components/LoadingSpinner/LoadingSpinner.tsx","components/Button/Button.styles.tsx","components/Button/Button.tsx","components/TextInput/TextInput.styles.tsx","components/TextInput/TextInput.tsx","components/TokenList/TokenList.styles.tsx","components/TokenList/filter.ts","components/TokenList/sort.ts","components/TokenLogo/TokenLogo.styles.tsx","components/SwapWidget/subcomponents/ActionButtons/ActionButtons.tsx","components/TokenLogo/TokenLogo.tsx","components/TokenList/subcomponents/TokenImportButton/TokenImportButton.styles.tsx","components/TokenList/subcomponents/TokenImportButton/TokenImportButton.tsx","components/TokenList/subcomponents/InactiveTokensList/InactiveTokensList.tsx","helpers/stringToSignificantDecimals.ts","components/TokenList/subcomponents/TokenButton/TokenButton.styles.tsx","components/TokenList/subcomponents/TokenButton/TokenButton.tsx","components/TokenList/TokenList.tsx","components/Timer/Timer.tsx","components/SwapWidget/InfoSection.styles.tsx","components/SwapWidget/InfoSection.tsx","constants/supportedWalletProviders.ts","assets/wallet-provider-logos/metamask.svg","assets/wallet-provider-logos/walletconnect.svg","components/WalletProviderList/WalletProviderList.styles.tsx","components/WalletProviderList/WalletProviderList.tsx","components/SwapWidget/SwapWidget.styles.tsx","components/SwapWidget/subcomponents/ActionButtons/ActionButtons.styles.tsx","components/TokenSelect/TokenSelect.styles.tsx","components/TokenSelect/subcomponents/TokenSelectFocusBorder/TokenSelectFocusBorder.styles.tsx","components/TokenSelect/subcomponents/TokenSelectFocusBorder/TokenSelectFocusBorder.tsx","components/TokenSelect/TokenSelect.tsx","components/SwapWidget/subcomponents/SwapInputs/SwapInputs.tsx","components/SwapWidget/SwapWidget.tsx","features/orders/Orders.tsx","features/userSettings/helpers/getInitialThemeValue.ts","features/userSettings/userSettingsSlice.ts","features/userSettings/helpers/getInitialBookmarkWarning.ts","components/Toasts/Toaster.tsx","style/breakpoints.ts","components/Toolbar/Toolbar.styles.tsx","components/Toolbar/subcomponents/ToolbarButton/ToolbarButton.styles.tsx","components/Toolbar/subcomponents/ToolbarButton/ToolbarButton.tsx","components/Toolbar/Toolbar.tsx","components/WidgetFrame/WidgetFrame.styles.tsx","components/WidgetFrame/WidgetFrame.tsx","constants/locales.ts","components/SettingsPopover/SettingsPopover.styles.tsx","components/SettingsPopover/subcomponents/PopoverSection/PopoverSection.styles.tsx","components/SettingsPopover/subcomponents/PopoverSection/PopoverSection.tsx","components/SettingsPopover/SettingsPopover.tsx","components/SettingsButton/SettingsButton.style.tsx","components/SettingsButton/SettingsButton.tsx","components/WalletButton/subcomponents/WalletAddress/WalletAddress.styles.tsx","components/WalletButton/subcomponents/WalletAddress/WalletAddress.tsx","components/WalletButton/WalletButton.styles.tsx","helpers/getTimeBetweenTwoDates.ts","components/WalletButton/subcomponents/TransactionLink/TransactionLink.style.tsx","components/WalletButton/subcomponents/TransactionLink/TransactionLink.tsx","components/WalletButton/subcomponents/WalletTransactionStatus/WalletTransactionStatus.styles.tsx","components/WalletButton/subcomponents/WalletTransactionStatus/WalletTransactionStatus.tsx","components/WalletButton/subcomponents/WalletTransaction/WalletTransaction.styles.tsx","components/WalletButton/subcomponents/WalletTransaction/WalletTransaction.tsx","components/WalletButton/WalletButton.tsx","styled-components/PopoverContainer/PopoverContainer.tsx","features/wallet/walletApi.ts","components/SiteLogo/SiteLogo.styles.tsx","components/SiteLogo/SiteLogo.tsx","components/Page/Page.styles.tsx","features/wallet/Wallet.tsx","components/Page/Page.tsx","components/PageLoader/PageLoader.tsx","i18n/i18n.ts","style/GlobalStyle.ts","style/reset.ts","style/themes.ts","App.tsx","app/store.ts","features/metadata/metadataSubscriber.ts","serviceWorker.ts","index.tsx"],"names":["useAppDispatch","useDispatch","useAppSelector","useSelector","StyledIcon","styled","div","props","iconSize","color","IconLink","className","fill","viewBox","d","IconPending","IconVote","icons","about","airswap","strokeWidth","strokeLinecap","transform","bars","code","strokeLinejoin","deny","HiX","IoMdInformationCircleOutline","BiCheck","vote","settings","IoMdSettings","Icon","name","IconComponent","Text","ButtonX","button","theme","colors","alwaysWhite","disabled","StyledBookmarkWarning","primary","BookmarkWarning","hidden","onClick","t","useTranslation","nativeETH","chainId","address","decimals","symbol","logoURI","initialState","baseToken","quoteToken","baseAmount","quoteAmount","side","tradeTermsSlice","createSlice","reducers","clear","set","_","action","payload","setQuoteAmount","state","clearQuoteAmount","selectTradeTerms","tradeTerms","actions","setTradeTerms","clearTradeTerms","setTradeTermsQuoteAmount","clearTradeTermsQuoteAmount","pricingIsLevels","value","subscribeToTransfersAndApprovals","pricingSlice","updatePricing","locator","pricing","existingIndex","findIndex","existingPricing","push","clearPricing","pair","i","splice","extraReducers","builder","addCase","selectBestPricing","createSelector","terms","bestQuoteAmount","BigNumber","bestPricing","baseTokenAmount","Object","keys","forEach","locatorPricing","relevantIndex","p","relevantPricing","signerFee","levels","bid","Error","signerAmount","multipliedBy","parseInt","toString","calculateCostFromLevels","ask","senderAmount","calculateQuoteAmount","gt","lt","LastLookContext","createContext","subscribeAllServers","servers","unsubscribeAllServers","sendOrderForConsideration","a","LastLookProvider","children","connectedServers","useWeb3React","account","library","dispatch","params","server","isSell","baseAmountAtomic","integerValue","ROUND_CEIL","quoteAmountAtomic","ROUND_FLOOR","order","createLightOrder","expiry","Math","floor","Date","now","nonce","senderWallet","getSenderWallet","signerWallet","signerToken","senderToken","createLightSignature","getSigner","lightDeploys","signature","signedOrder","consider","console","error","Provider","map","s","Promise","resolve","handlePricing","pairPricing","find","warn","on","bind","e","message","subscribe","removeAllListeners","disconnect","connected","providerName","walletSlice","setWalletConnected","setWalletDisconnected","setActiveProvider","selectWallet","wallet","balancesInterface","ethers","utils","Interface","JSON","stringify","BalanceChecker","abi","erc20Interface","erc20Abi","getContract","provider","Contract","balancesDeploys","fetchBalancesOrAllowances","method","spenderAddressType","tokenAddresses","walletAddress","contract","args","Light","getAddress","Wrapper","apply","amounts","amount","fetchBalances","fetchAllowancesLight","fetchAllowancesWrapper","activeTokenAddresses","onBalanceChange","spenderAddress","onApproval","filters","out","topics","id","hexZeroPad","in","tearDowns","direction","typedDirection","filter","listener","event","lowerCasedTokenAddress","toLowerCase","includes","parsedEvent","parseLog","isApproval","approvalAddress","wrapperAddress","off","fn","status","lastFetch","inFlightFetchTokens","values","getSetInFlightRequestTokensAction","type","createAction","getThunk","methods","balances","createAsyncThunk","getState","activeTokensAddresses","metadata","tokens","active","condition","pathParts","split","sliceState","length","getSlice","asyncThunk","incrementBy","currentAmount","from","tokenAddress","add","decrementBy","newAmount","sub","pending","fulfilled","tokenBalances","every","result","rejected","selectBalances","selectAllowances","allowances","requestActiveTokenBalances","requestActiveTokenAllowancesLight","requestActiveTokenAllowancesWrapper","balancesSlice","allowancesLightSlice","allowancesWrapperSlice","incrementBalanceBy","decrementBalanceBy","setAllowanceLight","setAllowanceWrapper","allowancesLightActions","allowancesWrapperActions","balancesReducer","reducer","allowancesLightReducer","allowancesWrapperReducer","allowancesReducer","combineReducers","light","wrapper","getActiveTokensLocalStorageKey","getCachedMetadataLocalStorageKey","getUnknownTokens","supportedTokenAddresses","allTokens","storageKey","uniqueTokenListAddresses","uniqBy","localStorageTokens","localStorageData","localStorage","getItem","parse","removeItem","localStorageTokenAddresses","knownTokens","concat","unknownTokens","supportedTokenAddr","scrapedTokens","scrapePromises","scrapeToken","allSettled","results","r","tokenInfo","setItem","getActiveTokensFromLocalStorage","savedTokens","getTransactionsLocalStorageKey","RegistryInterface","RegistryContract","getStakerTokens","registryContract","registryDeploys","addTokensEventFilter","AddTokens","removeTokensEventFilter","RemoveTokens","all","queryFilter","addEvents","removeEvents","sortedEvents","log","removed","sort","b","blockNumber","logIndex","stakerTokens","staker","lowerCasedTokens","token","allSupportedTokens","fetchSupportedTokens","flat","activeTokensLocalStorage","activeTokens","registrySlice","setStakerTokens","setAllSupportedTokens","reset","selectAllSupportedTokens","registry","fetchAllTokens","thunkApi","fetchTokens","fetchUnkownTokens","metadataSlice","addActiveToken","lowerCasedToken","trim","removeActiveToken","reduce","selectAllTokenInfo","selectActiveTokens","allTokenInfo","findEthOrTokenByAddress","findTokenByAddress","elementMap","title1","title2","title3","title4","subtitle","paragraph","infoHeading","infoSubHeading","formLabel","formInput","selectItem","link","nav","small","makeTypographyComponent","key","additionalCSS","tag","typography","fontSize","fontWeight","lineHeight","StyledH1","css","white","alwaysBlack","StyledH2","StyledH3","StyledH4","StyledInfoHeading","grey","StyledInfoSubHeading","lightGrey","StyledFormLabel","StyledFormInput","placeholderGrey","StyledSelectItem","StyledMetadata","titles","h1","h2","h3","h4","Title","StyledTitle","Container","darkGrey","IconContainer","HiXContainer","TextContainer","ErrorToast","onClose","heading","cta","style","width","height","cursor","TransactionToast","transaction","approvalToken","parseFloat","Number","formatUnits","toFixed","notifyTransaction","tx","toast","dismiss","duration","notifyError","submitTransaction","declineTransaction","mineTransaction","revertTransaction","WETHInterface","WETHContract","swapLight","swap","swapWrapper","requestOrders","baseTokenDecimals","rfqOrderPromises","race","getSignerSideOrder","toAtomicString","reject","setTimeout","rfqOrders","successfulRfqOrders","approveToken","contractType","spender","network","erc20Contract","approve","constants","MaxUint256","approvalTxHash","takeOrder","orderSortingFunction","aAmount","depositETH","senderTokenDecimals","wethAddresses","signer","connect","deposit","withdrawETH","withdraw","APPROVE_AMOUNT","refactorOrder","newOrder","hash","timestamp","once","getTransactionReceipt","receipt","transactionHash","request","orders","bestOrder","timeTilReRequest","reRequestTimerId","window","setReRequestTimerId","take","_network","ordersSlice","clearTimeout","selectBestOrder","selectBestOption","bestRfqOrder","lastLookOrder","rfqOrder","bestRFQSignerUnits","protocol","pow","lte","selectOrdersStatus","updateTransaction","transactionsSlice","setTransactions","err","unshift","selectTransactions","transactions","selectPendingApprovals","StyledIconButton","hasText","IconButton","text","icon","tabIndex","convertHexToRGBA","hexCode","opacity","hex","replace","substring","g","CloseButton","borderGrey","black","sizes","ContentContainer","motion","TitleContainer","isHidden","hasTitle","Overlay","title","shouldReduceMotion","useReducedMotion","AnimatePresence","transition","ease","initial","y","animate","exit","useWindowSize","useState","undefined","windowSize","setWindowSize","useEffect","handleResize","innerWidth","innerHeight","addEventListener","removeEventListener","LoadingSpinnerContainer","spin","keyframes","SpinningIcon","AiOutlineLoading","LoadingSpinner","StyledButton","justifyContent","intent","red","green","getButtonBackground","$loading","primaryDark","getButtonHoverBackground","Button","loading","rest","FormLabel","StyledInput","FormInput","StyledTextInput","hideLabel","TextInput","label","hasError","inputProps","ScrollContainer","$overflow","SearchInput","TokenContainer","Legend","LegendItem","LegendDivider","InactiveTitleContainer","InactiveTitle","InformationIcon","NoResultsContainer","EditCustomTokensButton","filterTokens","search","isAddress","lowerSearchParts","matchesSearch","sParts","some","sp","startsWith","endsWith","Boolean","createTokenFilterFunction","getTokenBalance","sortTokenByExactMatch","filteredTokens","tokenQuery","symbolMatch","exactMatches","symbolSubtrings","remainder","ButtonActions","remSizes","medium","large","StyledTokenLogo","size","TokenLogo","Symbol","TokenName","UnsupportedTokenText","span","Metadata","ImportButton","TokenImportButton","isUnsupported","InactiveTokensList","inactiveTokens","onTokenClick","stringToSignificantDecimals","input","sigDecimals","indexOf","beforeDecimalPoint","afterDecimalPoint","trimmedDecimals","match","slice","sigDecimalsRemaining","inLeadingZeroes","currentDigit","scaleInAnimation","DeleteIcon","showDeleteButton","Balance","TokenButton","balance","setToken","TokenList","onSelectToken","containerRef","useRef","scrollContainerRef","overflow","setOverflow","editMode","setEditMode","setTokenQuery","sortedTokens","useMemo","aBalance","bBalance","toLocaleLowerCase","sortTokensBySymbolAndBalance","sortedFilteredTokens","sortedInactiveTokens","el","current","offsetTop","scrollHeight","offsetHeight","ref","placeholder","onChange","currentTarget","Timer","expiryTime","onTimerComplete","distance","setDistance","interval","setInterval","dist","clearInterval","InfoHeading","StyledInvertPriceIcon","IoMdSwap","StyledInvertPriceButton","TimerContainer","NewQuoteText","TimerText","InfoSection","isConnected","isPairUnavailable","orderSubmitted","isApproving","isSwapping","bestTradeOption","isWrapping","isFetchingOrders","requiresApproval","baseTokenInfo","quoteTokenInfo","invertPrice","setInvertPrice","price","dividedBy","RFQ_EXPIRY_BUFFER_MS","SUPPORTED_WALLET_PROVIDERS","logo","getConnector","InjectedConnector","supportedChainIds","WalletConnectConnector","rpc","StyledWalletProviderList","ButtonIconContainer","ButtonIcon","img","ButtonText","WalletProviderList","onProviderSelected","src","alt","Header","InfoContainer","ButtonContainer","HugeTicks","MdDoneAll","StyledSwapWidget","BackButton","MainButton","buttonTextMapping","connectWallet","restart","goBack","requestQuotes","takeQuote","ActionButtons","nextAction","walletIsActive","orderComplete","pairUnavailable","hasQuote","needsApproval","hasAmount","hasSufficientBalance","isLoading","onButtonClicked","mainButtonText","isDisabled","hasBackButton","FlexRow","AmountAndDetailsContainer","InputAndMaxButtonWrapper","MaxButton","fadeInOut","PlaceHolderBar","placeholderGradient","PlaceholderTop","PlaceholderBottom","TokenSelectContainer","fadeOutWhenInvisible","$invisible","StyledLabel","StyledSelectButtonContent","$emphasize","StyledDownArrow","MdKeyboardArrowDown","StyledSelectButton","SelectItem","AmountInput","hasSubtext","AmountSubtext","PlaceholderContainer","Border","BorderRight","position","BorderTop","BorderBottom","GlobalStyle","createGlobalStyle","TokenSelectFocusBorder","TokenSelect","readOnly","includeAmountInput","selectedToken","onChangeTokenClicked","onMaxClicked","onAmountChange","amountDetails","showMaxButton","inputMode","autoComplete","pattern","minLength","maxLength","spellCheck","SwapIconContainer","floatRegExp","RegExp","SwapInputs","fromAmount","toAmount","tradeNotAllowed","onMaxButtonClick","onChangeTokenClick","isRequesting","noFee","onBaseAmountChange","handleTokenAmountChange","test","fee","SwapWidget","history","useHistory","rfqOrderStatus","supportedTokens","pendingApprovals","LastLook","useContext","useRouteMatch","tokenFrom","tokenTo","setBaseAmount","showWalletList","setShowWalletList","showOrderSubmitted","setShowOrderSubmitted","showTokenSelectModalFor","setShowTokenSelectModalFor","setIsApproving","setIsSwapping","setIsWrapping","isConnecting","setIsConnecting","isRequestingQuotes","setIsRequestingQuotes","setPairUnavailable","activate","defaultBaseTokenAddress","findTokensBySymbol","defaultQuoteTokenAddress","maxAmount","swapType","eth","weth","hasSufficientAllowance","gte","insufficientBalance","baseDecimals","tokenId","usesWrapper","_quoteToken","_baseToken","Registry","getServers","initializeTimeout","rfqServers","supportsProtocol","lastLookServers","rfqPromise","lastLookPromises","rfqDispatchResult","then","unwrapResult","orderPromises","timeoutOnNoOrdersPromise","any","waitExtraForAllOrdersPromise","takeBestOption","accepted","doWrap","handleButtonClick","newTokenAddress","pathname","finally","Orders","getInitialThemeValue","THEME_LOCAL_STORAGE_KEY","BOOKMARK_WARNING_LOCAL_STORAGE_KEY","showBookmarkWarning","userSettingsSlice","disableBookmarkWarning","toggleTheme","setTheme","matchMedia","matches","selectUserSettings","userSettings","ToasterWrapper","Toaster","containerStyle","right","toastOptions","padding","margin","borderRadius","breakPoints","tinyScreenOnly","phoneOnly","tabletPortraitUp","tabletLandscapeUp","desktopUp","bigDesktopUp","ToolbarContainer","IconAirswap","ToolbarButtonsContainer","ButtonStyle","ToolbarButtonContainer","ToolBarAnchorContainer","ToolbarButton","iconName","href","renderInner","target","Toolbar","StyledTradeContainer","process","WidgetFrame","SUPPORTED_LOCALES","LOCALE_LABEL","en","nb","darkSubText","ThemeContainer","ThemeButton","LocaleContainer","LocaleButton","Line","PopoverSection","SettingsPopover","selectedButton","setSelectedButton","navigator","language","selectedLocale","setSelectedLocale","i18n","handleThemeButtonClick","newTheme","locale","changeLanguage","SettingIconButtonContainer","SettingsIconButton","SettingsButton","settingsOpen","setSettingsOpen","handleClick","useCallback","contains","handleEscKey","keyCode","document","StyledWalletAddress","BlockiesContainer","StyledBlockies","Blockies","GreenCircle","WalletAddress","isButton","showBlockies","renderContent","scale","seed","bgColor","truncateEthAddress","OpenWallet","OpenWalletTopContainer","NoTransactions","ExitButton","TransactionContainer","flex","DisconnectButton","MS_PER_HOUR","MS_PER_DAY","MS_PER_MONTH","MS_PER_YEAR","getTimeBetweenTwoDates","date","currentDate","timeDiff","getTime","minutes","hours","days","months","years","Link","TransactionLink","rel","getEtherscanURL","SucceedIcon","ProcessingIcon","FailedIcon","WalletTransactionStatus","StyledWalletTransactionStatus","SpanTitle","SpanSubtitle","StyledTransactionLink","WalletTransaction","time","WalletButton","onDisconnectWalletClicked","walletOpen","setWalletOpen","PopoverContainer","LAST_ACCOUNT_LOCAL_STORAGE_KEY","StyledSiteLogo","svg","SiteLogo","fillRule","clipRule","adjustForBookmarkWarning","StyledWallet","deactivate","isActivating","setIsActivating","connector","setConnector","setProvider","activated","setActivated","lastConnectedAccount","storedString","loadLastAccount","saveLastAccount","teardownTransferListener","actionCreator","walletHasChanged","transactionsLocalStorage","reason","getTransaction","wait","assumedFailureTime","res","close","StyledPage","Page","PageLoader","use","HttpBackend","LanguageDetector","initReactI18next","init","fallbackLng","ns","load","debug","interpolation","escapeValue","react","useSuspense","backend","loadPath","darkTheme","orange","lightTheme","getLibrary","Web3Provider","pollingInterval","App","fallback","path","store","configureStore","transactionsReducer","metadataReducer","tradeTermsReducer","ordersReducer","pricingReducer","walletReducer","registryReducer","userSettingsReducer","currentChainId","currentTransaction","activeTokensCache","transactionCache","previousChainId","txs","mostRecentTransactions","cachedTokensForActiveWallet","join","subscribeToSavedTokenChangesForLocalStoragePersisting","location","hostname","ReactDOM","render","StrictMode","getElementById","serviceWorker","ready","registration","unregister","catch"],"mappings":"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","file":"static/js/main.e7b67c9d.chunk.js","sourcesContent":["import { TypedUseSelectorHook, useDispatch, useSelector } from \"react-redux\";\n\nimport type { RootState, AppDispatch } from \"./store\";\n\n// Use throughout your app instead of plain `useDispatch` and `useSelector`\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\n","import styled from \"styled-components/macro\";\n\ninterface StyledIconProps {\n  iconSize: number;\n}\n\nexport const StyledIcon = styled.div<StyledIconProps>`\n  svg {\n    width: ${(props) => `${props.iconSize}rem`};\n    height: ${(props) => `${props.iconSize}rem`};\n  }\n\n  circle,\n  path,\n  polygon,\n  rect {\n    fill: ${(props) => props.color || \"currentColor\"};\n  }\n\n  .stroke {\n    fill: none;\n    stroke: ${(props) => props.color || \"currentColor\"};\n  }\n`;\n","import React, { FC, ReactElement } from \"react\";\n\nimport { SvgIconProps } from \"../Icon\";\n\nconst IconLink: FC<SvgIconProps> = ({ className = \"\" }): ReactElement => (\n  <svg fill=\"currentColor\" viewBox=\"0 0 24 24\" className={className}>\n    <path d=\"M19 19H5V5h7V3H5a2 2 0 00-2 2v14a2 2 0 002 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z\" />\n  </svg>\n);\n\nexport default IconLink;\n","import React, { FC, ReactElement } from \"react\";\n\nimport { SvgIconProps } from \"../Icon\";\n\nconst IconPending: FC<SvgIconProps> = ({ className = \"\" }): ReactElement => (\n  <svg fill=\"currentColor\" viewBox=\"0 0 24 24\" className={className}>\n    <path d=\"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\" />\n    <path d=\"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z\" />\n  </svg>\n);\n\nexport default IconPending;\n","import React, { FC, ReactElement } from \"react\";\n\nimport { SvgIconProps } from \"../Icon\";\n\nconst IconVote: FC<SvgIconProps> = ({ className = \"\" }): ReactElement => (\n  <svg fill=\"none\" viewBox=\"0 0 24 24\" className={className}>\n    <path d=\"M18 12.9993H17.32L15.32 14.9993H17.23L19 16.9993H5L6.78 14.9993H8.83L6.83 12.9993H6L3 15.9993V19.9993C3 21.0993 3.89 21.9993 4.99 21.9993H19C20.1 21.9993 21 21.1093 21 19.9993V15.9993L18 12.9993ZM19 19.9993H5V18.9993H19V19.9993ZM11.34 15.0193C11.73 15.4093 12.36 15.4093 12.75 15.0193L19.11 8.65931C19.5 8.26931 19.5 7.63931 19.11 7.24931L14.16 2.29931C13.78 1.89931 13.15 1.89931 12.76 2.28931L6.39 8.65931C6 9.04931 6 9.67931 6.39 10.0693L11.34 15.0193ZM13.46 4.40931L17 7.94931L12.05 12.8993L8.51 9.35931L13.46 4.40931Z\" />\n  </svg>\n);\n\nexport default IconVote;\n","import { FC, ReactElement } from \"react\";\nimport { BiCheck } from \"react-icons/bi\";\nimport { HiX } from \"react-icons/hi\";\nimport { IoMdInformationCircleOutline, IoMdSettings } from \"react-icons/io\";\n\nimport { StyledIcon } from \"./Icon.styles\";\nimport {\n  IconAirswap,\n  IconArrowLeft,\n  IconArrowRight,\n  IconBars,\n  IconChevronDown,\n  IconCode,\n  IconContactSupport,\n  IconDarkModeSwitch,\n  IconDeny,\n  IconLibrary,\n  IconLink,\n  IconPending,\n  IconVote,\n  IconX,\n} from \"./icons\";\n\ntype IconSet = {\n  [key: string]: FC<SvgIconProps>;\n};\n\nexport interface SvgIconProps {\n  className?: string;\n  iconSize?: number;\n  color?: string;\n}\n\nexport const icons: IconSet = {\n  about: IconLibrary,\n  airswap: IconAirswap,\n  \"arrow-right\": IconArrowRight,\n  \"arrow-left\": IconArrowLeft,\n  bars: IconBars,\n  \"button-x\": IconX,\n  \"chevron-down\": IconChevronDown,\n  code: IconCode,\n  \"contact-support\": IconContactSupport,\n  \"dark-mode-switch\": IconDarkModeSwitch,\n  deny: IconDeny,\n  \"exit-modal\": HiX,\n  \"information-circle-outline\": IoMdInformationCircleOutline,\n  \"transaction-completed\": BiCheck,\n  \"transaction-failed\": HiX,\n  \"transaction-pending\": IconPending,\n  \"transaction-link\": IconLink,\n  vote: IconVote,\n  settings: IoMdSettings,\n};\n\ninterface IconProps extends SvgIconProps {\n  name: keyof typeof icons;\n}\n\nconst Icon: FC<IconProps> = ({\n  name,\n  iconSize = 1,\n  className = \"\",\n}): ReactElement | null => {\n  const IconComponent = icons[name];\n\n  return IconComponent ? (\n    <StyledIcon iconSize={iconSize} className={className}>\n      <IconComponent />\n    </StyledIcon>\n  ) : null;\n};\n\nexport default Icon;\n","import React, { FC, ReactElement } from \"react\";\n\nimport { SvgIconProps } from \"../Icon\";\n\nconst IconLibrary: FC<SvgIconProps> = ({ className = \"\" }): ReactElement => (\n  <svg viewBox=\"0 0 21 21\" className={className}>\n    <path d=\"M20.5968 4.76732C20.166 4.54732 19.7168 4.36398 19.2493 4.20815V15.2357C18.2043 14.8598 17.1318 14.6673 16.041 14.6673C14.2993 14.6673 12.576 15.1623 10.9993 16.1157V5.02398C9.51435 4.17148 7.80018 3.66732 5.95768 3.66732C4.31685 3.66732 2.76768 4.07065 1.40185 4.76732C1.09935 4.91398 0.916016 5.23482 0.916016 5.57398V16.6473C0.916016 17.179 1.34685 17.5548 1.83268 17.5548C1.97935 17.5548 2.12602 17.5182 2.27268 17.4448C3.38185 16.8673 4.62852 16.5007 5.95768 16.5007C7.85518 16.5007 9.60602 17.2523 10.9993 18.334C12.3927 17.2523 14.1435 16.5007 16.041 16.5007C17.3702 16.5007 18.6168 16.8673 19.726 17.454C19.8727 17.5273 20.0193 17.564 20.166 17.564C20.6427 17.564 21.0827 17.1882 21.0827 16.6565V5.57398C21.0827 5.23482 20.8993 4.91398 20.5968 4.76732ZM9.16602 15.2357C8.12102 14.8598 7.04852 14.6673 5.95768 14.6673C4.86685 14.6673 3.79435 14.8598 2.74935 15.2357V6.15148C3.76685 5.72065 4.83935 5.50065 5.95768 5.50065C7.05768 5.50065 8.14852 5.72982 9.16602 6.16065V15.2357ZM17.416 0.458984L12.8327 5.04232V13.7507L17.416 9.62565V0.458984Z\" />\n  </svg>\n);\n\nexport default IconLibrary;\n","import React, { FC, ReactElement } from \"react\";\n\nimport { SvgIconProps } from \"../Icon\";\n\nconst IconAirswap: FC<SvgIconProps> = ({ className = \"\" }): ReactElement => (\n  <svg fill=\"none\" viewBox=\"0 0 40 40\" className={className}>\n    <path d=\"M29.1306 28.9805L20.0115 38.0754L15.4785 33.5544C20.3656 33.2719 25.0757 31.7001 29.1306 28.9805Z\" />\n    <path d=\"M37.7705 19.6388L36.655 18.5262L20.0104 1.92578L3.3659 18.5262L1.93164 19.9567C2.10871 20.098 2.26807 20.2569 2.44514 20.3982C3.02947 20.8927 3.63151 21.3518 4.25125 21.7757C10.8382 26.4026 19.0011 27.7977 26.5443 25.9611C29.6253 25.2194 32.547 23.9302 35.1853 22.1819C35.8405 21.7404 36.4779 21.2812 37.0976 20.7867C37.4341 20.5218 37.7705 20.2392 38.1069 19.939L37.7705 19.6388ZM24.4018 23.8066C19.4438 20.7514 13.7245 19.162 7.88118 19.1796C15.4775 15.8949 24.7913 15.4357 33.3438 20.3452C30.6169 22.0759 27.5713 23.2591 24.4018 23.8066Z\" />\n  </svg>\n);\n\nexport default IconAirswap;\n","import React, { FC, ReactElement } from \"react\";\n\nimport { SvgIconProps } from \"../Icon\";\n\nconst IconArrowRight: FC<SvgIconProps> = ({ className = \"\" }): ReactElement => (\n  <svg fill=\"none\" viewBox=\"0 0 12 20\" className={className}>\n    <path\n      className=\"stroke\"\n      d=\"M2 18L10 10L2 2\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"square\"\n    />\n  </svg>\n);\n\nexport default IconArrowRight;\n","import React, { FC, ReactElement } from \"react\";\n\nimport { SvgIconProps } from \"../Icon\";\n\nconst IconArrowLeft: FC<SvgIconProps> = ({ className = \"\" }): ReactElement => (\n  <svg fill=\"none\" viewBox=\"0 0 12 20\" className={className}>\n    <path\n      className=\"stroke\"\n      d=\"M2 18L10 10L2 2\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"square\"\n      transform-origin=\"center\"\n      transform=\"scale(-1, 1)\"\n    />\n  </svg>\n);\n\nexport default IconArrowLeft;\n","import React, { FC, ReactElement } from \"react\";\n\nimport { SvgIconProps } from \"../Icon\";\n\nconst IconBars: FC<SvgIconProps> = ({ className = \"\" }): ReactElement => (\n  <svg viewBox=\"0 0 24 24\" className={className}>\n    <path d=\"M5 9.2H8V19H5V9.2ZM10.6 5H13.4V19H10.6V5ZM16.2 13H19V19H16.2V13Z\" />\n  </svg>\n);\n\nexport default IconBars;\n","import React, { FC, ReactElement } from \"react\";\n\nimport { SvgIconProps } from \"../Icon\";\n\nconst IconX: FC<SvgIconProps> = ({ className = \"\" }): ReactElement => (\n  <svg fill=\"none\" viewBox=\"0 0 14 14\" className={className}>\n    <path\n      d=\"M14 1.41L12.59 0L7 5.59L1.41 0L0 1.41L5.59 7L0 12.59L1.41 14L7 8.41L12.59 14L14 12.59L8.41 7L14 1.41Z\"\n      fill=\"white\"\n    />\n  </svg>\n);\n\nexport default IconX;\n","import React, { FC, ReactElement } from \"react\";\n\nimport { SvgIconProps } from \"../Icon\";\n\nconst IconChevronDown: FC<SvgIconProps> = ({\n  className = \"\",\n}): ReactElement => (\n  <svg fill=\"currentColor\" viewBox=\"0 0 24 24\" className={className}>\n    <path\n      strokeWidth=\"0\"\n      d=\"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z\"\n    />\n  </svg>\n);\n\nexport default IconChevronDown;\n","import React, { FC, ReactElement } from \"react\";\n\nimport { SvgIconProps } from \"../Icon\";\n\nconst IconCode: FC<SvgIconProps> = ({ className = \"\" }): ReactElement => (\n  <svg viewBox=\"0 0 24 24\" className={className}>\n    <path d=\"M9.4 16.6L4.8 12L9.4 7.4L8 6L2 12L8 18L9.4 16.6ZM14.6 16.6L19.2 12L14.6 7.4L16 6L22 12L16 18L14.6 16.6Z\" />\n  </svg>\n);\n\nexport default IconCode;\n","import React, { FC, ReactElement } from \"react\";\n\nimport { SvgIconProps } from \"../Icon\";\n\nconst IconContactSupport: FC<SvgIconProps> = ({\n  className = \"\",\n}): ReactElement => (\n  <svg viewBox=\"0 0 24 24\" className={className}>\n    <path\n      d=\"M4 13C5.1 13 6 12.1 6 11C6 9.9 5.1 9 4 9C2.9 9 2 9.9 2 11C2 12.1 2.9 13 4 13ZM5.13 14.1C4.76 14.04 4.39 14 4 14C3.01 14 2.07 14.21 1.22 14.58C0.48 14.9 0 15.62 0 16.43V18H4.5V16.39C4.5 15.56 4.73 14.78 5.13 14.1ZM20 13C21.1 13 22 12.1 22 11C22 9.9 21.1 9 20 9C18.9 9 18 9.9 18 11C18 12.1 18.9 13 20 13ZM24 16.43C24 15.62 23.52 14.9 22.78 14.58C21.93 14.21 20.99 14 20 14C19.61 14 19.24 14.04 18.87 14.1C19.27 14.78 19.5 15.56 19.5 16.39V18H24V16.43ZM16.24 13.65C15.07 13.13 13.63 12.75 12 12.75C10.37 12.75 8.93 13.14 7.76 13.65C6.68 14.13 6 15.21 6 16.39V18H18V16.39C18 15.21 17.32 14.13 16.24 13.65ZM8.07 16C8.16 15.77 8.2 15.61 8.98 15.31C9.95 14.93 10.97 14.75 12 14.75C13.03 14.75 14.05 14.93 15.02 15.31C15.79 15.61 15.83 15.77 15.93 16H8.07ZM12 8C12.55 8 13 8.45 13 9C13 9.55 12.55 10 12 10C11.45 10 11 9.55 11 9C11 8.45 11.45 8 12 8ZM12 6C10.34 6 9 7.34 9 9C9 10.66 10.34 12 12 12C13.66 12 15 10.66 15 9C15 7.34 13.66 6 12 6Z\"\n      fill=\"white\"\n    />\n  </svg>\n);\n\nexport default IconContactSupport;\n","import React, { FC, ReactElement } from \"react\";\n\nimport { SvgIconProps } from \"../Icon\";\n\nconst IconDarkModeSwitch: FC<SvgIconProps> = ({\n  className = \"\",\n}): ReactElement => (\n  <svg fill=\"none\" viewBox=\"0 0 26 26\" className={className}>\n    <path\n      className=\"stroke\"\n      d=\"M12.9946 18.4559C16.0076 18.4559 18.4501 16.0134 18.4501 13.0005C18.4501 9.98761 16.0076 7.54517 12.9946 7.54517C9.98158 7.54517 7.53906 9.98761 7.53906 13.0005C7.53906 16.0134 9.98158 18.4559 12.9946 18.4559Z\"\n      strokeWidth=\"1.5\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n    <path\n      className=\"stroke\"\n      d=\"M13 1V3.18214\"\n      strokeWidth=\"1.5\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n    <path\n      className=\"stroke\"\n      d=\"M13 22.822V25.0042\"\n      strokeWidth=\"1.5\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n    <path\n      className=\"stroke\"\n      d=\"M4.51562 4.51343L6.06506 6.06274\"\n      strokeWidth=\"1.5\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n    <path\n      className=\"stroke\"\n      d=\"M19.9375 19.9404L21.4869 21.4897\"\n      strokeWidth=\"1.5\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n    <path\n      className=\"stroke\"\n      d=\"M1 13.0024H3.18222\"\n      strokeWidth=\"1.5\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n    <path\n      className=\"stroke\"\n      d=\"M22.8203 13.0024H25.0025\"\n      strokeWidth=\"1.5\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n    <path\n      className=\"stroke\"\n      d=\"M4.51562 21.4897L6.06506 19.9404\"\n      strokeWidth=\"1.5\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n    <path\n      className=\"stroke\"\n      d=\"M19.9375 6.06274L21.4869 4.51343\"\n      strokeWidth=\"1.5\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n    <path d=\"M13 19.003V7.60107L17.0507 9.02632L18.4009 13.302L16.3756 17.5778L13 19.003Z\" />\n  </svg>\n);\n\nexport default IconDarkModeSwitch;\n","import React, { FC, ReactElement } from \"react\";\n\nimport { SvgIconProps } from \"../Icon\";\n\nconst IconDeny: FC<SvgIconProps> = ({ className = \"\" }): ReactElement => (\n  <svg fill=\"none\" viewBox=\"0 0 20 20\" className={className}>\n    <path\n      d=\"M5 9V11H15V9H5ZM10 0C4.48 0 0 4.48 0 10C0 15.52 4.48 20 10 20C15.52 20 20 15.52 20 10C20 4.48 15.52 0 10 0ZM10 18C5.59 18 2 14.41 2 10C2 5.59 5.59 2 10 2C14.41 2 18 5.59 18 10C18 14.41 14.41 18 10 18Z\"\n      fill=\"#6E7686\"\n    />\n  </svg>\n);\n\nexport default IconDeny;\n","import styled from \"styled-components/macro\";\n\nimport { BookmarkWarningProps } from \"./BookmarkWarning\";\n\nexport const Text = styled.div`\n  transition: opacity 0.3s ease-out;\n`;\n\nexport const ButtonX = styled.button`\n  position: absolute;\n  right: 2rem;\n  color: ${(props) => props.theme.colors.alwaysWhite};\n  pointer-events: ${(props) => (props.disabled ? \"none\" : \"visible\")};\n  cursor: ${(props) => (props.disabled ? \"none\" : \"pointer\")};\n`;\n\nexport const StyledBookmarkWarning = styled.div<BookmarkWarningProps>`\n  height: 40px;\n  display: flex;\n  transition: opacity 0.3s ease-out;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  font-size: 1rem;\n  font-weight: 600;\n  white-space: nowrap;\n  padding-left: 1rem;\n  padding-right: 3.5rem;\n  color: ${(props) => props.theme.colors.alwaysWhite};\n  background: ${(props) => props.theme.colors.primary};\n  cursor: pointer;\n  z-index: 1;\n  ${Text} {\n    font-weight: normal;\n    text-overflow: ellipsis;\n    text-align: center;\n    overflow: hidden;\n  }\n  ${ButtonX} {\n    font-weight: normal;\n  }\n`;\n","import React from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\nimport Icon from \"../Icon/Icon\";\nimport { ButtonX, StyledBookmarkWarning, Text } from \"./BookmarkWarning.styles\";\n\nexport type BookmarkWarningProps = {\n  /**\n   * if hidden, return null so that nothing gets rendered\n   */\n  hidden?: boolean;\n  /**\n   * A handler for the close action\n   */\n  onClick?: () => void;\n};\n\nexport const BookmarkWarning = ({\n  hidden = false,\n  onClick,\n}: BookmarkWarningProps) => {\n  const { t } = useTranslation([\"common\"]);\n  if (hidden) return null;\n\n  return (\n    <StyledBookmarkWarning>\n      <Text>\n        {t(\"common:bookmarkWarning1\")}\n        <strong>airswap.io</strong>\n        {t(\"common:bookmarkWarning2\")}\n      </Text>\n      <ButtonX onClick={onClick}>\n        <Icon iconSize={1.0} name=\"button-x\" />{\" \"}\n      </ButtonX>\n    </StyledBookmarkWarning>\n  );\n};\n\nexport default BookmarkWarning;\n","import { TokenInfo } from \"@uniswap/token-lists\";\n\nconst nativeETH: Record<number, TokenInfo> = {\n  1: {\n    chainId: 1,\n    address: \"0x0000000000000000000000000000000000000000\",\n    name: \"Ether\",\n    decimals: 18,\n    symbol: \"ETH\",\n    logoURI: \"images/ethereum-logo.png\",\n  },\n  4: {\n    chainId: 4,\n    address: \"0x0000000000000000000000000000000000000000\",\n    name: \"Ether\",\n    decimals: 18,\n    symbol: \"ETH\",\n    logoURI: \"images/ethereum-logo.png\",\n  },\n};\n\nexport default nativeETH;\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\n\nimport { RootState } from \"../../app/store\";\n\nexport type TradeTerms = {\n  /**\n   * The token whose quantity is known\n   */\n  baseToken: { address: string; decimals: number };\n  baseAmount: string;\n  /**\n   * The token whose quantity is unknown\n   */\n  quoteToken: { address: string; decimals: number };\n  /**\n   * The amount of quote token (once known).\n   */\n  quoteAmount: string | null;\n  /**\n   * Sell means sending a known amount of baseToken to receive an as yet unknown\n   * amount of quoteToken. Buy means sending an as yet unknown amount of\n   * quoteToken to receive a known amount of baseToken.\n   */\n  side: \"sell\" | \"buy\";\n};\n\nconst initialState: TradeTerms = {\n  baseToken: { address: \"\", decimals: 18 },\n  quoteToken: { address: \"\", decimals: 18 },\n  baseAmount: \"\",\n  quoteAmount: null,\n  side: \"sell\",\n};\n\nconst tradeTermsSlice = createSlice({\n  name: \"tradeTerms\",\n  initialState,\n  reducers: {\n    clear: () => initialState,\n    set: (_, action: PayloadAction<TradeTerms>) => action.payload,\n    setQuoteAmount: (state, action: PayloadAction<string>) => {\n      state.quoteAmount = action.payload;\n    },\n    clearQuoteAmount: (state) => {\n      state.quoteAmount = null;\n    },\n  },\n});\n\nexport const selectTradeTerms = (state: RootState) => state.tradeTerms;\n\nexport const {\n  set: setTradeTerms,\n  clear: clearTradeTerms,\n  setQuoteAmount: setTradeTermsQuoteAmount,\n  clearQuoteAmount: clearTradeTermsQuoteAmount,\n} = tradeTermsSlice.actions;\n\nexport default tradeTermsSlice.reducer;\n","import { Formula, Levels, Pricing } from \"@airswap/types\";\nimport { calculateCostFromLevels } from \"@airswap/utils\";\n\nimport { BigNumber } from \"bignumber.js\";\n\nexport function pricingIsLevels(value: Levels | Formula): value is Levels {\n  return typeof value !== \"string\";\n}\n\n/**\n * Calculates the quote amount from pricing, given a base amount, fee, and\n * pricing.\n */\nexport const calculateQuoteAmount: (params: {\n  baseAmount: string;\n  side: \"buy\" | \"sell\";\n  signerFee: string;\n  pricing: Pricing;\n}) => string = ({ baseAmount, side, signerFee, pricing }) => {\n  // baseAmount always known.\n  // For a sell, baseAmount is signerAmount.\n  // For a buy, baseAmount is senderAmount.\n\n  if (side === \"sell\") {\n    const levels = pricing.bid;\n    if (!pricingIsLevels(levels)) {\n      throw new Error(\"formulaic pricing not yet supported\");\n    }\n    const signerAmount = new BigNumber(baseAmount)\n      .multipliedBy(1 - parseInt(signerFee) / 1000)\n      // .integerValue(BigNumber.ROUND_CEIL)\n      .toString();\n\n    // FIXME: this can throw if requested amount exceeds available.\n    const senderAmount = calculateCostFromLevels(\n      signerAmount.toString(),\n      levels\n    );\n\n    return senderAmount;\n  } else {\n    // buy order.\n    const levels = pricing.ask;\n    if (!pricingIsLevels(levels)) {\n      throw new Error(\"formulaic pricing not yet supported\");\n    }\n    const senderAmount = baseAmount;\n    // Fee comes out of signerAmount, so we need to add it to the quoteAmount\n    const signerAmount = new BigNumber(\n      calculateCostFromLevels(senderAmount, levels)\n    )\n      .multipliedBy(1 + parseInt(signerFee) / 1000)\n      // .integerValue(BigNumber.ROUND_FLOOR)\n      .toString();\n    return signerAmount;\n  }\n};\n","import BalanceChecker from \"@airswap/balances/build/contracts/BalanceChecker.json\";\nimport balancesDeploys from \"@airswap/balances/deploys.js\";\nimport { Light, Wrapper } from \"@airswap/libraries\";\n\nimport erc20Abi from \"erc-20-abi\";\nimport { BigNumber, ethers, EventFilter, Event, providers } from \"ethers\";\nimport { hexZeroPad, id } from \"ethers/lib/utils\";\n\ninterface SubscribeParams {\n  activeTokenAddresses: string[];\n  walletAddress: string;\n  spenderAddress: string;\n  provider: ethers.providers.Web3Provider;\n  onBalanceChange: (\n    tokenAddress: string,\n    amount: BigNumber,\n    direction: \"in\" | \"out\"\n  ) => void;\n  onApproval: (\n    tokenAddress: string,\n    spenderAddress: string,\n    amount: BigNumber\n  ) => void;\n}\n\ninterface WalletParams {\n  chainId: number;\n  provider: ethers.providers.Web3Provider;\n  walletAddress: string;\n  tokenAddresses: string[];\n}\n\nconst balancesInterface = new ethers.utils.Interface(\n  JSON.stringify(BalanceChecker.abi)\n);\n\nconst erc20Interface = new ethers.utils.Interface(erc20Abi);\n\nconst getContract = (\n  chainId: keyof typeof balancesDeploys,\n  provider: ethers.providers.Web3Provider\n) => {\n  return new ethers.Contract(\n    balancesDeploys[chainId],\n    balancesInterface,\n    provider as providers.Provider\n  );\n};\n\n/**\n * Fetches balances or allowances for a wallet using the airswap utility\n * contract `BalanceChecker.sol`. Balances are returned in base units.\n */\nconst fetchBalancesOrAllowances: (\n  method: \"walletBalances\" | \"walletAllowances\",\n  spenderAddressType: \"Wrapper\" | \"Light\" | \"None\",\n  params: WalletParams\n) => Promise<string[]> = async (\n  method,\n  spenderAddressType,\n  { chainId, provider, tokenAddresses, walletAddress }\n) => {\n  const contract = getContract(chainId, provider);\n  const args =\n    method === \"walletBalances\"\n      ? [walletAddress, tokenAddresses]\n      : spenderAddressType === \"Light\"\n      ? // sender, spender, tokens.\n        [walletAddress, Light.getAddress(chainId), tokenAddresses]\n      : [walletAddress, Wrapper.getAddress(chainId), tokenAddresses];\n  const amounts: BigNumber[] = await contract[method].apply(null, args);\n  return amounts.map((amount) => amount.toString());\n};\n\nconst fetchBalances = fetchBalancesOrAllowances.bind(\n  null,\n  \"walletBalances\",\n  \"None\"\n);\nconst fetchAllowancesLight = fetchBalancesOrAllowances.bind(\n  null,\n  \"walletAllowances\",\n  \"Light\"\n);\nconst fetchAllowancesWrapper = fetchBalancesOrAllowances.bind(\n  null,\n  \"walletAllowances\",\n  \"Wrapper\"\n);\n\n// event Transfer(address indexed _from, address indexed _to, uint256 _value)\n// event Approval(address indexed _owner, address indexed _spender, uint256 _value)\nlet subscribeToTransfersAndApprovals: (params: SubscribeParams) => () => void;\nsubscribeToTransfersAndApprovals = ({\n  activeTokenAddresses,\n  walletAddress,\n  provider,\n  onBalanceChange,\n  spenderAddress,\n  onApproval,\n}) => {\n  // event Transfer(address indexed _from, address indexed _to, uint256 _value)\n  const filters: {\n    in: EventFilter;\n    out: EventFilter;\n  } = {\n    // Tokens being transferred out of our account or approved by our account\n    out: {\n      topics: [\n        [\n          id(\"Transfer(address,address,uint256)\"),\n          id(\"Approval(address,address,uint256)\"),\n        ], // event name\n        hexZeroPad(walletAddress, 32), // from\n      ],\n    },\n\n    // Tokens being transferred in to our account\n    in: {\n      topics: [\n        id(\"Transfer(address,address,uint256)\"), // event name\n        [],\n        hexZeroPad(walletAddress, 32), // to\n      ],\n    },\n  };\n\n  const tearDowns: (() => void)[] = [];\n\n  Object.keys(filters).forEach((direction) => {\n    // in or out?\n    const typedDirection = direction as keyof typeof filters;\n    const filter = filters[typedDirection];\n\n    function listener(event: Event) {\n      const { address } = event;\n      const lowerCasedTokenAddress = address.toLowerCase();\n\n      // Ignore transactions for non-active tokens.\n      if (!activeTokenAddresses.includes(lowerCasedTokenAddress)) return;\n\n      const parsedEvent = erc20Interface.parseLog(event);\n      const isApproval = parsedEvent.name === \"Approval\";\n\n      // Ignore approvals for other spenders.\n      const approvalAddress = parsedEvent.args[1].toLowerCase();\n      const wrapperAddress = Wrapper.getAddress().toLowerCase();\n      if (\n        isApproval &&\n        approvalAddress !== spenderAddress.toLowerCase() &&\n        approvalAddress !== wrapperAddress\n      )\n        return;\n\n      const amount: BigNumber = parsedEvent.args[2];\n      isApproval\n        ? onApproval(lowerCasedTokenAddress, approvalAddress, amount)\n        : onBalanceChange(lowerCasedTokenAddress, amount, typedDirection);\n    }\n    provider.on(filter, listener);\n    tearDowns.push(provider.off.bind(provider, filter, listener));\n  });\n\n  return () => {\n    tearDowns.forEach((fn) => fn());\n  };\n};\n\nexport {\n  fetchBalances,\n  fetchAllowancesLight,\n  fetchAllowancesWrapper,\n  subscribeToTransfersAndApprovals,\n};\n","import { Pricing } from \"@airswap/types\";\nimport { createSlice, PayloadAction, createSelector } from \"@reduxjs/toolkit\";\n\nimport BigNumber from \"bignumber.js\";\n\nimport { RootState } from \"../../app/store\";\nimport {\n  clearTradeTerms,\n  selectTradeTerms,\n} from \"../tradeTerms/tradeTermsSlice\";\nimport { calculateQuoteAmount } from \"./pricingApi\";\n\nexport interface PricingState {\n  [locator: string]: Pricing[];\n}\n\ntype Pair = {\n  baseToken: string;\n  quoteToken: string;\n};\n\n// Initially empty\nconst initialState: PricingState = {};\n\nexport const pricingSlice = createSlice({\n  name: \"pricing\",\n  initialState,\n  reducers: {\n    updatePricing: (\n      state,\n      action: PayloadAction<{ locator: string; pricing: Pricing }>\n    ) => {\n      const { locator, pricing } = action.payload;\n      if (!state[locator]) {\n        state[locator] = [pricing];\n      } else {\n        const existingIndex = state[locator].findIndex(\n          (existingPricing) =>\n            existingPricing.baseToken === pricing.baseToken &&\n            existingPricing.quoteToken === pricing.quoteToken\n        );\n        if (existingIndex !== -1) {\n          state[locator][existingIndex] = pricing;\n        } else {\n          state[locator].push(pricing);\n        }\n      }\n    },\n    clearPricing: (\n      state,\n      action: PayloadAction<{ locator: string; pair: Pair }>\n    ) => {\n      const { locator, pair } = action.payload;\n      if (!state[locator]) return;\n      const i = state[locator].findIndex(\n        (existingPricing) =>\n          existingPricing.baseToken === pair.baseToken &&\n          existingPricing.quoteToken === pair.quoteToken\n      );\n      if (i === -1) return;\n      state[locator].splice(i, 1);\n    },\n  },\n  extraReducers: (builder) => {\n    builder.addCase(clearTradeTerms, () => initialState);\n  },\n});\n\nexport const { updatePricing, clearPricing } = pricingSlice.actions;\n\nconst selectPricing = (state: RootState) => state.pricing;\n\nexport const selectBestPricing = createSelector(\n  selectTradeTerms,\n  selectPricing,\n  (terms, pricing) => {\n    let bestQuoteAmount = new BigNumber(0);\n    let bestPricing: {\n      locator: string;\n      quoteAmount: string;\n    } | null = null;\n\n    const { quoteToken, baseToken, baseAmount: baseTokenAmount, side } = terms;\n\n    Object.keys(pricing).forEach((locator) => {\n      const locatorPricing = pricing[locator];\n      const relevantIndex = locatorPricing.findIndex(\n        (p) =>\n          p.quoteToken === quoteToken.address &&\n          p.baseToken === baseToken.address\n      );\n\n      if (relevantIndex === -1) return;\n      const relevantPricing: Pricing = locatorPricing[relevantIndex];\n\n      const quoteAmount = new BigNumber(\n        calculateQuoteAmount({\n          baseAmount: baseTokenAmount,\n          pricing: relevantPricing,\n          signerFee: \"7\",\n          side,\n        })\n      );\n\n      if (\n        (side === \"sell\" && quoteAmount.gt(bestQuoteAmount)) ||\n        (side === \"buy\" && quoteAmount.lt(bestQuoteAmount))\n      ) {\n        bestQuoteAmount = quoteAmount;\n        bestPricing = {\n          locator,\n          quoteAmount: quoteAmount.toString(),\n        };\n      }\n    });\n\n    return bestPricing;\n  }\n);\n\nexport default pricingSlice.reducer;\n","import { createContext, FC } from \"react\";\n\nimport { Server } from \"@airswap/libraries\";\n// TODO: type defs for this.\n// @ts-ignore\nimport lightDeploys from \"@airswap/light/deploys.js\";\nimport { Pricing, Levels } from \"@airswap/types\";\nimport { LightOrder } from \"@airswap/types\";\nimport { createLightOrder, createLightSignature } from \"@airswap/utils\";\nimport { useWeb3React } from \"@web3-react/core\";\n\nimport BigNumber from \"bignumber.js\";\n\nimport { useAppDispatch } from \"../../app/hooks\";\nimport { LAST_LOOK_ORDER_EXPIRY_SEC } from \"../../constants/configParams\";\nimport { updatePricing } from \"../../features/pricing/pricingSlice\";\nimport { TradeTerms } from \"../../features/tradeTerms/tradeTermsSlice\";\n\ntype Pair = {\n  baseToken: string;\n  quoteToken: string;\n};\n\nexport const LastLookContext = createContext<{\n  subscribeAllServers: (servers: Server[], pair: Pair) => Promise<Pricing>[];\n  unsubscribeAllServers: () => void;\n  sendOrderForConsideration: (params: {\n    locator: string;\n    terms: TradeTerms;\n    pricing: Levels;\n  }) => Promise<boolean>;\n}>({\n  subscribeAllServers(servers: Server[], pair: Pair): Promise<Pricing | any>[] {\n    return [];\n  },\n  unsubscribeAllServers: () => {},\n  sendOrderForConsideration: async () => {\n    return false;\n  },\n});\n\nconst LastLookProvider: FC = ({ children }) => {\n  const connectedServers: Record<string, Server> = {};\n  const { account, library, chainId } = useWeb3React();\n\n  const dispatch = useAppDispatch();\n\n  // TODO: check if these need to be memoized.\n\n  const subscribeAllServers = (servers: Server[], pair: Pair) => {\n    return servers.map(async (s) => {\n      return new Promise<Pricing>(async (resolve) => {\n        let server = s;\n        if (connectedServers[s.locator]) server = connectedServers[s.locator];\n        connectedServers[server.locator] = server;\n\n        const handlePricing = (pricing: Pricing[]) => {\n          const pairPricing = pricing.find(\n            (p) =>\n              p &&\n              p.baseToken === pair.baseToken &&\n              p.quoteToken === pair.quoteToken\n          );\n          if (pairPricing) {\n            resolve(pairPricing);\n            dispatch(\n              updatePricing({\n                locator: server.locator,\n                pricing: pairPricing,\n              })\n            );\n          } else {\n            console.warn(\n              `Didn't receive pricing for pair in update from ${server.locator}`\n            );\n          }\n        };\n\n        server.on(\"pricing\", handlePricing.bind(null));\n        server.on(\"error\", (e) => {\n          console.error(\n            `RPC WebSocket error: [${server.locator}]: ${e.code} - ${e.message}`,\n            e\n          );\n        });\n        const pricing = await server.subscribe([pair]);\n        handlePricing(pricing);\n      });\n    });\n  };\n\n  const unsubscribeAllServers = () => {\n    Object.keys(connectedServers).forEach((locator) => {\n      const server = connectedServers[locator];\n      server.removeAllListeners();\n      server.disconnect();\n      delete connectedServers[locator];\n    });\n  };\n\n  const sendOrderForConsideration = async (params: {\n    locator: string;\n    terms: TradeTerms;\n  }) => {\n    const { locator, terms } = params;\n\n    if (terms.quoteAmount === null)\n      throw new Error(\"No quote amount specified\");\n    const server = connectedServers[locator];\n\n    const isSell = terms.side === \"sell\";\n\n    const baseAmountAtomic = new BigNumber(terms.baseAmount)\n      .multipliedBy(10 ** terms.baseToken.decimals)\n      .integerValue(BigNumber.ROUND_CEIL)\n      .toString();\n    const quoteAmountAtomic = new BigNumber(terms.quoteAmount)\n      .multipliedBy(10 ** terms.quoteToken.decimals)\n      .integerValue(BigNumber.ROUND_FLOOR)\n      .toString();\n\n    const order = createLightOrder({\n      expiry: Math.floor(Date.now() / 1000 + LAST_LOOK_ORDER_EXPIRY_SEC),\n      nonce: Date.now().toString(),\n      senderWallet: server.getSenderWallet(),\n      signerWallet: account,\n      signerToken: terms.baseToken.address,\n      senderToken: terms.quoteToken.address,\n      signerFee: \"7\",\n      signerAmount: isSell ? baseAmountAtomic : quoteAmountAtomic,\n      senderAmount: !isSell ? baseAmountAtomic : quoteAmountAtomic,\n    });\n\n    // TODO: deal with rejection here (cancel signature request)\n    try {\n      const signature = await createLightSignature(\n        order,\n        library.getSigner(),\n        lightDeploys[chainId],\n        chainId!\n      );\n      const signedOrder: LightOrder = {\n        ...order,\n        ...signature,\n      };\n\n      return server.consider(signedOrder);\n    } catch (e) {\n      console.error(\"Error signing order\", e);\n      throw e;\n    }\n  };\n\n  return (\n    <LastLookContext.Provider\n      value={{\n        subscribeAllServers,\n        unsubscribeAllServers,\n        sendOrderForConsideration,\n      }}\n    >\n      {children}\n    </LastLookContext.Provider>\n  );\n};\n\nexport default LastLookProvider;\n","/**\n * Time in milliseconds before a quote expires that new quotes will be fetched.\n * This time should be sufficient for a user to take an order and have a\n * reasonable expectation that it will be mined within this buffer time.\n */\nexport const RFQ_EXPIRY_BUFFER_MS = 60 * 1000;\n\n/**\n * Time in seconds of last look order expiry duration\n */\nexport const LAST_LOOK_ORDER_EXPIRY_SEC = 2 * 60;\n\n/**\n * Time to wait for quotes before presenting \"no peers\" message.\n */\nexport const RECEIVE_QUOTE_TIMEOUT_MS = 10 * 60 * 1000;\n\n/**\n * Time to wait between receiving the first quote from a maker\n * to let other quotes come in from other makers before displaying\n * a price.\n */\nexport const ADDITIONAL_QUOTE_BUFFER = 2 * 60 * 1000;\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\n\nimport { RootState } from \"../../app/store\";\n\nexport interface WalletState {\n  connected: boolean;\n  address: string | null;\n  chainId: number | null;\n  providerName: string | null;\n}\n\nconst initialState: WalletState = {\n  connected: false,\n  address: null,\n  chainId: null,\n  providerName: null,\n};\n\nconst walletSlice = createSlice({\n  name: \"wallet\",\n  initialState,\n  reducers: {\n    setWalletConnected: (\n      state,\n      action: PayloadAction<{ address: string; chainId: number }>\n    ) => {\n      state.connected = true;\n      state.address = action.payload.address;\n      state.chainId = action.payload.chainId;\n    },\n    setWalletDisconnected: () => initialState,\n    setActiveProvider: (state, action: PayloadAction<string>) => {\n      state.providerName = action.payload;\n    },\n  },\n});\n\nexport const selectWallet = (state: RootState) => state.wallet;\n\nexport const {\n  setWalletConnected,\n  setWalletDisconnected,\n  setActiveProvider,\n} = walletSlice.actions;\n\nexport default walletSlice.reducer;\n","import {\n  AsyncThunk,\n  combineReducers,\n  createAction,\n  createAsyncThunk,\n  createSlice,\n  PayloadAction,\n} from \"@reduxjs/toolkit\";\n\nimport { BigNumber, ethers } from \"ethers\";\n\nimport { AppDispatch, RootState } from \"../../app/store\";\nimport { setWalletConnected } from \"../wallet/walletSlice\";\nimport {\n  fetchAllowancesLight,\n  fetchAllowancesWrapper,\n  fetchBalances,\n} from \"./balancesApi\";\n\nexport interface BalancesState {\n  status: \"idle\" | \"fetching\" | \"failed\";\n  /** Timestamp of last successful fetch */\n  lastFetch: number | null;\n  /** An array of token addresses currently being fetched. If there are two\n   * fetches in flight, this array will contain the list of addresses in the\n   * largest request.\n   */\n  inFlightFetchTokens: string[] | null; // used to prevent duplicate fetches\n  /** Token balances */\n  values: {\n    [tokenAddress: string]: string | null; // null while fetching\n  };\n}\n\n// Initially empty.\nexport const initialState: BalancesState = {\n  status: \"idle\",\n  lastFetch: null,\n  inFlightFetchTokens: null,\n  values: {},\n};\n\nconst getSetInFlightRequestTokensAction = (\n  type: \"balances\" | \"allowances.light\" | \"allowances.wrapper\"\n) => {\n  return createAction<string[]>(`${type}/setInFlightRequestTokens`);\n};\n\nconst getThunk: (\n  type: \"balances\" | \"allowances.light\" | \"allowances.wrapper\"\n) => AsyncThunk<\n  { address: string; amount: string }[],\n  {\n    provider: ethers.providers.Web3Provider;\n  },\n  {}\n> = (type: \"balances\" | \"allowances.light\" | \"allowances.wrapper\") => {\n  const methods = {\n    balances: fetchBalances,\n    \"allowances.light\": fetchAllowancesLight,\n    \"allowances.wrapper\": fetchAllowancesWrapper,\n  };\n  return createAsyncThunk<\n    { address: string; amount: string }[],\n    {\n      provider: ethers.providers.Web3Provider;\n    },\n    {\n      // Optional fields for defining thunkApi field types\n      dispatch: AppDispatch;\n      state: RootState;\n    }\n  >(\n    `${type}/requestForActiveTokens`,\n    async (params, { getState, dispatch }) => {\n      try {\n        const state = getState();\n        const activeTokensAddresses = [\n          ...state.metadata.tokens.active,\n          \"0x0000000000000000000000000000000000000000\",\n        ];\n        const { chainId, address } = state.wallet;\n        dispatch(\n          getSetInFlightRequestTokensAction(type)(activeTokensAddresses)\n        );\n        const amounts = await methods[type]({\n          ...params,\n          chainId: chainId!,\n          walletAddress: address!,\n          tokenAddresses: activeTokensAddresses,\n        });\n        return activeTokensAddresses.map((address, i) => ({\n          address,\n          amount: amounts[i],\n        }));\n      } catch (e: any) {\n        console.error(`Error fetching ${type}: ` + e.message);\n        // TODO: error handling\n        return [];\n      }\n    },\n    {\n      // Logic to prevent fetching again if we're already fetching the same or more tokens.\n      condition: (params, { getState }) => {\n        const pathParts = type.split(\".\");\n        const sliceState =\n          pathParts.length > 1\n            ? // @ts-ignore\n              getState()[pathParts[0]][pathParts[1]]\n            : // @ts-ignore\n              getState()[type];\n        // If we're not fetching, definitely continue\n        if (sliceState.status !== \"fetching\") return true;\n        if (sliceState.inFlightFetchTokens) {\n          const tokensToFetch = getState().metadata.tokens.active;\n          // only fetch if new list is larger.\n          return tokensToFetch.length > sliceState.inFlightFetchTokens.length;\n        }\n      },\n    }\n  );\n};\n\nconst getSlice = (\n  type: \"balances\" | \"allowances.light\" | \"allowances.wrapper\",\n  asyncThunk: ReturnType<typeof getThunk>\n) => {\n  return createSlice({\n    name: type,\n    initialState,\n    reducers: {\n      incrementBy: (\n        state,\n        action: PayloadAction<{ tokenAddress: string; amount: string }>\n      ) => {\n        const currentAmount = BigNumber.from(\n          state.values[action.payload.tokenAddress.toLowerCase()] || 0\n        );\n        state.values[\n          action.payload.tokenAddress.toLowerCase()\n        ] = currentAmount.add(action.payload.amount).toString();\n      },\n      decrementBy: (\n        state,\n        action: PayloadAction<{ tokenAddress: string; amount: string }>\n      ) => {\n        const currentAmount = BigNumber.from(\n          state.values[action.payload.tokenAddress.toLowerCase()] || 0\n        );\n        let newAmount = currentAmount.sub(action.payload.amount);\n        if (newAmount.lt(\"0\")) newAmount = BigNumber.from(\"0\");\n        state.values[\n          action.payload.tokenAddress.toLowerCase()\n        ] = newAmount.toString();\n      },\n      set: (\n        state,\n        action: PayloadAction<{ tokenAddress: string; amount: string }>\n      ) => {\n        state.values[action.payload.tokenAddress.toLowerCase()] =\n          action.payload.amount;\n      },\n    },\n    extraReducers: (builder) => {\n      builder\n        // Reset to initial state if a new account is connected.\n        .addCase(setWalletConnected, () => initialState)\n\n        // Handle requesting balances\n        .addCase(asyncThunk.pending, (state) => {\n          state.status = \"fetching\";\n        })\n        .addCase(getSetInFlightRequestTokensAction(type), (state, action) => {\n          state.inFlightFetchTokens = action.payload;\n        })\n        .addCase(asyncThunk.fulfilled, (state, action) => {\n          state.lastFetch = Date.now();\n          const tokenBalances = action.payload;\n\n          tokenBalances?.forEach(({ address, amount }) => {\n            state.values[address] = amount;\n          });\n\n          // Only clear fetching status if this request contained the largest\n          // list of tokens (which will be stored in inFlightFetchTokens)\n          if (\n            state.inFlightFetchTokens &&\n            tokenBalances.every(\n              (result, i) => state.inFlightFetchTokens![i] === result.address\n            )\n          ) {\n            state.inFlightFetchTokens = null;\n            state.status = \"idle\";\n          }\n        })\n        .addCase(asyncThunk.rejected, (state, action) => {\n          state.status = \"failed\";\n        });\n    },\n  });\n};\n\nexport const selectBalances = (state: RootState) => state.balances;\nexport const selectAllowances = (state: RootState) => state.allowances;\nexport const selectAllowancesLight = (state: RootState) =>\n  state.allowances.light;\nexport const selectAllowancesWrapper = (state: RootState) =>\n  state.allowances.wrapper;\n\nexport const requestActiveTokenBalances = getThunk(\"balances\");\nexport const requestActiveTokenAllowancesLight = getThunk(\"allowances.light\");\nexport const requestActiveTokenAllowancesWrapper = getThunk(\n  \"allowances.wrapper\"\n);\n\nexport const balancesSlice = getSlice(\"balances\", requestActiveTokenBalances);\nexport const allowancesLightSlice = getSlice(\n  \"allowances.light\",\n  requestActiveTokenAllowancesLight\n);\nexport const allowancesWrapperSlice = getSlice(\n  \"allowances.wrapper\",\n  requestActiveTokenAllowancesWrapper\n);\n\nexport const {\n  incrementBy: incrementBalanceBy,\n  decrementBy: decrementBalanceBy,\n  set: setBalance,\n} = balancesSlice.actions;\nexport const {\n  incrementBy: incrementAllowanceLightBy,\n  decrementBy: decreementAllowanceLightBy,\n  set: setAllowanceLight,\n} = allowancesLightSlice.actions;\nexport const {\n  incrementBy: incrementAllowanceWrapperBy,\n  decrementBy: decreementAllowanceWrapperBy,\n  set: setAllowanceWrapper,\n} = allowancesWrapperSlice.actions;\n\nexport const balancesActions = balancesSlice.actions;\nexport const allowancesLightActions = allowancesLightSlice.actions;\nexport const allowancesWrapperActions = allowancesWrapperSlice.actions;\n\nexport const balancesReducer = balancesSlice.reducer;\nexport const allowancesLightReducer = allowancesLightSlice.reducer;\nexport const allowancesWrapperReducer = allowancesWrapperSlice.reducer;\nexport const allowancesReducer = combineReducers({\n  light: allowancesLightReducer,\n  wrapper: allowancesWrapperReducer,\n});\n","import { fetchTokens, scrapeToken } from \"@airswap/metadata\";\nimport { TokenInfo } from \"@airswap/types\";\n\nimport { providers } from \"ethers\";\nimport uniqBy from \"lodash.uniqby\";\n\nconst tokensCache: {\n  [chainId: number]: TokenInfo[];\n} = {};\n\nexport const getActiveTokensLocalStorageKey: (\n  account: string,\n  chainId: number\n) => string = (account, chainId) =>\n  `airswap/activeTokens/${account}/${chainId}`;\n\nexport const getCachedMetadataLocalStorageKey = (chainId: number): string =>\n  `airswap/metadataCache/${chainId}`;\n\nexport const getAllTokens = async (chainId: number) => {\n  let tokens;\n  if (!tokensCache[chainId]) {\n    tokensCache[chainId] = (await fetchTokens(chainId)).tokens;\n    //TODO: handle failure here, need to decide what to do with errors\n  }\n  tokens = tokensCache[chainId];\n  return tokens;\n};\n\nexport const getUnknownTokens = async (\n  chainId: number,\n  supportedTokenAddresses: string[],\n  allTokens: TokenInfo[],\n  provider: providers.Provider\n): Promise<TokenInfo[]> => {\n  const storageKey = getCachedMetadataLocalStorageKey(chainId);\n  // Get a list of all token addresses from token lists\n  const uniqueTokenListAddresses = uniqBy(allTokens, (t) => t.address).map(\n    (t) => t.address\n  );\n\n  // Get any tokens we've previously manually looked up from cache\n  let localStorageTokens: TokenInfo[] = [];\n  const localStorageData = localStorage.getItem(storageKey);\n  if (localStorageData) {\n    try {\n      localStorageTokens = (JSON.parse(localStorageData) as TokenInfo[]).filter(\n        // This filter ensures we don't continue to store tokens that become\n        // unsupported or contained in token lists.\n        (t) =>\n          !uniqueTokenListAddresses.includes(t.address) &&\n          supportedTokenAddresses.includes(t.address)\n      );\n    } catch (e) {\n      localStorage.removeItem(storageKey);\n    }\n  }\n\n  const localStorageTokenAddresses = localStorageTokens.map((t) => t.address);\n  const knownTokens = uniqueTokenListAddresses.concat(\n    localStorageTokenAddresses\n  );\n\n  // Determine tokens we still don't know about.\n  const unknownTokens = supportedTokenAddresses.filter(\n    (supportedTokenAddr) => !knownTokens.includes(supportedTokenAddr)\n  );\n\n  let scrapedTokens: TokenInfo[] = [];\n  if (unknownTokens.length) {\n    // @ts-ignore provider type mismatch w/ metadata repo\n    const scrapePromises = unknownTokens.map((t) => scrapeToken(t, provider));\n    const results = await Promise.allSettled(scrapePromises);\n    scrapedTokens = results\n      .filter((r) => r.status === \"fulfilled\")\n      .map((r) => {\n        const tokenInfo = (r as PromiseFulfilledResult<TokenInfo>).value;\n        return {\n          ...tokenInfo,\n          address: tokenInfo.address.toLowerCase(),\n        };\n      });\n  }\n\n  localStorageTokens = localStorageTokens.concat(scrapedTokens);\n  localStorage.setItem(storageKey, JSON.stringify(localStorageTokens));\n\n  return localStorageTokens;\n};\n\nexport const getActiveTokensFromLocalStorage = (\n  account: string,\n  chainId: number\n) => {\n  const savedTokens = (\n    localStorage.getItem(getActiveTokensLocalStorageKey(account, chainId)) || \"\"\n  )\n    .split(\",\")\n    .filter((address) => address.length);\n  return (savedTokens.length && savedTokens) || [];\n};\n\nexport const getSavedActiveTokensInfo = async (\n  account: string,\n  chainId: number\n) => {\n  const tokens = await getAllTokens(chainId);\n  const activeTokens = getActiveTokensFromLocalStorage(account, chainId);\n  const matchingTokens = tokens.filter((tokenInfo) =>\n    activeTokens.includes(tokenInfo.address)\n  );\n  return uniqBy(matchingTokens, (token) => token.address);\n};\n\nexport const getTransactionsLocalStorageKey: (\n  walletAddress: string,\n  chainId: number\n) => string = (walletAddress, chainId) =>\n  `airswap/transactions/${walletAddress}/${chainId}`;\n","import * as RegistryContract from \"@airswap/registry/build/contracts/Registry.sol/Registry.json\";\nimport registryDeploys from \"@airswap/registry/deploys.js\";\n\nimport { providers, utils, Contract, Event } from \"ethers\";\n\nconst RegistryInterface = new utils.Interface(\n  JSON.stringify(RegistryContract.abi)\n);\n\nasync function getStakerTokens(chainId: number, provider: providers.Provider) {\n  const registryContract = new Contract(\n    registryDeploys[chainId],\n    RegistryInterface,\n    provider\n  );\n\n  const addTokensEventFilter = registryContract.filters.AddTokens();\n  const removeTokensEventFilter = registryContract.filters.RemoveTokens();\n\n  // Fetch all AddTokens and RemoveTokens events from the registry\n  const [addEvents, removeEvents] = await Promise.all([\n    registryContract.queryFilter(addTokensEventFilter),\n    registryContract.queryFilter(removeTokensEventFilter),\n  ]);\n\n  // Order matters here, so order AddTokens and RemoveTokens chronologically\n  const sortedEvents: Event[] = [...addEvents, ...removeEvents]\n    .filter((log) => !log.removed)\n    .sort((a, b) => {\n      // Sort by oldest first. If they're not in the same block, sort based\n      // on blocknumber\n      if (a.blockNumber !== b.blockNumber) return a.blockNumber - b.blockNumber;\n      // if in the same block, sort by the index of the log in the block\n      return a.logIndex - b.logIndex;\n    });\n\n  // Hold a list of tokens for each staker.\n  const stakerTokens: Record<string, string[]> = {};\n\n  sortedEvents.forEach((log) => {\n    if (!log.args) return;\n    // @ts-ignore (args are not typed)\n    const [staker, tokens] = log.args as [string, string[]];\n    const lowerCasedTokens = tokens.map((t) => t.toLowerCase());\n    if (log.event === \"AddTokens\") {\n      // Adding tokens\n      stakerTokens[staker] = (stakerTokens[staker] || []).concat(\n        lowerCasedTokens\n      );\n    } else {\n      // Removing tokens\n      stakerTokens[staker] = (stakerTokens[staker] || []).filter(\n        (token) => !lowerCasedTokens.includes(token)\n      );\n    }\n  });\n\n  return stakerTokens;\n}\n\nexport { getStakerTokens };\n","import { createAsyncThunk, createSlice, PayloadAction } from \"@reduxjs/toolkit\";\n\nimport { providers } from \"ethers\";\nimport uniqBy from \"lodash.uniqby\";\n\nimport { AppDispatch, RootState } from \"../../app/store\";\nimport { getActiveTokensFromLocalStorage } from \"../metadata/metadataApi\";\nimport {\n  setWalletConnected,\n  setWalletDisconnected,\n} from \"../wallet/walletSlice\";\nimport { getStakerTokens } from \"./registryApi\";\n\nexport interface RegistryState {\n  stakerTokens: Record<string, string[]>;\n  allSupportedTokens: string[];\n  status: \"idle\" | \"fetching\" | \"failed\";\n}\n\nconst initialState: RegistryState = {\n  stakerTokens: {},\n  allSupportedTokens: [],\n  status: \"idle\",\n};\n\nexport const fetchSupportedTokens = createAsyncThunk<\n  {\n    allSupportedTokens: string[];\n    stakerTokens: Record<string, string[]>;\n    activeTokens: string[];\n  },\n  {\n    provider: providers.Provider;\n  },\n  {\n    // Optional fields for defining thunkApi field types\n    dispatch: AppDispatch;\n    state: RootState;\n  }\n>(\"registry/fetchSupportedTokens\", async ({ provider }, { getState }) => {\n  const { wallet } = getState();\n  const stakerTokens = await getStakerTokens(wallet.chainId!, provider);\n  // Combine token lists from all makers and flatten them.\n  const allSupportedTokens = uniqBy(\n    Object.values(stakerTokens).flat(),\n    (i) => i\n  );\n  const activeTokensLocalStorage = getActiveTokensFromLocalStorage(\n    wallet.address!,\n    wallet.chainId!\n  );\n  const activeTokens =\n    (activeTokensLocalStorage.length && activeTokensLocalStorage) ||\n    allSupportedTokens ||\n    [];\n  return { stakerTokens, allSupportedTokens, activeTokens };\n});\n\nexport const registrySlice = createSlice({\n  name: \"registry\",\n  initialState,\n  reducers: {\n    setStakerTokens: (\n      state,\n      action: PayloadAction<Record<string, string[]>>\n    ) => {\n      state.stakerTokens = { ...action.payload };\n    },\n    setAllSupportedTokens: (state, action: PayloadAction<string[]>) => {\n      state.allSupportedTokens = [...action.payload];\n    },\n    reset: () => {\n      return { ...initialState };\n    },\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(fetchSupportedTokens.pending, (state) => {\n        state.status = \"fetching\";\n      })\n      .addCase(fetchSupportedTokens.fulfilled, (state, action) => {\n        state.status = \"idle\";\n        state.allSupportedTokens = [...action.payload.allSupportedTokens];\n        state.stakerTokens = { ...action.payload.stakerTokens };\n      })\n      .addCase(fetchSupportedTokens.rejected, (state) => {\n        state.status = \"failed\";\n      })\n      // Reset on wallet connect or disconnect\n      .addCase(setWalletConnected, () => initialState)\n      .addCase(setWalletDisconnected, () => initialState);\n  },\n});\n\nexport const {\n  setStakerTokens,\n  setAllSupportedTokens,\n  reset,\n} = registrySlice.actions;\nexport const selectAllSupportedTokens = (state: RootState) =>\n  state.registry.allSupportedTokens;\nexport default registrySlice.reducer;\n","import { fetchTokens } from \"@airswap/metadata\";\nimport { TokenInfo } from \"@airswap/types\";\nimport {\n  createAsyncThunk,\n  createSelector,\n  createSlice,\n  PayloadAction,\n} from \"@reduxjs/toolkit\";\n\nimport { providers } from \"ethers\";\n\nimport { AppDispatch, RootState } from \"../../app/store\";\nimport { fetchSupportedTokens } from \"../registry/registrySlice\";\nimport {\n  setWalletConnected,\n  setWalletDisconnected,\n} from \"../wallet/walletSlice\";\nimport {\n  getActiveTokensFromLocalStorage,\n  getUnknownTokens,\n} from \"./metadataApi\";\n\nexport interface MetadataState {\n  tokens: {\n    all: {\n      [address: string]: TokenInfo;\n    };\n    active: string[];\n  };\n}\n\nconst initialState: MetadataState = {\n  tokens: {\n    all: {},\n    active: [],\n  },\n};\n\nexport const fetchAllTokens = createAsyncThunk<\n  TokenInfo[], // Return type\n  void, // First argument\n  {\n    // thunkApi\n    dispatch: AppDispatch;\n    state: RootState;\n  }\n>(\"metadata/fetchTokens\", async (_, thunkApi) => {\n  const { wallet } = thunkApi.getState();\n  if (!wallet.connected) return [];\n  return (await fetchTokens(wallet.chainId!)).tokens;\n});\n\nexport const fetchUnkownTokens = createAsyncThunk<\n  TokenInfo[], // Return type\n  {\n    // First argument\n    provider: providers.Provider;\n  },\n  {\n    // thunkApi\n    dispatch: AppDispatch;\n    state: RootState;\n  }\n>(\"metadata/fetchUnknownTokens\", async ({ provider }, thunkApi) => {\n  const { registry, metadata, wallet } = thunkApi.getState();\n  if (wallet.chainId === null) return [];\n  return await getUnknownTokens(\n    wallet.chainId,\n    registry.allSupportedTokens,\n    Object.values(metadata.tokens.all),\n    provider\n  );\n});\n\nexport const metadataSlice = createSlice({\n  name: \"metadata\",\n  initialState,\n  reducers: {\n    addActiveToken: (state, action: PayloadAction<string>) => {\n      const lowerCasedToken = action.payload.trim().toLowerCase();\n      if (!state.tokens.active.includes(lowerCasedToken)) {\n        state.tokens.active.push(lowerCasedToken);\n      }\n    },\n    removeActiveToken: (state, action: PayloadAction<string>) => {\n      if (state.tokens.active.includes(action.payload)) {\n        state.tokens.active = state.tokens.active.filter(\n          (tokenAddress) => tokenAddress !== action.payload\n        );\n      }\n    },\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(fetchAllTokens.pending, (state) => {\n        // TODO: consider whether we need to put a pending state to prevent dupes\n      })\n      .addCase(fetchAllTokens.fulfilled, (state, action) => {\n        const { payload: tokenInfo } = action;\n        state.tokens.all = tokenInfo.reduce(\n          (allTokens: { [address: string]: TokenInfo }, token) => {\n            const { address } = token;\n            if (!allTokens[address]) {\n              allTokens[address] = { ...token };\n            }\n            return allTokens;\n          },\n          {}\n        );\n      })\n      .addCase(fetchAllTokens.rejected, (state) => {\n        // TODO: handle failure?\n        // perhaps rejected state can be for when errors.length === known.length ?\n      })\n      .addCase(fetchSupportedTokens.fulfilled, (state, action) => {\n        if (!state.tokens.active?.length)\n          state.tokens.active = action.payload.activeTokens || [];\n      })\n      .addCase(fetchUnkownTokens.fulfilled, (state, action) => {\n        action.payload.forEach((token) => {\n          state.tokens.all[token.address] = token;\n        });\n      })\n      .addCase(setWalletConnected, (state, action) => {\n        const { chainId, address } = action.payload;\n        state.tokens.active =\n          getActiveTokensFromLocalStorage(address, chainId) || [];\n      })\n      .addCase(setWalletDisconnected, (state) => {\n        state.tokens.active = [];\n      });\n  },\n});\n\nexport const { addActiveToken, removeActiveToken } = metadataSlice.actions;\n\nconst selectActiveTokenAddresses = (state: RootState) =>\n  state.metadata.tokens.active;\nexport const selectAllTokenInfo = (state: RootState) =>\n  Object.values(state.metadata.tokens.all);\nexport const selectActiveTokens = createSelector(\n  [selectActiveTokenAddresses, selectAllTokenInfo],\n  (activeTokenAddresses, allTokenInfo) => {\n    return Object.values(allTokenInfo).filter((tokenInfo) =>\n      activeTokenAddresses.includes(tokenInfo.address)\n    );\n  }\n);\n\nexport default metadataSlice.reducer;\n","import { findTokenByAddress } from \"@airswap/metadata\";\nimport { TokenInfo } from \"@uniswap/token-lists\";\n\nimport nativeETH from \"../constants/nativeETH\";\n\nexport default function findEthOrTokenByAddress(\n  tokenAddress: string,\n  activeTokens: TokenInfo[],\n  chainId: number\n) {\n  return tokenAddress === \"0x0000000000000000000000000000000000000000\"\n    ? nativeETH[chainId!]\n    : findTokenByAddress(tokenAddress, activeTokens);\n}\n","import styled, {\n  DefaultTheme,\n  ThemedStyledFunction,\n  css,\n} from \"styled-components/macro\";\n\nconst elementMap: Record<\n  keyof DefaultTheme[\"typography\"],\n  keyof JSX.IntrinsicElements\n> = {\n  title1: \"h1\",\n  title2: \"h2\",\n  title3: \"h3\",\n  title4: \"h4\",\n  subtitle: \"h5\",\n  paragraph: \"p\",\n  infoHeading: \"h4\",\n  infoSubHeading: \"h4\",\n  formLabel: \"label\",\n  formInput: \"input\",\n  selectItem: \"div\",\n  link: \"a\",\n  nav: \"div\",\n  small: \"aside\",\n};\n\n/**\n * Creates a styled typography component for the key in `theme.typography`.\n * Element tag is defined above, and additional CSS can be added for properties\n * that are not common to all typography components.\n * @param key The key from `theme.typography` for typography params\n * @param additionalCSS Any additional CSS not included in `theme.typography.key`\n *                      to add, e.g. text-transform. Use `css` utility from\n *                      styled components to add it.\n * @returns A styled component with the correct typography styles appleid.\n */\nconst makeTypographyComponent = (\n  key: keyof DefaultTheme[\"typography\"],\n  additionalCSS?: any\n) => {\n  const tag = elementMap[key];\n  const Component = (styled[tag] as ThemedStyledFunction<\n    typeof tag,\n    DefaultTheme,\n    {},\n    never\n  >)`\n    font-size: ${(props) => props.theme.typography[key].fontSize};\n    font-weight: ${(props) => props.theme.typography[key].fontWeight};\n    line-height: ${(props) => props.theme.typography[key].lineHeight};\n    ${additionalCSS ? additionalCSS : \"\"}\n  `;\n  return Component;\n};\n\nexport const StyledH1 = makeTypographyComponent(\n  \"title1\",\n  css`\n    color: ${(props) =>\n      props.theme.name === \"dark\"\n        ? props.theme.colors.white\n        : props.theme.colors.alwaysBlack};\n  `\n);\nexport const StyledH2 = makeTypographyComponent(\n  \"title2\",\n  css`\n    color: ${(props) =>\n      props.theme.name === \"dark\"\n        ? props.theme.colors.white\n        : props.theme.colors.primary};\n  `\n);\nexport const StyledH3 = makeTypographyComponent(\"title3\");\nexport const StyledH4 = makeTypographyComponent(\"title4\");\nexport const StyledSubtitle = makeTypographyComponent(\n  \"subtitle\",\n  css`\n    text-transform: uppercase;\n  `\n);\nexport const StyledParagraph = makeTypographyComponent(\n  \"paragraph\",\n  css`\n    color: ${(props) =>\n      props.theme.name === \"dark\"\n        ? props.theme.colors.white\n        : props.theme.colors.grey};\n  `\n);\nexport const StyledLink = makeTypographyComponent(\n  \"link\",\n  css`\n    text-transform: uppercase;\n    text-decoration: underline;\n  `\n);\nexport const StyledNavigation = makeTypographyComponent(\"nav\");\nexport const StyledInfoHeading = makeTypographyComponent(\"infoHeading\");\nexport const StyledInfoSubHeading = makeTypographyComponent(\n  \"infoSubHeading\",\n  css`\n    color: ${(props) => props.theme.colors.lightGrey};\n  `\n);\nexport const StyledFormLabel = makeTypographyComponent(\n  \"formLabel\",\n  css`\n    color: ${(props) => props.theme.colors.lightGrey};\n  `\n);\nexport const StyledFormInput = makeTypographyComponent(\n  \"formInput\",\n  css`\n    color: ${(props) =>\n      props.theme.name === \"dark\"\n        ? props.theme.colors.white\n        : props.theme.colors.primary};\n    background-color: transparent;\n    border: none;\n    &::placeholder {\n      color: ${(props) => props.theme.colors.placeholderGrey};\n    }\n  `\n);\nexport const StyledSelectItem = makeTypographyComponent(\"selectItem\");\nexport const StyledMetadata = makeTypographyComponent(\n  \"small\",\n  css`\n    color: ${(props) => props.theme.colors.lightGrey};\n  `\n);\n","import React, { FC, ReactElement } from \"react\";\n\nimport { StyledH1, StyledH2, StyledH3, StyledH4 } from \"./Typography.styles\";\n\ntype TitleType = \"h1\" | \"h2\" | \"h3\" | \"h4\";\n\nexport type TitleProps = {\n  children: React.ReactNode;\n  className?: string;\n  type: TitleType;\n};\n\nconst titles: Record<TitleType, FC<{ className?: string }>> = {\n  h1: StyledH1,\n  h2: StyledH2,\n  h3: StyledH3,\n  h4: StyledH4,\n};\n\nexport const Title: FC<TitleProps> = ({\n  className,\n  children,\n  type,\n}): ReactElement => {\n  const StyledTitle = titles[type];\n\n  return <StyledTitle className={className}>{children}</StyledTitle>;\n};\n\nexport {\n  StyledSubtitle as Subtitle,\n  StyledParagraph as Paragraph,\n  StyledInfoHeading as InfoHeading,\n  StyledInfoSubHeading as InfoSubHeading,\n  StyledFormLabel as FormLabel,\n  StyledFormInput as FormInput,\n  StyledSelectItem as SelectItem,\n  StyledLink as Link,\n  StyledNavigation as Navigation,\n  StyledMetadata as Metadata,\n} from \"./Typography.styles\";\n","import styled from \"styled-components/macro\";\n\n// Notice we are overriding background-color with !important\n// this is necessary to override built-in styling of toasts\nexport const Container = styled.div`\n  display: grid;\n  grid-template-columns: 2.5rem auto 2.5rem;\n  grid-gap: 1rem;\n  align-items: center;\n  width: 22.5rem;\n  border-radius: 0.5rem;\n  padding: 0.625rem;\n  color: ${(props) => props.theme.colors.white};\n  background: ${(props) => props.theme.colors.darkGrey} !important;\n`;\n\ntype IconContainerProps = {\n  error?: boolean;\n};\n\n// Notice we are overriding background and border-radius with !important\n// this is necessary to override built-in styling of toasts\nexport const IconContainer = styled.div<IconContainerProps>`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 2.5rem;\n  height: 2.5rem;\n  background: ${(props) =>\n    props.error ? \"rgba(255,0,0,0.17)\" : \"rgba(96,255,102,0.1)\"} !important;\n  border-radius: 50% !important;\n  color: white;\n  color: ${(props) => (props.error ? \"#FF0000\" : \"#60FF66\")};\n`;\n\nexport const HiXContainer = styled.button`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n`;\n\nexport const TextContainer = styled.div`\n  display: block;\n`;\n","import { FC } from \"react\";\nimport { HiX } from \"react-icons/hi\";\nimport { MdError } from \"react-icons/md\";\n\nimport { InfoHeading, InfoSubHeading } from \"../Typography/Typography\";\nimport {\n  Container,\n  IconContainer,\n  HiXContainer,\n  TextContainer,\n} from \"./Toast.styles\";\n\nexport type ErrorToastProps = {\n  /**\n   * Function to trigger closing of toast\n   */\n  onClose: () => void;\n  heading: string;\n  cta: string;\n};\n\nconst ErrorToast: FC<ErrorToastProps> = ({ onClose, heading, cta }) => {\n  return (\n    <Container>\n      <IconContainer error={true}>\n        <MdError style={{ width: \"1.25rem\", height: \"1.25rem\" }} />\n      </IconContainer>\n      <TextContainer>\n        <InfoHeading>{heading}</InfoHeading>\n        <InfoSubHeading>{cta}</InfoSubHeading>\n      </TextContainer>\n      <HiXContainer>\n        <HiX\n          style={{\n            width: \"1rem\",\n            height: \"1rem\",\n            cursor: \"pointer\",\n          }}\n          onClick={onClose}\n        />\n      </HiXContainer>\n    </Container>\n  );\n};\n\nexport default ErrorToast;\n","import { useTranslation } from \"react-i18next\";\nimport { HiX } from \"react-icons/hi\";\nimport { MdBeenhere, MdError } from \"react-icons/md\";\n\nimport { TokenInfo } from \"@airswap/types\";\n\nimport { formatUnits } from \"ethers/lib/utils\";\n\nimport {\n  SubmittedOrder,\n  SubmittedTransaction,\n  TransactionType,\n} from \"../../features/transactions/transactionsSlice\";\nimport { InfoHeading, InfoSubHeading } from \"../Typography/Typography\";\nimport {\n  Container,\n  HiXContainer,\n  IconContainer,\n  TextContainer,\n} from \"./Toast.styles\";\n\nexport type TransactionToastProps = {\n  /**\n   * Function to trigger closing of toast\n   */\n  onClose: () => void;\n  /**\n   * Error affects whether the icon colors show up as blue or red;\n   */\n  error: boolean;\n  /**\n   * The parent object of SubmittedOrder and SubmittedApproval\n   */\n  transaction: SubmittedTransaction;\n  /**\n   * Type of transaction the toast will display;\n   */\n  type: TransactionType;\n  /**\n   * Token Info of sender token\n   */\n  senderToken?: TokenInfo;\n  /**\n   * Token Info of signer token\n   */\n  signerToken?: TokenInfo;\n  /**\n   * Token Info of approval token\n   */\n  approvalToken?: TokenInfo;\n};\n\nconst TransactionToast = ({\n  onClose,\n  error,\n  transaction,\n  type,\n  senderToken,\n  signerToken,\n  approvalToken,\n}: TransactionToastProps) => {\n  const { t } = useTranslation([\"toast\"]);\n\n  return (\n    <Container>\n      <IconContainer error={error}>\n        {error ? (\n          <MdError style={{ width: \"1.25rem\", height: \"1.25rem\" }} />\n        ) : (\n          <MdBeenhere style={{ width: \"1.25rem\", height: \"1.25rem\" }} />\n        )}\n      </IconContainer>\n      <TextContainer>\n        <InfoHeading>\n          {type === \"Order\" || type === \"Deposit\" || type === \"Withdraw\"\n            ? error\n              ? t(\"toast:swapFail\")\n              : t(\"toast:swapComplete\")\n            : error\n            ? t(\"toast:approvalFail\")\n            : t(\"toast:approvalComplete\")}\n        </InfoHeading>\n        <InfoSubHeading>\n          {type === \"Order\" || type === \"Deposit\" || type === \"Withdraw\"\n            ? transaction && senderToken && signerToken\n              ? t(\"toast:transaction\", {\n                  senderAmount: parseFloat(\n                    Number(\n                      formatUnits(\n                        (transaction as SubmittedOrder).order.senderAmount,\n                        senderToken.decimals\n                      )\n                    ).toFixed(5)\n                  ),\n                  senderToken: senderToken.symbol,\n                  signerAmount: parseFloat(\n                    Number(\n                      formatUnits(\n                        (transaction as SubmittedOrder).order.signerAmount,\n                        signerToken.decimals\n                      )\n                    ).toFixed(5)\n                  ),\n                  signerToken: signerToken.symbol,\n                })\n              : null\n            : t(\"toast:approve\", { symbol: approvalToken?.symbol })}\n        </InfoSubHeading>\n      </TextContainer>\n      <HiXContainer>\n        <HiX\n          style={{\n            width: \"1rem\",\n            height: \"1rem\",\n            cursor: \"pointer\",\n          }}\n          onClick={onClose}\n        />\n      </HiXContainer>\n    </Container>\n  );\n};\n\nexport default TransactionToast;\n","import toast from \"react-hot-toast\";\n\nimport { findTokenByAddress } from \"@airswap/metadata\";\nimport { TokenInfo } from \"@airswap/types\";\n\nimport {\n  SubmittedApproval,\n  SubmittedDepositOrder,\n  SubmittedOrder,\n  SubmittedWithdrawOrder,\n  TransactionType,\n} from \"../../features/transactions/transactionsSlice\";\nimport findEthOrTokenByAddress from \"../../helpers/findEthOrTokenByAddress\";\nimport ErrorToast from \"./ErrorToast\";\nimport TransactionToast from \"./TransactionToast\";\n\nexport const notifyTransaction = (\n  type: TransactionType,\n  transaction:\n    | SubmittedOrder\n    | SubmittedApproval\n    | SubmittedDepositOrder\n    | SubmittedWithdrawOrder,\n  tokens: TokenInfo[],\n  error: boolean,\n  chainId?: number\n) => {\n  let token: TokenInfo;\n  // TODO: make a switch case to render a different toast for each case\n  if (\n    (type === \"Order\" || type === \"Deposit\" || type === \"Withdraw\") &&\n    chainId\n  ) {\n    const tx: SubmittedOrder = transaction as SubmittedOrder;\n    const senderToken = findEthOrTokenByAddress(\n      tx.order.senderToken,\n      tokens,\n      chainId\n    );\n    const signerToken = findEthOrTokenByAddress(\n      tx.order.signerToken,\n      tokens,\n      chainId\n    );\n    toast(\n      (t) => (\n        <TransactionToast\n          onClose={() => toast.dismiss(t.id)}\n          type={type}\n          transaction={transaction}\n          senderToken={senderToken}\n          signerToken={signerToken}\n          error={error}\n        />\n      ),\n      {\n        duration: 15000,\n      }\n    );\n  } else {\n    const tx: SubmittedApproval = transaction as SubmittedApproval;\n    token = findTokenByAddress(tx.tokenAddress, tokens);\n    toast(\n      (t) => (\n        <TransactionToast\n          onClose={() => toast.dismiss(t.id)}\n          type={type}\n          transaction={transaction}\n          approvalToken={token}\n          error={error}\n        />\n      ),\n      {\n        duration: 15000,\n      }\n    );\n  }\n};\n\nexport const notifyError = (props: { heading: string; cta: string }) => {\n  toast(\n    (t) => (\n      <ErrorToast\n        onClose={() => toast.dismiss(t.id)}\n        heading={props.heading}\n        cta={props.cta}\n      />\n    ),\n    {\n      duration: 15000,\n    }\n  );\n};\n","import { createAction } from \"@reduxjs/toolkit\";\n\nimport { SubmittedTransaction, SubmittedApproval } from \"./transactionsSlice\";\n\nconst submitTransaction = createAction<\n  SubmittedTransaction | SubmittedApproval\n>(\"transaction/submitTransaction\");\n\nconst declineTransaction = createAction<{\n  hash: string;\n  reason: string;\n}>(\"transactions/declineTransaction\");\n\nconst mineTransaction = createAction<string>(\"transaction/mineTransaction\");\n\nconst revertTransaction = createAction<{\n  hash: string;\n  reason: string;\n}>(\"transactions/revertTransaction\");\n\nexport {\n  submitTransaction,\n  declineTransaction,\n  mineTransaction,\n  revertTransaction,\n};\n","import * as WETHContract from \"@airswap/balances/build/contracts/WETH9.json\";\nimport { wethAddresses } from \"@airswap/constants\";\nimport { Light, Server, Wrapper } from \"@airswap/libraries\";\nimport { LightOrder } from \"@airswap/types\";\nimport { toAtomicString } from \"@airswap/utils\";\n\nimport erc20Abi from \"erc-20-abi\";\nimport {\n  BigNumber,\n  ethers,\n  Transaction,\n  Contract,\n  utils,\n  constants,\n  providers,\n} from \"ethers\";\n\nconst REQUEST_ORDER_TIMEOUT_MS = 5000;\n\nconst erc20Interface = new ethers.utils.Interface(erc20Abi);\n\nconst WETHInterface = new utils.Interface(JSON.stringify(WETHContract.abi));\n\nasync function swapLight(\n  chainId: number,\n  provider: ethers.providers.Web3Provider,\n  order: LightOrder\n) {\n  // @ts-ignore TODO: type compatability issue with AirSwap lib\n  return await new Light(chainId, provider).swap(\n    order,\n    // @ts-ignore\n    provider.getSigner()\n  );\n}\n\nasync function swapWrapper(\n  chainId: number,\n  provider: ethers.providers.Web3Provider,\n  order: LightOrder\n) {\n  // @ts-ignore TODO: type compatability issue with AirSwap lib\n  return await new Wrapper(chainId, provider).swap(\n    order,\n    // @ts-ignore\n    provider.getSigner()\n  );\n}\n\nexport async function requestOrders(\n  servers: Server[],\n  quoteToken: string,\n  baseToken: string,\n  baseTokenAmount: string,\n  baseTokenDecimals: number,\n  senderWallet: string\n): Promise<LightOrder[]> {\n  if (!servers.length) {\n    throw new Error(\"no counterparties\");\n  }\n  const rfqOrderPromises = servers.map(async (server) => {\n    const order = await Promise.race([\n      server.getSignerSideOrder(\n        toAtomicString(baseTokenAmount, baseTokenDecimals),\n        quoteToken,\n        baseToken,\n        senderWallet\n      ),\n      // Servers should respond in a timely manner for orders to be considered\n      new Promise((resolve, reject) =>\n        setTimeout(() => {\n          reject(\"ETIMEDOUT\");\n        }, REQUEST_ORDER_TIMEOUT_MS)\n      ),\n    ]);\n    return (order as any) as LightOrder;\n  });\n  const rfqOrders = await Promise.allSettled(rfqOrderPromises);\n  const successfulRfqOrders = rfqOrders\n    .filter((result) => result.status === \"fulfilled\")\n    .map((result) => (result as PromiseFulfilledResult<LightOrder>).value);\n  return successfulRfqOrders;\n}\n\nexport async function approveToken(\n  baseToken: string,\n  provider: ethers.providers.Web3Provider,\n  contractType: \"Light\" | \"Wrapper\"\n) {\n  const spender =\n    contractType === \"Light\"\n      ? Light.getAddress(provider.network.chainId)\n      : Wrapper.getAddress(provider.network.chainId);\n  const erc20Contract = new ethers.Contract(\n    baseToken,\n    erc20Interface,\n    // @ts-ignore\n    provider.getSigner()\n  );\n  const approvalTxHash = await erc20Contract.approve(\n    spender,\n    constants.MaxUint256\n  );\n  return (approvalTxHash as any) as Transaction;\n}\n\nexport async function takeOrder(\n  order: LightOrder,\n  provider: ethers.providers.Web3Provider,\n  contractType: \"Light\" | \"Wrapper\"\n) {\n  const tx =\n    contractType === \"Light\"\n      ? await swapLight(provider.network.chainId, provider, order)\n      : await swapWrapper(provider.network.chainId, provider, order);\n\n  return (tx as any) as Transaction;\n}\n\nexport function orderSortingFunction(a: LightOrder, b: LightOrder) {\n  // If tokens transferred are the same\n  if (a.signerAmount === b.signerAmount && a.senderAmount === b.senderAmount) {\n    return parseInt(b.expiry) - parseInt(a.expiry);\n  }\n  if (a.signerAmount === b.signerAmount) {\n    // Likely senderSide\n    // Sort orders by amount of senderToken sent (ascending).\n    const aAmount = BigNumber.from(a.senderAmount);\n    const bAmount = BigNumber.from(b.senderAmount);\n    if (bAmount.lt(aAmount)) return 1;\n    else return -1;\n  } else {\n    // Likely signerSide\n    // Sort orders by amount of signerToken received (descending).\n    const aAmount = BigNumber.from(a.signerAmount);\n    const bAmount = BigNumber.from(b.signerAmount);\n    if (bAmount.gt(aAmount)) return 1;\n    else return -1;\n  }\n}\n\nexport async function depositETH(\n  chainId: number,\n  senderAmount: string,\n  senderTokenDecimals: number,\n  provider: ethers.providers.Web3Provider\n) {\n  const WETHContract = new Contract(\n    wethAddresses[chainId],\n    WETHInterface,\n    provider as providers.Provider\n  );\n  const signer = WETHContract.connect(provider.getSigner() as ethers.Signer);\n  const tx = await signer.deposit({\n    value: toAtomicString(senderAmount, senderTokenDecimals),\n  });\n  return (tx as any) as Transaction;\n}\n\nexport async function withdrawETH(\n  chainId: number,\n  senderAmount: string,\n  senderTokenDecimals: number,\n  provider: ethers.providers.Web3Provider\n) {\n  const WETHContract = new Contract(\n    wethAddresses[chainId],\n    WETHInterface,\n    // @ts-ignore\n    provider\n  );\n  // @ts-ignore\n  const signer = WETHContract.connect(provider.getSigner());\n  const tx = await signer.withdraw(\n    toAtomicString(senderAmount, senderTokenDecimals)\n  );\n  return (tx as any) as Transaction;\n}\n","import { wethAddresses } from \"@airswap/constants\";\nimport { Server } from \"@airswap/libraries\";\nimport { LightOrder, Levels } from \"@airswap/types\";\nimport { toAtomicString } from \"@airswap/utils\";\nimport {\n  createAsyncThunk,\n  createSlice,\n  createSelector,\n  PayloadAction,\n} from \"@reduxjs/toolkit\";\n\nimport BigNumber from \"bignumber.js\";\nimport { Transaction } from \"ethers\";\n\nimport { AppDispatch, RootState } from \"../../app/store\";\nimport { notifyTransaction } from \"../../components/Toasts/ToastController\";\nimport { RFQ_EXPIRY_BUFFER_MS } from \"../../constants/configParams\";\nimport nativeETH from \"../../constants/nativeETH\";\nimport {\n  allowancesLightActions,\n  allowancesWrapperActions,\n} from \"../balances/balancesSlice\";\nimport { selectBestPricing } from \"../pricing/pricingSlice\";\nimport { selectTradeTerms } from \"../tradeTerms/tradeTermsSlice\";\nimport {\n  submitTransaction,\n  mineTransaction,\n  revertTransaction,\n  declineTransaction,\n} from \"../transactions/transactionActions\";\nimport {\n  SubmittedOrder,\n  SubmittedApproval,\n  SubmittedWithdrawOrder,\n  SubmittedDepositOrder,\n} from \"../transactions/transactionsSlice\";\nimport {\n  setWalletConnected,\n  setWalletDisconnected,\n} from \"../wallet/walletSlice\";\nimport {\n  requestOrders,\n  takeOrder,\n  approveToken,\n  orderSortingFunction,\n  depositETH,\n  withdrawETH,\n} from \"./orderApi\";\n\nexport interface OrdersState {\n  orders: LightOrder[];\n  status: \"idle\" | \"requesting\" | \"approving\" | \"taking\" | \"failed\";\n  reRequestTimerId: number | null;\n}\n\nconst initialState: OrdersState = {\n  orders: [],\n  status: \"idle\",\n  reRequestTimerId: null,\n};\n\nconst APPROVE_AMOUNT = \"90071992547409910000000000\";\n\n// replaces WETH to ETH on Wrapper orders\nconst refactorOrder = (order: LightOrder, chainId: number) => {\n  let newOrder = { ...order };\n  if (order.senderToken === wethAddresses[chainId]) {\n    newOrder.senderToken = nativeETH[chainId].address;\n  } else if (order.signerToken === wethAddresses[chainId]) {\n    newOrder.signerToken = nativeETH[chainId].address;\n  }\n  return newOrder;\n};\n\nexport const deposit = createAsyncThunk(\n  \"orders/deposit\",\n  async (\n    params: {\n      chainId: number;\n      senderAmount: string;\n      senderTokenDecimals: number;\n      provider: any;\n    },\n    { getState, dispatch }\n  ) => {\n    let tx: Transaction;\n    try {\n      tx = await depositETH(\n        params.chainId,\n        params.senderAmount,\n        params.senderTokenDecimals,\n        params.provider\n      );\n      if (tx.hash) {\n        const senderAmount = toAtomicString(\n          params.senderAmount,\n          params.senderTokenDecimals\n        );\n        // Since this is a Deposit, senderAmount === signerAmount\n        const transaction: SubmittedDepositOrder = {\n          type: \"Deposit\",\n          order: {\n            signerToken: wethAddresses[params.chainId],\n            signerAmount: senderAmount,\n            senderToken: nativeETH[params.chainId].address,\n            senderAmount: senderAmount,\n          },\n          hash: tx.hash,\n          status: \"processing\",\n          timestamp: Date.now(),\n        };\n        dispatch(submitTransaction(transaction));\n        params.provider.once(tx.hash, async () => {\n          const receipt = await params.provider.getTransactionReceipt(tx.hash);\n          const state: RootState = getState() as RootState;\n          const tokens = Object.values(state.metadata.tokens.all);\n          if (receipt.status === 1) {\n            dispatch(mineTransaction(receipt.transactionHash));\n            notifyTransaction(\n              \"Deposit\",\n              transaction,\n              tokens,\n              false,\n              params.chainId\n            );\n          } else {\n            dispatch(revertTransaction(receipt.transactionHash));\n            notifyTransaction(\n              \"Deposit\",\n              transaction,\n              tokens,\n              true,\n              params.chainId\n            );\n          }\n        });\n      }\n    } catch (e: any) {\n      console.error(e);\n      dispatch(declineTransaction(e.message));\n      throw e;\n    }\n  }\n);\n\nexport const withdraw = createAsyncThunk(\n  \"orders/withdraw\",\n  async (\n    params: {\n      chainId: number;\n      senderAmount: string;\n      senderTokenDecimals: number;\n      provider: any;\n    },\n    { getState, dispatch }\n  ) => {\n    let tx: Transaction;\n    try {\n      tx = await withdrawETH(\n        params.chainId,\n        params.senderAmount,\n        params.senderTokenDecimals,\n        params.provider\n      );\n      if (tx.hash) {\n        const transaction: SubmittedWithdrawOrder = {\n          type: \"Withdraw\",\n          order: {\n            signerToken: nativeETH[params.chainId].address,\n            signerAmount: toAtomicString(\n              params.senderAmount,\n              params.senderTokenDecimals\n            ),\n            senderToken: wethAddresses[params.chainId],\n            senderAmount: toAtomicString(\n              params.senderAmount,\n              params.senderTokenDecimals\n            ),\n          },\n          hash: tx.hash,\n          status: \"processing\",\n          timestamp: Date.now(),\n        };\n        dispatch(submitTransaction(transaction));\n        params.provider.once(tx.hash, async () => {\n          const receipt = await params.provider.getTransactionReceipt(tx.hash);\n          const state: RootState = getState() as RootState;\n          const tokens = Object.values(state.metadata.tokens.all);\n          if (receipt.status === 1) {\n            dispatch(mineTransaction(receipt.transactionHash));\n            notifyTransaction(\n              \"Withdraw\",\n              transaction,\n              tokens,\n              false,\n              params.chainId\n            );\n          } else {\n            dispatch(revertTransaction(receipt.transactionHash));\n            notifyTransaction(\n              \"Withdraw\",\n              transaction,\n              tokens,\n              true,\n              params.chainId\n            );\n          }\n        });\n      }\n    } catch (e: any) {\n      console.error(e);\n      dispatch(declineTransaction(e.message));\n      throw e;\n    }\n  }\n);\n\nexport const request = createAsyncThunk(\n  \"orders/request\",\n  async (\n    params: {\n      servers: Server[];\n      signerToken: string;\n      senderToken: string;\n      senderAmount: string;\n      senderTokenDecimals: number;\n      senderWallet: string;\n    },\n    { dispatch }\n  ) => {\n    const orders = await requestOrders(\n      params.servers,\n      params.signerToken,\n      params.senderToken,\n      params.senderAmount,\n      params.senderTokenDecimals,\n      params.senderWallet\n    );\n    if (orders.length) {\n      const bestOrder = [...orders].sort(orderSortingFunction)[0];\n      const expiry = parseInt(bestOrder.expiry) * 1000;\n      const timeTilReRequest = expiry - Date.now() - RFQ_EXPIRY_BUFFER_MS;\n      const reRequestTimerId = window.setTimeout(\n        () => dispatch(request(params)),\n        timeTilReRequest\n      );\n      dispatch(setReRequestTimerId(reRequestTimerId));\n    }\n    return orders;\n  }\n);\n\nexport const approve = createAsyncThunk<\n  // Return type of the payload creator\n  void,\n  // Params\n  {\n    token: string;\n    library: any;\n    contractType: \"Wrapper\" | \"Light\";\n    chainId: number;\n  },\n  // Types for ThunkAPI\n  {\n    // thunkApi\n    dispatch: AppDispatch;\n    state: RootState;\n  }\n>(\"orders/approve\", async (params, { getState, dispatch }) => {\n  let tx: Transaction;\n  try {\n    tx = await approveToken(params.token, params.library, params.contractType);\n    if (tx.hash) {\n      const transaction: SubmittedApproval = {\n        type: \"Approval\",\n        hash: tx.hash,\n        status: \"processing\",\n        tokenAddress: params.token,\n        timestamp: Date.now(),\n      };\n      dispatch(submitTransaction(transaction));\n      params.library.once(tx.hash, async () => {\n        const receipt = await params.library.getTransactionReceipt(tx.hash);\n        const state: RootState = getState() as RootState;\n        const tokens = Object.values(state.metadata.tokens.all);\n        if (receipt.status === 1) {\n          dispatch(mineTransaction(receipt.transactionHash));\n          // Optimistically update allowance (this is not really optimisitc,\n          // but it pre-empts receiving the event)\n          if (params.contractType === \"Light\") {\n            dispatch(\n              allowancesLightActions.set({\n                tokenAddress: params.token,\n                amount: APPROVE_AMOUNT,\n              })\n            );\n          } else if (params.contractType === \"Wrapper\") {\n            dispatch(\n              allowancesWrapperActions.set({\n                tokenAddress: params.token,\n                amount: APPROVE_AMOUNT,\n              })\n            );\n          }\n\n          notifyTransaction(\n            \"Approval\",\n            transaction,\n            tokens,\n            false,\n            params.chainId\n          );\n        } else {\n          dispatch(revertTransaction(receipt.transactionHash));\n          notifyTransaction(\n            \"Approval\",\n            transaction,\n            tokens,\n            true,\n            params.chainId\n          );\n        }\n      });\n    }\n  } catch (e: any) {\n    console.error(e);\n    dispatch(declineTransaction(e.message));\n    throw e;\n  }\n});\n\nexport const take = createAsyncThunk(\n  \"orders/take\",\n  async (\n    params: {\n      order: LightOrder;\n      library: any;\n      contractType: \"Light\" | \"Wrapper\";\n    },\n    { getState, dispatch }\n  ) => {\n    let tx: Transaction;\n    try {\n      tx = await takeOrder(params.order, params.library, params.contractType);\n      // When dealing with the Wrapper, since the \"actual\" swap is ETH <-> ERC20,\n      // we should change the order tokens to WETH -> ETH\n      let newOrder =\n        params.contractType === \"Light\"\n          ? params.order\n          : refactorOrder(params.order, params.library._network.chainId);\n      if (tx.hash) {\n        const transaction: SubmittedOrder = {\n          type: \"Order\",\n          order: newOrder,\n          hash: tx.hash,\n          status: \"processing\",\n          timestamp: Date.now(),\n        };\n        dispatch(submitTransaction(transaction));\n        params.library.once(tx.hash, async () => {\n          const receipt = await params.library.getTransactionReceipt(tx.hash);\n          const state: RootState = getState() as RootState;\n          const tokens = Object.values(state.metadata.tokens.all);\n          if (receipt.status === 1) {\n            dispatch(mineTransaction(receipt.transactionHash));\n            notifyTransaction(\n              \"Order\",\n              transaction,\n              tokens,\n              false,\n              params.library._network.chainId\n            );\n          } else {\n            dispatch(revertTransaction(receipt.transactionHash));\n            notifyTransaction(\n              \"Order\",\n              transaction,\n              tokens,\n              true,\n              params.library._network.chainId\n            );\n          }\n        });\n      }\n    } catch (e: any) {\n      console.error(e);\n      dispatch(declineTransaction(e.message));\n      throw e;\n    }\n  }\n);\n\nexport const ordersSlice = createSlice({\n  name: \"orders\",\n  initialState,\n  reducers: {\n    clear: (state) => {\n      state.orders = [];\n      state.status = \"idle\";\n      if (state.reRequestTimerId) {\n        clearTimeout(state.reRequestTimerId);\n        state.reRequestTimerId = null;\n      }\n    },\n    setReRequestTimerId: (state, action: PayloadAction<number>) => {\n      state.reRequestTimerId = action.payload;\n    },\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(request.pending, (state) => {\n        state.status = \"requesting\";\n      })\n      .addCase(request.fulfilled, (state, action) => {\n        state.status = \"idle\";\n        state.orders = action.payload!;\n      })\n      .addCase(request.rejected, (state, action) => {\n        state.status = \"failed\";\n        state.orders = [];\n      })\n      .addCase(take.pending, (state) => {\n        state.status = \"taking\";\n      })\n      .addCase(take.fulfilled, (state, action) => {\n        state.status = \"idle\";\n      })\n      .addCase(take.rejected, (state, action) => {\n        state.status = \"failed\";\n      })\n      .addCase(approve.pending, (state) => {\n        state.status = \"approving\";\n      })\n      .addCase(approve.fulfilled, (state) => {\n        state.status = \"idle\";\n      })\n      .addCase(approve.rejected, (state) => {\n        state.status = \"failed\";\n      })\n      .addCase(setWalletConnected, (state) => {\n        state.status = \"idle\";\n        state.orders = [];\n      })\n      .addCase(setWalletDisconnected, (state) => {\n        state.status = \"idle\";\n        state.orders = [];\n      });\n  },\n});\n\nexport const { clear, setReRequestTimerId } = ordersSlice.actions;\n/**\n * Sorts orders and returns the best order based on tokens received or sent\n * then falling back to expiry.\n */\nexport const selectBestOrder = (state: RootState) =>\n  // Note that `.sort` mutates the array, so we need to clone it first to\n  // prevent mutating state.\n  [...state.orders.orders].sort(orderSortingFunction)[0];\n\nexport const selectSortedOrders = (state: RootState) =>\n  [...state.orders.orders].sort(orderSortingFunction);\n\nexport const selectBestOption = createSelector(\n  selectTradeTerms,\n  selectBestOrder,\n  selectBestPricing,\n  (terms, bestRfqOrder, bestPricing) => {\n    if (!terms) return null;\n\n    if (terms.side === \"buy\") {\n      console.error(`Buy orders not implemented yet`);\n      return null;\n    }\n\n    let pricing = (bestPricing as unknown) as {\n      pricing: Levels;\n      locator: string;\n      quoteAmount: string;\n    } | null;\n\n    if (!bestRfqOrder && !pricing) return null;\n\n    let lastLookOrder;\n    if (pricing) {\n      lastLookOrder = {\n        quoteAmount: pricing!.quoteAmount,\n        protocol: \"last-look\",\n        pricing: pricing!,\n      };\n      if (!bestRfqOrder) return lastLookOrder;\n    }\n\n    let rfqOrder;\n    let bestRFQSignerUnits: BigNumber | undefined;\n    if (bestRfqOrder) {\n      bestRFQSignerUnits = new BigNumber(bestRfqOrder.signerAmount).div(\n        new BigNumber(10).pow(terms.quoteToken.decimals)\n      );\n      rfqOrder = {\n        quoteAmount: bestRFQSignerUnits.toString(),\n        protocol: \"request-for-quote\",\n        order: bestRfqOrder,\n      };\n      if (!lastLookOrder) return rfqOrder;\n    }\n\n    // TODO: this should factor in gas.\n    if (\n      pricing &&\n      bestRFQSignerUnits!.lte(new BigNumber(pricing.quoteAmount))\n    ) {\n      return lastLookOrder;\n    } else {\n      return rfqOrder;\n    }\n  }\n);\n\nexport const selectOrdersStatus = (state: RootState) => state.orders.status;\nexport default ordersSlice.reducer;\n","import { LightOrder } from \"@airswap/types\";\nimport { createSlice } from \"@reduxjs/toolkit\";\n\nimport { RootState } from \"../../app/store\";\nimport {\n  submitTransaction,\n  declineTransaction,\n  revertTransaction,\n  mineTransaction,\n} from \"./transactionActions\";\n\nexport interface DepositOrWithdrawOrder {\n  signerToken: string;\n  signerAmount: string;\n  senderToken: string;\n  senderAmount: string;\n}\n\nexport type TransactionType = \"Approval\" | \"Order\" | \"Deposit\" | \"Withdraw\";\n\nexport interface SubmittedTransaction {\n  type: TransactionType;\n  hash: string;\n  status: \"processing\" | \"succeeded\" | \"reverted\";\n  timestamp: number;\n}\n\nexport interface SubmittedOrder extends SubmittedTransaction {\n  order: LightOrder;\n}\n\nexport interface SubmittedApproval extends SubmittedTransaction {\n  tokenAddress: string;\n}\n\nexport interface SubmittedDepositOrder extends SubmittedTransaction {\n  order: DepositOrWithdrawOrder;\n}\n\nexport interface SubmittedWithdrawOrder extends SubmittedTransaction {\n  order: DepositOrWithdrawOrder;\n}\n\nexport interface TransactionsState {\n  all: SubmittedTransaction[];\n}\n\nconst initialState: TransactionsState = {\n  all: [],\n};\n\nfunction updateTransaction(\n  state: TransactionsState,\n  hash: string,\n  status: \"processing\" | \"succeeded\" | \"reverted\"\n) {\n  for (let i in state.all) {\n    if (state.all[i].hash === hash) {\n      state.all[i] = {\n        ...state.all[i],\n        status,\n      };\n      break;\n    }\n  }\n}\n\nexport const transactionsSlice = createSlice({\n  name: \"transactions\",\n  initialState,\n  reducers: {\n    clear: (state) => {\n      state.all = [];\n    },\n    setTransactions: (state, action) => {\n      try {\n        state.all = action.payload.all;\n      } catch (err) {\n        console.error(err);\n        state.all = [];\n      }\n    },\n  },\n  extraReducers: (builder) => {\n    builder.addCase(submitTransaction, (state, action) => {\n      state.all.unshift(action.payload);\n    });\n    builder.addCase(declineTransaction, (state, action) => {\n      console.error(action.payload);\n    });\n    builder.addCase(revertTransaction, (state, action) => {\n      updateTransaction(state, action.payload.hash, \"reverted\");\n    });\n    builder.addCase(mineTransaction, (state, action) => {\n      updateTransaction(state, action.payload, \"succeeded\");\n    });\n  },\n});\n\nexport const { clear, setTransactions } = transactionsSlice.actions;\nexport const selectTransactions = (state: RootState) => state.transactions.all;\nexport const selectPendingApprovals = (state: RootState) =>\n  state.transactions.all.filter(\n    (tx) => tx.status === \"processing\" && tx.type === \"Approval\"\n  ) as SubmittedApproval[];\nexport default transactionsSlice.reducer;\n","import styled from \"styled-components/macro\";\n\nimport Icon from \"../Icon/Icon\";\n\ninterface StyledIconButtonProps {\n  hasText: boolean;\n}\n\nexport const StyledIcon = styled(Icon)``;\n\nexport const StyledIconButton = styled.button<StyledIconButtonProps>`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n  padding: 0.5rem;\n  font-weight: 600;\n\n  ${StyledIcon} {\n    svg {\n      margin-left: ${(props) => (props.hasText ? \"0.5rem\" : 0)};\n    }\n  }\n`;\n","import React, { FC, ReactElement } from \"react\";\n\nimport { icons } from \"../Icon/Icon\";\nimport { StyledIcon, StyledIconButton } from \"./IconButton.styles\";\n\nexport type IconButtonProps = {\n  text?: string;\n  icon: keyof typeof icons;\n  iconSize?: number;\n  tabIndex?: number;\n  onClick?: () => void;\n  className?: string;\n};\n\nconst IconButton: FC<IconButtonProps> = ({\n  text,\n  icon,\n  iconSize,\n  tabIndex = 0,\n  className,\n  onClick,\n}): ReactElement => {\n  return (\n    <StyledIconButton\n      hasText={!!text}\n      tabIndex={tabIndex}\n      className={className}\n      onClick={onClick}\n    >\n      {text}\n      <StyledIcon name={icon} iconSize={iconSize} />\n    </StyledIconButton>\n  );\n};\n\nexport default IconButton;\n","export default function convertHexToRGBA(hexCode: string, opacity: number) {\n  let hex = hexCode.replace(\"#\", \"\");\n\n  if (hex.length === 3) {\n    hex = `${hex[0]}${hex[0]}${hex[1]}${hex[1]}${hex[2]}${hex[2]}`;\n  }\n\n  const r = parseInt(hex.substring(0, 2), 16);\n  const g = parseInt(hex.substring(2, 4), 16);\n  const b = parseInt(hex.substring(4, 6), 16);\n\n  return `rgba(${r},${g},${b},${opacity})`;\n}\n","import styled from \"styled-components/macro\";\n\nimport IconButton from \"../../components/IconButton/IconButton\";\nimport convertHexToRGBA from \"../../helpers/transformHexToRgba\";\n\nconst CloseButton = styled(IconButton)`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: 1px solid ${(props) => props.theme.colors.borderGrey};\n  width: 1.5rem;\n  height: 1.5rem;\n  padding: 0;\n  background: ${(props) => props.theme.colors.black};\n\n  &:hover {\n    border-color: ${(props) => convertHexToRGBA(props.theme.colors.white, 0.5)};\n  }\n`;\n\nexport default CloseButton;\n","export const sizes = {\n  toolBarWidth: \"7rem\",\n  tradeContainerPadding: \"2rem\",\n};\n","import { motion } from \"framer-motion\";\nimport styled from \"styled-components/macro\";\n\nimport convertHexToRGBA from \"../../helpers/transformHexToRgba\";\nimport { sizes } from \"../../style/sizes\";\nimport CloseButton from \"../../styled-components/CloseButton/CloseButton\";\nimport { Title } from \"../Typography/Typography\";\n\ntype ContainerProps = {\n  isHidden: boolean;\n  hasTitle: boolean;\n};\n\nexport const ScrollContainer = styled.div`\n  flex-grow: 99;\n  height: 100%;\n  max-height: calc(100% - 3.75rem);\n  padding-bottom: ${sizes.tradeContainerPadding};\n\n  &::-webkit-scrollbar {\n    width: 0.5rem;\n    background: ${(props) => props.theme.colors.black};\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background: ${(props) => props.theme.colors.white};\n    border-radius: 0.5rem;\n  }\n`;\n\nexport const ContentContainer = styled(motion.div)`\n  position: relative;\n  height: calc(100% - 5.625rem);\n  padding: 0 ${sizes.tradeContainerPadding};\n  background-color: ${(props) => props.theme.colors.black};\n`;\n\nexport const TitleContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  padding: ${sizes.tradeContainerPadding};\n  transition: background ease-in-out 0.3s;\n`;\n\nexport const StyledTitle = styled(Title)`\n  min-height: 1.875rem;\n  padding-right: 1rem;\n  flex-grow: 2;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  transition: opacity ease-in-out 0.3s;\n  will-change: opacity;\n`;\n\nexport const Container = styled.div<ContainerProps>`\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  pointer-events: ${(props) => (props.isHidden ? \"none\" : \"visible\")};\n  z-index: 2;\n  \n  ${CloseButton} {\n    transition: transform ${(props) =>\n      props.isHidden\n        ? \"0.25s ease-in\"\n        : \"0.75s cubic-bezier(0.12, 0.71, 0.36, 1)\"};\n    transform: translateY(${(props) => (props.isHidden ? \"-5rem\" : \"0%\")});\n\n    @media (prefers-reduced-motion: reduce) {\n      transition: none;\n    }\n  }\n  \n  ${StyledTitle} {\n    opacity: ${(props) => (props.isHidden ? 0 : 1)};\n    pointer-events: ${(props) => (props.isHidden ? \"none\" : \"visible\")};\n    \n    @media (prefers-reduced-motion: reduce) {\n      transition: none;\n    }\n  }\n  \n  ${TitleContainer} {\n    background: ${(props) =>\n      props.isHidden || !props.hasTitle\n        ? convertHexToRGBA(props.theme.colors.black, 0)\n        : props.theme.colors.black};\n  }\n}\n`;\n","import { FC } from \"react\";\n\nimport { AnimatePresence, useReducedMotion } from \"framer-motion\";\n\nimport CloseButton from \"../../styled-components/CloseButton/CloseButton\";\nimport {\n  Container,\n  StyledTitle,\n  TitleContainer,\n  ContentContainer,\n} from \"./Overlay.styles\";\n\nexport type OverlayProps = {\n  /**\n   * Function to close component\n   */\n  onClose: () => void;\n  /**\n   * Title shown on top\n   */\n  title?: string;\n  /**\n   * Hide or show the component\n   */\n  isHidden?: boolean;\n};\n\nconst Overlay: FC<OverlayProps> = ({\n  onClose,\n  title = \"\",\n  isHidden = true,\n  children,\n}) => {\n  const shouldReduceMotion = useReducedMotion();\n\n  return (\n    <Container hasTitle={!!title} isHidden={isHidden}>\n      <TitleContainer>\n        <StyledTitle type=\"h2\">{title}</StyledTitle>\n        <CloseButton\n          icon=\"chevron-down\"\n          iconSize={1}\n          tabIndex={isHidden ? -1 : 0}\n          onClick={onClose}\n        />\n      </TitleContainer>\n      <AnimatePresence>\n        {!isHidden && (\n          <ContentContainer\n            key=\"content\"\n            transition={{\n              ease: \"easeOut\",\n              duration: shouldReduceMotion ? 0 : 0.3,\n            }}\n            initial={{ y: \"100%\" }}\n            animate={{ y: \"0%\" }}\n            exit={{ y: \"100%\" }}\n          >\n            {children}\n          </ContentContainer>\n        )}\n      </AnimatePresence>\n    </Container>\n  );\n};\n\nexport default Overlay;\n","import { useState, useEffect } from \"react\";\n\n// Source: https://usehooks.com/useWindowSize/\n\ninterface WindowSizeState {\n  width?: number;\n  height?: number;\n}\n\nexport default function useWindowSize() {\n  // Initialize state with undefined width/height so server and client renders match\n  // Learn more here: https://joshwcomeau.com/react/the-perils-of-rehydration/\n  const [windowSize, setWindowSize] = useState<WindowSizeState>({\n    width: undefined,\n    height: undefined,\n  });\n\n  useEffect(() => {\n    // Handler to call on window resize\n    function handleResize() {\n      // Set window width/height to state\n      setWindowSize({\n        width: window.innerWidth,\n        height: window.innerHeight,\n      });\n    }\n    // Add event listener\n    window.addEventListener(\"resize\", handleResize);\n    // Call handler right away so state gets updated with initial window size\n    handleResize();\n    // Remove event listener on cleanup\n    return () => window.removeEventListener(\"resize\", handleResize);\n  }, []); // Empty array ensures that effect is only run on mount\n  return windowSize;\n}\n","import { AiOutlineLoading } from \"react-icons/ai\";\n\nimport styled, { keyframes } from \"styled-components/macro\";\n\nconst LoadingSpinnerContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n`;\n\nconst spin = keyframes`\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n`;\n\nconst SpinningIcon = styled(AiOutlineLoading)`\n  animation: ${spin} 1s linear infinite;\n`;\n\nconst LoadingSpinner = () => {\n  return (\n    <LoadingSpinnerContainer>\n      <SpinningIcon />\n    </LoadingSpinnerContainer>\n  );\n};\n\nexport default LoadingSpinner;\n","import styled, { DefaultTheme } from \"styled-components/macro\";\n\nimport { ButtonIntent, ButtonJustifyContent } from \"./Button\";\n\nfunction getButtonBackground(\n  theme: DefaultTheme,\n  intent?: ButtonIntent\n): string {\n  switch (intent) {\n    case \"destructive\":\n      return theme.colors.red;\n    case \"positive\":\n      return theme.colors.green;\n    case \"neutral\":\n      return theme.colors.black;\n    default:\n      return theme.colors.primary;\n  }\n}\n\nfunction getButtonHoverBackground(\n  theme: DefaultTheme,\n  intent?: ButtonIntent\n): string {\n  switch (intent) {\n    case \"destructive\":\n      return theme.colors.red;\n    case \"positive\":\n      return theme.colors.green;\n    case \"neutral\":\n      return theme.colors.black;\n    default:\n      return theme.colors.primaryDark;\n  }\n}\n\nexport const Text = styled.div`\n  transition: opacity 0.3s ease-out;\n`;\n\ntype StyledButtonProps = {\n  disabled?: boolean;\n  $loading?: boolean;\n  intent?: ButtonIntent;\n  justifyContent?: ButtonJustifyContent;\n};\n\nexport const StyledButton = styled.button<StyledButtonProps>`\n  display: flex;\n  align-items: center;\n  justify-content: ${(props) => props.justifyContent || \"center\"};\n  width: 100%;\n  height: 3rem;\n  padding: 0 1rem;\n  font-size: 1rem;\n  font-weight: 600;\n  text-transform: uppercase;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  border-radius: 2px;\n  border-style: ${(props) => (props.intent === \"neutral\" ? \"solid\" : \"none\")};\n  border-width: 1px;\n  border-color: ${(props) => props.theme.colors.borderGrey};\n  /* Use blue text on a netral light mode button, otherwise white. */\n  color: ${(props) =>\n    props.intent === \"neutral\" && props.theme.name === \"light\"\n      ? props.theme.colors.primary\n      : props.theme.colors.alwaysWhite};\n  background: ${(props) => getButtonBackground(props.theme, props.intent)};\n  pointer-events: ${(props) => (props.disabled ? \"none\" : \"visible\")};\n  cursor: ${(props) => (props.disabled ? \"none\" : \"pointer\")};\n\n  ${Text} {\n    margin-right: ${(props) => (props.$loading ? \"1rem\" : 0)};\n    opacity: ${(props) => (props.disabled ? 0.5 : 1)};\n  }\n\n  &:hover {\n    background: ${(props) =>\n      getButtonHoverBackground(props.theme, props.intent)};\n    border-color: ${(props) =>\n      props.intent === \"neutral\" ? props.theme.colors.white : \"inherit\"};\n  }\n`;\n","import React from \"react\";\n\nimport LoadingSpinner from \"../LoadingSpinner/LoadingSpinner\";\nimport { StyledButton, Text } from \"./Button.styles\";\n\nexport type ButtonIntent = \"neutral\" | \"primary\" | \"positive\" | \"destructive\";\nexport type ButtonJustifyContent = \"center\" | \"flex-start\" | \"flex-end\";\n\nexport type ButtonProps = {\n  children: React.ReactNode;\n  className?: string;\n  /**\n   * Intent affects the appearance of the button\n   */\n  intent?: ButtonIntent;\n  /**\n   * Intent affects the appearance of the button\n   */\n  justifyContent?: ButtonJustifyContent;\n  /**\n   * Whether or not the button should be disabled. Clicking a disabled button\n   * has no effect.\n   */\n  disabled?: boolean;\n  /**\n   * Whether or not to show a loading spinner within the button. This also\n   * prevents further clicks on the button\n   */\n  loading?: boolean;\n} & React.ButtonHTMLAttributes<HTMLButtonElement>;\n\nexport const Button = ({\n  children,\n  className = \"\",\n  intent = \"neutral\",\n  justifyContent = \"center\",\n  disabled = false,\n  loading = false,\n  onClick,\n  ...rest\n}: ButtonProps) => {\n  return (\n    <StyledButton\n      className={className}\n      $loading={loading}\n      intent={intent}\n      disabled={disabled || loading}\n      justifyContent={justifyContent}\n      onClick={(e) => {\n        !loading && onClick && onClick(e);\n      }}\n      {...rest}\n    >\n      <Text>{children}</Text>\n      {loading && <LoadingSpinner />}\n    </StyledButton>\n  );\n};\n\nexport default Button;\n","import React from \"react\";\n\nimport styled from \"styled-components/macro\";\n\nimport { FormInput, FormLabel } from \"../Typography/Typography\";\n\ntype TextInputStyleProps = {\n  hideLabel?: boolean;\n  hasError?: boolean;\n  disabled?: boolean;\n};\n\ntype StyledInputProps = Pick<\n  React.HTMLProps<HTMLInputElement>,\n  \"type\" | \"disabled\"\n>;\n\nexport const StyledFormLabel = styled(FormLabel)``;\n\nexport const StyledInput = styled(FormInput)<StyledInputProps>``;\n\nexport const StyledTextInput = styled.div<TextInputStyleProps>`\n  ${StyledFormLabel} {\n    display: ${(props) => (props.hideLabel ? \"none\" : \"block\")};\n    width: 100%;\n    background: none;\n  }\n\n  ${StyledInput} {\n    position: relative;\n    border: 0;\n    width: 100%;\n    padding: 0;\n    opacity: ${(props) => (props.disabled ? 0.5 : 1)};\n    background: none;\n\n    &::placeholder {\n      color: ${(props) => props.theme.colors.lightGrey};\n    }\n\n    &:focus {\n      outline: 0;\n    }\n  }\n`;\n","import React, { FC, ReactElement } from \"react\";\n\nimport {\n  StyledFormLabel,\n  StyledInput,\n  StyledTextInput,\n} from \"./TextInput.styles\";\n\ntype HTMLInputProps = Omit<React.HTMLProps<HTMLInputElement>, \"ref\" | \"as\">;\n\nexport type TextInputProps = {\n  label: string;\n  type?: string;\n  hasError?: boolean;\n  hideLabel?: boolean;\n} & HTMLInputProps;\n\nconst TextInput: FC<TextInputProps> = ({\n  label,\n  type = \"text\",\n  className,\n  hasError,\n  hideLabel,\n  disabled,\n  ...inputProps\n}): ReactElement => {\n  return (\n    <StyledTextInput\n      hasError={hasError}\n      hideLabel={hideLabel}\n      aria-label={label}\n      disabled={disabled}\n      className={className}\n    >\n      <StyledFormLabel>{label}</StyledFormLabel>\n      <StyledInput {...inputProps} disabled={disabled} type={type} />\n    </StyledTextInput>\n  );\n};\n\nexport default TextInput;\n","import styled from \"styled-components/macro\";\n\nimport { sizes } from \"../../style/sizes\";\nimport Button from \"../Button/Button\";\nimport Icon from \"../Icon/Icon\";\nimport TextInput from \"../TextInput/TextInput\";\nimport { StyledInput } from \"../TextInput/TextInput.styles\";\nimport { Title } from \"../Typography/Typography\";\n\ntype ContainerProps = {\n  $overflow: boolean;\n};\n\nexport const ScrollContainer = styled.div`\n  flex-grow: 99;\n  height: 100%;\n  max-height: calc(100% - 7rem);\n  padding-bottom: 1rem;\n\n  &::-webkit-scrollbar {\n    width: 0.5rem;\n    background: ${(props) => props.theme.colors.black};\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background: ${(props) => props.theme.colors.white};\n    border-radius: 0.5rem;\n  }\n`;\n\nexport const ContentContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  height: 100%;\n  padding: 0 ${sizes.tradeContainerPadding} ${sizes.tradeContainerPadding};\n  background-color: ${(props) => props.theme.colors.black};\n`;\n\nexport const Container = styled.div<ContainerProps>`\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n\n  ${ScrollContainer} {\n    width: calc(100% + (${sizes.tradeContainerPadding} / 2));\n    padding-right: calc(${sizes.tradeContainerPadding} / 2);\n    padding-left: 0.125rem;\n    overflow-x: hidden;\n    overflow-y: ${(props) => (props.$overflow ? \"scroll\" : \"hidden\")};\n  }\n}`;\n\nexport const TitleContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  margin-bottom: 1.875rem;\n  padding: ${sizes.tradeContainerPadding} ${sizes.tradeContainerPadding} 0;\n`;\n\nexport const StyledTitle = styled(Title)`\n  visibility: hidden;\n`;\n\nexport const StyledLabel = styled.label`\n  font-size: 1rem;\n`;\n\nexport const SearchInput = styled(TextInput)`\n  margin-bottom: 1.25rem;\n  width: 100%;\n  background-color: ${(props) => props.theme.colors.black};\n\n  ${StyledInput} {\n    border: 1px solid ${(props) => props.theme.colors.borderGrey};\n    border-radius: 2px;\n    line-height: 2.25;\n    padding: 0.25rem 0.625rem;\n    font-size: 0.875rem;\n    background: transparent;\n    color: ${(props) => props.theme.colors.white};\n\n    &::placeholder {\n      color: ${(props) => props.theme.colors.lightGrey};\n    }\n\n    &:hover {\n      border-color: ${(props) => props.theme.colors.lightGrey};\n    }\n\n    &:focus {\n      outline: none;\n      border-color: ${(props) => props.theme.colors.primary};\n    }\n  }\n`;\n\nexport const TokenContainer = styled.div``;\n\nexport const Legend = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 0.75rem;\n  min-height: 1.5rem;\n`;\n\nexport const LegendItem = styled.div`\n  text-transform: uppercase;\n  font-weight: 700;\n  font-size: 0.625rem;\n  color: ${(props) => props.theme.colors.lightGrey};\n`;\n\nexport const LegendDivider = styled.div`\n  margin: 0 1rem;\n  width: 100%;\n  height: 1px;\n  background: ${(props) => props.theme.colors.borderGrey};\n`;\n\nexport const InactiveTitleContainer = styled.div`\n  border: 1px solid ${(props) => props.theme.colors.borderGrey};\n  border-radius: 2px;\n  background: transparent;\n  color: #9e9e9e;\n  padding: 1rem;\n  font-size: 0.75rem;\n  margin: 1rem 0;\n`;\n\nexport const InactiveTitle = styled.h3`\n  display: flex;\n  font-size: 0.75rem;\n`;\n\nexport const InformationIcon = styled(Icon)`\n  display: inline;\n  margin-left: 0.25rem;\n`;\n\nexport const NoResultsContainer = styled.div`\n  text-align: center;\n`;\n\nexport const EditCustomTokensButton = styled(Button)`\n  margin-top: auto;\n  justify-self: flex-end;\n  border: 1px solid ${(props) => props.theme.colors.borderGrey};\n  background-color: transparent;\n  color: ${(props) => props.theme.colors.lightGrey};\n\n  &:hover {\n    color: ${(props) => props.theme.colors.black};\n    background-color: ${(props) => props.theme.colors.white};\n  }\n`;\n","import { TokenInfo } from \"@airswap/types\";\n\nimport { ethers } from \"ethers\";\n\n/**\n * Create a filter function to apply to a token for whether it matches a particular search query\n * @param search the search query to apply to the token\n */\nexport function createTokenFilterFunction<T extends TokenInfo>(\n  search: string\n): (tokens: T) => boolean {\n  const searchingAddress = ethers.utils.isAddress(search);\n\n  if (searchingAddress) {\n    return (t: T) => t.address.toLowerCase() === search.toLowerCase();\n  }\n\n  const lowerSearchParts = search\n    .toLowerCase()\n    .split(/\\s+/)\n    .filter((s) => s.length > 0);\n\n  if (lowerSearchParts.length === 0) return () => true;\n\n  const matchesSearch = (s: string): boolean => {\n    const sParts = s\n      .toLowerCase()\n      .split(/\\s+/)\n      .filter((s) => s.length > 0);\n\n    return lowerSearchParts.every(\n      (p) =>\n        p.length === 0 ||\n        sParts.some((sp) => sp.startsWith(p) || sp.endsWith(p))\n    );\n  };\n\n  return ({ name, symbol }: T): boolean =>\n    Boolean((symbol && matchesSearch(symbol)) || (name && matchesSearch(name)));\n}\n\nexport function filterTokens<T extends TokenInfo>(\n  tokens: T[],\n  search: string\n): T[] {\n  return tokens.filter(createTokenFilterFunction(search));\n}\n","import { TokenInfo } from \"@airswap/types\";\nimport { formatUnits } from \"@ethersproject/units\";\n\nimport { BalancesState } from \"../../features/balances/balancesSlice\";\n\nexport function sortTokensByBalance(\n  tokens: TokenInfo[],\n  balances: BalancesState\n) {\n  return tokens.sort((a, b) =>\n    parseFloat(formatUnits(balances.values[a.address]!, a.decimals)) <\n    parseFloat(formatUnits(balances.values[b.address]!, b.decimals))\n      ? 1\n      : parseFloat(formatUnits(balances.values[a.address]!, a.decimals)) ===\n        parseFloat(formatUnits(balances.values[b.address]!, b.decimals))\n      ? a.symbol > b.symbol\n        ? 1\n        : -1\n      : -1\n  );\n}\n\nexport function sortTokensBySymbol(tokens: TokenInfo[]) {\n  return tokens.sort((a, b) =>\n    a.symbol.toLocaleLowerCase() < b.symbol.toLocaleLowerCase() ? -1 : 1\n  );\n}\n\nfunction getTokenBalance(token: TokenInfo, balances: BalancesState): number {\n  const balance = balances.values[token.address];\n\n  if (!balance) {\n    return 0;\n  }\n\n  return parseFloat(\n    formatUnits(balances.values[token.address]!, token.decimals)\n  );\n}\n\nexport function sortTokensBySymbolAndBalance(\n  tokens: TokenInfo[],\n  balances: BalancesState\n) {\n  return tokens.sort((a, b) => {\n    const aBalance = getTokenBalance(a, balances);\n    const bBalance = getTokenBalance(b, balances);\n\n    if (aBalance === 0 && bBalance !== 0) {\n      return 1;\n    } else if (bBalance === 0 && aBalance !== 0) {\n      return -1;\n    }\n\n    return a.symbol.toLocaleLowerCase() < b.symbol.toLocaleLowerCase() ? -1 : 1;\n  });\n}\n\nexport function sortTokenByExactMatch(\n  filteredTokens: TokenInfo[],\n  tokenQuery: string\n) {\n  if (!filteredTokens.length) return [];\n  if (!tokenQuery || tokenQuery === \"\") return filteredTokens;\n\n  // split query into word array\n  const symbolMatch = tokenQuery\n    .toLowerCase()\n    .split(/\\s+/)\n    .filter((s) => s.length > 0);\n\n  // don't filter against symbol if query is multiple words\n  if (symbolMatch.length > 1) return filteredTokens;\n\n  // filter based off symbol match -> substring match -> remainder of filtered tokens\n  const exactMatches: TokenInfo[] = [];\n  const symbolSubtrings: TokenInfo[] = [];\n  const remainder: TokenInfo[] = [];\n\n  filteredTokens.forEach((token) => {\n    // add exact matches\n    if (token.symbol?.toLowerCase() === symbolMatch[0]) {\n      return exactMatches.push(token);\n    }\n    // add matches with starting values\n    else if (\n      token.symbol?.toLowerCase().startsWith(tokenQuery.toLowerCase().trim())\n    ) {\n      return symbolSubtrings.push(token);\n    }\n    // add remaining filtered tokens\n    else {\n      return remainder.push(token);\n    }\n  });\n\n  return [...exactMatches, ...symbolSubtrings, ...remainder];\n}\n","import { TokenInfo } from \"@airswap/types\";\n\nimport styled from \"styled-components/macro\";\n\nexport type sizes = \"small\" | \"medium\" | \"large\";\n\nexport type StyledTokenLogoProps = {\n  size: sizes;\n  tokenInfo: TokenInfo | null;\n};\n\nconst remSizes: Record<sizes, string> = {\n  small: \"1.5rem\",\n  medium: \"2rem\",\n  large: \"2.5rem\",\n};\n\nconst StyledTokenLogo = styled.div<StyledTokenLogoProps>`\n  width: ${(props) => remSizes[props.size]};\n  height: ${(props) => remSizes[props.size]};\n  background-image: ${(props) =>\n    !props.tokenInfo || !props.tokenInfo.logoURI\n      ? \"url(images/token-placeholder.svg)\"\n      : \"url(\" + props.tokenInfo.logoURI + \")\"};\n  background-size: cover;\n  background-position: center;\n  background-repeat: no-repeat;\n  background-color: ${(props) => props.theme.colors.black};\n  border-radius: 50%;\n  border-color: ${(props) => props.theme.colors.borderGrey};\n  border-style: ${(props) => (!props.tokenInfo ? \"solid\" : \"none\")};\n  /* Note this is only applied when not empty. */\n  border-width: 1px;\n`;\n\nexport default StyledTokenLogo;\n","import { FC } from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { TokenInfo } from \"@airswap/types\";\n\nimport { MainButton, BackButton } from \"./ActionButtons.styles\";\n\nexport enum ButtonActions {\n  connectWallet,\n  restart,\n  goBack,\n  approve,\n  requestQuotes,\n  takeQuote,\n}\n\nconst buttonTextMapping: Record<ButtonActions, string> = {\n  [ButtonActions.connectWallet]: \"wallet:connectWallet\",\n  [ButtonActions.restart]: \"orders:newSwap\",\n  [ButtonActions.goBack]: \"common:back\",\n  [ButtonActions.approve]: \"orders:approve\",\n  [ButtonActions.requestQuotes]: \"orders:continue\",\n  [ButtonActions.takeQuote]: \"orders:take\",\n};\n\n/**\n * This can either be:\n *  - Connect wallet button (Wallet not connected, OR isConnecting [loading])\n *  - Invisible (approving and swapping - TBD - could be overlay)\n *  - Back button (pair unavailable)\n *  - New swap button (to restart after order has been submitted)\n *  - \"Back\" and \"Complete Swap\" buttons (when ready to go)\n *  - \"Back\" and \"Approve\" buttons\n *  - A disabled button containing reason text (enter an amount, token info\n *    not found, or insufficient balance)\n *  - A continue button to request quotes\n */\nconst ActionButtons: FC<{\n  walletIsActive: boolean;\n  orderComplete: boolean;\n  pairUnavailable: boolean;\n  hasQuote: boolean;\n  needsApproval: boolean;\n  hasAmount: boolean;\n  baseTokenInfo: TokenInfo | null;\n  quoteTokenInfo: TokenInfo | null;\n  hasSufficientBalance: boolean;\n  isLoading: boolean;\n  onButtonClicked: (action: ButtonActions) => void;\n}> = ({\n  walletIsActive,\n  orderComplete,\n  pairUnavailable,\n  hasQuote,\n  needsApproval,\n  hasAmount,\n  baseTokenInfo,\n  quoteTokenInfo,\n  hasSufficientBalance,\n  isLoading,\n  onButtonClicked,\n}) => {\n  const { t } = useTranslation([\"wallet\", \"common\", \"orders\"]);\n\n  // First determine the next action.\n  let nextAction: ButtonActions;\n  if (!walletIsActive) nextAction = ButtonActions.connectWallet;\n  else if (pairUnavailable) nextAction = ButtonActions.goBack;\n  else if (orderComplete) nextAction = ButtonActions.restart;\n  else if (hasQuote && needsApproval) nextAction = ButtonActions.approve;\n  else if (hasQuote) nextAction = ButtonActions.takeQuote;\n  else nextAction = ButtonActions.requestQuotes;\n\n  // If there's something to fix before progress can be made, the button will\n  // be disabled. These disabled states never have a back button.\n  let isDisabled =\n    walletIsActive &&\n    (!hasSufficientBalance || !baseTokenInfo || !quoteTokenInfo || !hasAmount);\n\n  // Some actions require an additional back button\n  const hasBackButton: boolean =\n    !isDisabled &&\n    (nextAction === ButtonActions.takeQuote ||\n      nextAction === ButtonActions.approve);\n\n  if (orderComplete) {\n    isDisabled = false;\n    nextAction = ButtonActions.restart;\n  }\n\n  // The text depends on the next action, unless the button is disabled, when\n  // it depends on the reason for being disabled instead.\n  let mainButtonText;\n  if (isDisabled) {\n    if (!hasAmount) mainButtonText = t(\"orders:enterAmount\");\n    else if (!baseTokenInfo || !quoteTokenInfo)\n      mainButtonText = t(\"orders:chooseToken\");\n    else if (!hasSufficientBalance)\n      mainButtonText = t(\"orders:insufficentBalance\", {\n        symbol: baseTokenInfo.symbol,\n      });\n  } else {\n    // @ts-ignore dynamic translation key.\n    mainButtonText = t(buttonTextMapping[nextAction]);\n  }\n\n  return (\n    <>\n      {hasBackButton && (\n        <BackButton onClick={onButtonClicked.bind(null, ButtonActions.goBack)}>\n          {t(\"common:back\")}\n        </BackButton>\n      )}\n      <MainButton\n        intent={nextAction === ButtonActions.goBack ? \"neutral\" : \"primary\"}\n        loading={isLoading}\n        disabled={isDisabled}\n        onClick={onButtonClicked.bind(null, nextAction)}\n      >\n        {mainButtonText}\n      </MainButton>\n    </>\n  );\n};\n\nexport default ActionButtons;\n","import { BaseHTMLAttributes, FC } from \"react\";\n\nimport { TokenInfo } from \"@airswap/types\";\n\nimport StyledTokenLogo, { StyledTokenLogoProps } from \"./TokenLogo.styles\";\n\nexport type TokenLogoProps = {\n  tokenInfo: TokenInfo | null;\n} & StyledTokenLogoProps &\n  BaseHTMLAttributes<HTMLImageElement>;\n\nconst TokenLogo: FC<TokenLogoProps> = ({ tokenInfo, ...rest }) => {\n  return <StyledTokenLogo tokenInfo={tokenInfo} {...rest} />;\n};\n\nexport default TokenLogo;\n","import styled from \"styled-components/macro\";\n\nimport { Metadata } from \"../../../Typography/Typography\";\n\nexport const Container = styled.div`\n  border: 1px solid ${(props) => props.theme.colors.borderGrey};\n  padding: 1rem;\n  display: grid;\n  grid-auto-flow: column;\n  cursor: pointer;\n  grid-template-columns: auto minmax(auto, 1fr) 6.25rem;\n  grid-gap: 1rem;\n  align-items: center;\n\n  &:not(:last-of-type) {\n    border-bottom: 0;\n  }\n\n  & + & {\n    border-top: 1px solid ${(props) => props.theme.colors.borderGrey};\n  }\n`;\n\nexport const TextContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n`;\n\nexport const Symbol = styled.h3`\n  font-size: 1rem;\n  font-weight: bold;\n  line-height: 1rem;\n`;\n\nexport const TokenName = styled.h3`\n  font-size: 0.8rem;\n  font-weight: 500;\n  color: #9e9e9e;\n  line-height: 1rem;\n`;\n\nexport const Span = styled.span``;\n\nexport const UnsupportedTokenText = styled(Metadata)`\n  text-align: center;\n  justify-self: center;\n`;\n\nexport const ImportButton = styled.button`\n  border: 1px solid ${(props) => props.theme.colors.borderGrey};\n  font-size: 0.8rem;\n  font-weight: bold;\n  padding: 0.5rem 1.5rem;\n  justify-self: center;\n\n  &:hover:not(:disabled) {\n    background: ${(props) => props.theme.colors.white};\n    color: ${(props) => props.theme.colors.black};\n    transition: 0.25s ease-in-out;\n  }\n`;\n","import { useTranslation } from \"react-i18next\";\n\nimport { TokenInfo } from \"@airswap/types\";\n\nimport TokenLogo from \"../../../TokenLogo/TokenLogo\";\nimport {\n  Container,\n  TextContainer,\n  Symbol,\n  TokenName,\n  ImportButton,\n  UnsupportedTokenText,\n} from \"./TokenImportButton.styles\";\n\nexport type TokenImportRowProps = {\n  /**\n   * TokenInfo object\n   */\n  token: TokenInfo;\n  /**\n   * True if the token isn't currently supported by makers.\n   */\n  isUnsupported: boolean;\n  /**\n   * onClick event, either setSignerToken or setSenderToken\n   */\n  onClick: (val: string) => void;\n};\n\nconst TokenImportButton = ({\n  token,\n  onClick,\n  isUnsupported,\n}: TokenImportRowProps) => {\n  const { t } = useTranslation([\"balances\", \"common\"]);\n\n  return (\n    <Container>\n      <TokenLogo tokenInfo={token} size=\"medium\" />\n\n      <TextContainer>\n        <Symbol>{token.symbol}</Symbol>\n        <TokenName>{token.name}</TokenName>\n      </TextContainer>\n      {isUnsupported ? (\n        <UnsupportedTokenText>\n          {t(\"balances:unsupportedToken\")}\n        </UnsupportedTokenText>\n      ) : (\n        <ImportButton onClick={() => onClick(token.address)}>\n          {t(\"balances:addToTokenSet\")}\n        </ImportButton>\n      )}\n    </Container>\n  );\n};\n\nexport default TokenImportButton;\n","import { useTranslation } from \"react-i18next\";\n\nimport { TokenInfo } from \"@airswap/types\";\n\nimport {\n  InactiveTitle,\n  InactiveTitleContainer,\n  InformationIcon,\n  TokenContainer,\n} from \"../../TokenList.styles\";\nimport TokenImportButton from \"../TokenImportButton/TokenImportButton\";\n\ntype InactiveTokensListProps = {\n  inactiveTokens: TokenInfo[];\n  supportedTokenAddresses: string[];\n  onTokenClick: (tokenAddress: string) => void;\n};\n\nconst InactiveTokensList = ({\n  supportedTokenAddresses,\n  inactiveTokens,\n  onTokenClick,\n}: InactiveTokensListProps) => {\n  const { t } = useTranslation([\"orders\"]);\n\n  return (\n    <>\n      <InactiveTitleContainer>\n        <InactiveTitle>\n          {t(\"orders:expandedResults\")}\n          <InformationIcon name=\"information-circle-outline\" />\n        </InactiveTitle>\n      </InactiveTitleContainer>\n      <TokenContainer>\n        {inactiveTokens.map((token) => (\n          <TokenImportButton\n            token={token}\n            isUnsupported={\n              supportedTokenAddresses.length !== 0 &&\n              !supportedTokenAddresses.includes(token.address)\n            }\n            onClick={() => onTokenClick(token.address)}\n            key={`${token.address}`}\n          />\n        ))}\n      </TokenContainer>\n    </>\n  );\n};\n\nexport default InactiveTokensList;\n","const stringToSignificantDecimals: (\n  input: string,\n  sigDecimals?: number\n) => string = (input, sigDecimals = 6) => {\n  // Don't do anything if there's no decimal point.\n  if (input.indexOf(\".\") === -1) {\n    return input;\n  }\n\n  const [beforeDecimalPoint, afterDecimalPoint] = input.split(\".\");\n  let trimmedDecimals = \"\";\n  if (afterDecimalPoint.length <= sigDecimals) {\n    // No need to trim\n    trimmedDecimals = afterDecimalPoint;\n  } else if (beforeDecimalPoint.match(/[1-9]/)) {\n    // Number greater than zero, all decimal places significant:\n    // just trim decimals to correct length\n    trimmedDecimals = afterDecimalPoint.slice(0, 4);\n  } else {\n    // Number less than zero, some decimal places may not be significant\n    let sigDecimalsRemaining = sigDecimals;\n    let i = 0;\n    let inLeadingZeroes = true;\n    while (sigDecimalsRemaining > 0 && i < afterDecimalPoint.length - 1) {\n      const currentDigit = afterDecimalPoint[i];\n      trimmedDecimals += currentDigit;\n      if (!inLeadingZeroes || currentDigit !== \"0\") {\n        inLeadingZeroes = false;\n        sigDecimalsRemaining--;\n      }\n      i++;\n    }\n  }\n\n  return `${beforeDecimalPoint}.${trimmedDecimals}`;\n};\nexport default stringToSignificantDecimals;\n","import styled, { keyframes } from \"styled-components/macro\";\n\nimport Icon from \"../../../Icon/Icon\";\n\ntype ContainerProps = {\n  disabled: boolean;\n  showDeleteButton: boolean;\n};\n\nexport const TokenNameContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  position: relative;\n`;\n\nexport const TokenName = styled.h3`\n  width: 100%;\n  text-align: left;\n  line-height: 1;\n  font-size: 0.875rem;\n  font-weight: 500;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  color: ${(props) => props.theme.colors.lightGrey};\n`;\n\nconst scaleInAnimation = keyframes`\n  from {\n    transform: scale(0);\n  }\n\n  to {\n    transform: scale(1);\n  }\n`;\n\nexport const DeleteIcon = styled(Icon)`\n  margin-left: auto;\n  padding: 0.25rem;\n  color: ${(props) => props.theme.colors.lightGrey};\n\n  transform: scale(0);\n  animation: ${scaleInAnimation} 0.25s ease-out forwards;\n\n  @media (prefers-reduced-motion: reduce) {\n    transform: scale(1);\n    animation: none;\n  }\n`;\n\nexport const Container = styled.button<ContainerProps>`\n  position: relative;\n  width: 100%;\n  padding: 0.5rem 0;\n  display: grid;\n  grid-auto-flow: column;\n  cursor: ${(props) => (props.disabled ? \"not-allowed\" : \"pointer\")};\n  grid-template-columns: ${(props) =>\n    props.showDeleteButton\n      ? \"1.5rem 4rem calc(100% - 11.5rem) 3rem\"\n      : \"1.5rem 4rem calc(50% - 4rem) calc(50% - 4.5rem)\"};\n  grid-gap: 1rem;\n  align-items: center;\n  opacity: ${(props) => (props.disabled ? 0.6 : 1)};\n\n  &:hover {\n    ${TokenName} {\n      color: ${(props) =>\n        props.disabled\n          ? props.theme.colors.lightGrey\n          : props.theme.colors.white};\n    }\n\n    ${DeleteIcon} {\n      color: ${(props) =>\n        props.disabled\n          ? props.theme.colors.lightGrey\n          : props.theme.colors.white};\n    }\n  }\n\n  &:focus {\n    outline-color: ${(props) => props.theme.colors.white};\n  }\n`;\n\nexport const TextContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n`;\n\nexport const Symbol = styled.h3`\n  text-align: left;\n  font-size: 1.125rem;\n  font-weight: 600;\n  line-height: calc(1 + (1 / 3));\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n`;\n\nexport const Balance = styled.div`\n  font-weight: 500;\n  text-align: right;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n`;\n","import { TokenInfo } from \"@airswap/types\";\n\nimport stringToSignificantDecimals from \"../../../../helpers/stringToSignificantDecimals\";\nimport TokenLogo from \"../../../TokenLogo/TokenLogo\";\nimport {\n  Container,\n  Symbol,\n  TokenName,\n  Balance,\n  DeleteIcon,\n} from \"./TokenButton.styles\";\n\nexport type TokenRowProps = {\n  /**\n   * TokenInfo object\n   */\n  token: TokenInfo;\n  /**\n   * Balance of current token\n   */\n  balance: string;\n  /**\n   * onClick event, either setSignerToken or setSenderToken\n   */\n  setToken: (val: string) => void;\n  /**\n   * Whether to disable selection of this token (e.g. if already selected)\n   */\n  disabled?: boolean;\n  /**\n   * Removes token from the active tokens list.\n   */\n  removeActiveToken: (tokenAddress: string) => void;\n  /**\n   * Show delete button\n   */\n  showDeleteButton?: boolean;\n};\n\nconst TokenButton = ({\n  token,\n  balance,\n  setToken,\n  removeActiveToken,\n  disabled = false,\n  showDeleteButton = false,\n}: TokenRowProps) => {\n  const onClickHandler = () => {\n    if (disabled) {\n      return;\n    }\n\n    if (!showDeleteButton) {\n      setToken(token.address);\n    } else {\n      removeActiveToken(token.address);\n    }\n  };\n\n  return (\n    <Container\n      onClick={onClickHandler}\n      disabled={disabled}\n      showDeleteButton={showDeleteButton}\n    >\n      <TokenLogo tokenInfo={token} size=\"small\" />\n\n      <Symbol>{token.symbol}</Symbol>\n\n      <TokenName>{token.name}</TokenName>\n\n      {showDeleteButton ? (\n        <DeleteIcon name=\"deny\" />\n      ) : (\n        <Balance>{stringToSignificantDecimals(balance)}</Balance>\n      )}\n    </Container>\n  );\n};\n\nexport default TokenButton;\n","import { useState, useMemo, useRef, useEffect } from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { TokenInfo } from \"@airswap/types\";\nimport { formatUnits } from \"@ethersproject/units\";\n\nimport nativeETH from \"../../constants/nativeETH\";\nimport { BalancesState } from \"../../features/balances/balancesSlice\";\nimport useWindowSize from \"../../helpers/useWindowSize\";\nimport { InfoHeading } from \"../Typography/Typography\";\nimport {\n  Container,\n  SearchInput,\n  TokenContainer,\n  Legend,\n  LegendItem,\n  LegendDivider,\n  ScrollContainer,\n  ContentContainer,\n  NoResultsContainer,\n  EditCustomTokensButton,\n} from \"./TokenList.styles\";\nimport { filterTokens } from \"./filter\";\nimport { sortTokenByExactMatch, sortTokensBySymbolAndBalance } from \"./sort\";\nimport InactiveTokensList from \"./subcomponents/InactiveTokensList/InactiveTokensList\";\nimport TokenButton from \"./subcomponents/TokenButton/TokenButton\";\n\nexport type TokenListProps = {\n  /**\n   * ID of currently connected chain\n   */\n  chainId: number;\n  /**\n   * Called when a token has been seleced.\n   */\n  onSelectToken: (val: string) => void;\n  /**\n   * Balances for current tokens in wallet\n   */\n  balances: BalancesState;\n  /**\n   * all Token addresses in metadata.\n   */\n  allTokens: TokenInfo[];\n  /**\n   * All active tokens.\n   */\n  activeTokens: TokenInfo[];\n  /**\n   * Supported tokens according to registry\n   */\n  supportedTokenAddresses: string[];\n  /**\n   * function to handle adding active tokens (dispatches addActiveToken).\n   */\n  addActiveToken: (val: string) => void;\n  /**\n   * function to handle removing active tokens (dispatches removeActiveToken).\n   */\n  removeActiveToken: (val: string) => void;\n};\n\nconst TokenList = ({\n  chainId,\n  onSelectToken,\n  balances,\n  allTokens,\n  activeTokens = [],\n  supportedTokenAddresses,\n  addActiveToken,\n  removeActiveToken,\n}: TokenListProps) => {\n  const { width, height } = useWindowSize();\n  const containerRef = useRef<HTMLDivElement>(null);\n  const scrollContainerRef = useRef<HTMLDivElement>(null);\n  const [overflow, setOverflow] = useState(false);\n  const [editMode, setEditMode] = useState(false);\n\n  const [tokenQuery, setTokenQuery] = useState<string>(\"\");\n  const { t } = useTranslation([\n    \"common\",\n    \"wallet\",\n    \"orders\",\n    \"balances\",\n    \"orders\",\n  ]);\n\n  // sort tokens based on symbol\n  const sortedTokens: TokenInfo[] = useMemo(() => {\n    return sortTokensBySymbolAndBalance(activeTokens, balances);\n  }, [activeTokens, balances]);\n\n  // filter token\n  const filteredTokens: TokenInfo[] = useMemo(() => {\n    return filterTokens(Object.values(sortedTokens), tokenQuery);\n  }, [sortedTokens, tokenQuery]);\n\n  const sortedFilteredTokens: TokenInfo[] = useMemo(() => {\n    return sortTokenByExactMatch(filteredTokens, tokenQuery);\n  }, [filteredTokens, tokenQuery]);\n\n  // sort inactive tokens based on symbol\n  const sortedInactiveTokens: TokenInfo[] = useMemo(() => {\n    return sortTokenByExactMatch(\n      allTokens.filter((el) => {\n        return !activeTokens.includes(el);\n      }),\n      tokenQuery\n    );\n  }, [allTokens, activeTokens, tokenQuery]);\n\n  // only take the top 10 tokens\n  const inactiveTokens: TokenInfo[] = useMemo(() => {\n    return filterTokens(Object.values(sortedInactiveTokens), tokenQuery!).slice(\n      0,\n      10\n    );\n  }, [sortedInactiveTokens, tokenQuery]);\n\n  useEffect(() => {\n    if (containerRef.current && scrollContainerRef.current) {\n      const { offsetTop, scrollHeight } = scrollContainerRef.current;\n      setOverflow(scrollHeight + offsetTop > containerRef.current.offsetHeight);\n    }\n  }, [\n    containerRef,\n    scrollContainerRef,\n    activeTokens,\n    sortedTokens,\n    allTokens,\n    tokenQuery,\n    width,\n    height,\n  ]);\n\n  return (\n    <Container ref={containerRef} $overflow={overflow}>\n      <ContentContainer>\n        <SearchInput\n          hideLabel\n          id=\"tokenQuery\"\n          type=\"text\"\n          label={t(\"orders:searchByNameOrAddress\")}\n          value={tokenQuery}\n          placeholder={t(\"orders:searchByNameOrAddress\")}\n          onChange={(e) => {\n            setTokenQuery(e.currentTarget.value);\n          }}\n        />\n\n        <ScrollContainer ref={scrollContainerRef}>\n          <Legend>\n            <LegendItem>{t(\"common:token\")}</LegendItem>\n            <LegendDivider />\n            <LegendItem>{t(\"balances:balance\")}</LegendItem>\n          </Legend>\n\n          {sortedFilteredTokens && sortedFilteredTokens.length > 0 && (\n            <TokenContainer>\n              {[nativeETH[chainId], ...sortedFilteredTokens].map((token) => (\n                <TokenButton\n                  showDeleteButton={\n                    editMode && token.address !== nativeETH[chainId].address\n                  }\n                  token={token}\n                  balance={formatUnits(\n                    balances.values[token.address] || 0,\n                    token.decimals\n                  )}\n                  setToken={onSelectToken}\n                  removeActiveToken={removeActiveToken}\n                  key={token.address}\n                />\n              ))}\n            </TokenContainer>\n          )}\n          {inactiveTokens.length !== 0 &&\n            tokenQuery &&\n            sortedFilteredTokens.length < 5 && (\n              <InactiveTokensList\n                inactiveTokens={inactiveTokens}\n                supportedTokenAddresses={supportedTokenAddresses}\n                onTokenClick={(tokenAddress) => {\n                  addActiveToken(tokenAddress);\n                  setTokenQuery(\"\");\n                }}\n              />\n            )}\n          {sortedFilteredTokens.length === 0 && inactiveTokens.length === 0 && (\n            <NoResultsContainer>\n              <InfoHeading>{t(\"common:noResultsFound\")}</InfoHeading>\n            </NoResultsContainer>\n          )}\n        </ScrollContainer>\n        <EditCustomTokensButton onClick={() => setEditMode(!editMode)}>\n          {editMode ? t(\"common:done\") : t(\"orders:editCustomTokens\")}\n        </EditCustomTokensButton>\n      </ContentContainer>\n    </Container>\n  );\n};\n\nexport default TokenList;\n","import { useState, useEffect } from \"react\";\n\nexport type TimerProps = {\n  /**\n   * Expiration time in unix timestamp (s)\n   */\n  expiryTime: number;\n  onTimerComplete?: () => void;\n};\n\nexport const Timer = ({\n  expiryTime = Date.now() / 1000 + 300,\n  onTimerComplete,\n}: TimerProps) => {\n  const [distance, setDistance] = useState<number>(\n    Math.floor(expiryTime - Date.now() / 1000)\n  );\n\n  useEffect(() => {\n    let interval = setInterval(() => {\n      const dist: number = Math.floor(expiryTime - Date.now() / 1000);\n\n      if (dist <= 0) {\n        setDistance(0);\n        clearInterval(interval);\n        onTimerComplete && onTimerComplete();\n        return;\n      }\n\n      setDistance(dist);\n    }, 1000);\n    return () => {\n      clearInterval(interval);\n    };\n  }, [expiryTime, onTimerComplete]);\n\n  return distance !== undefined ? (\n    <span>\n      {Math.floor(distance / 60)}:\n      {Math.floor(distance % 60) < 10\n        ? `0${Math.floor(distance % 60)}`\n        : Math.floor(distance % 60)}\n    </span>\n  ) : null;\n};\n\nexport default Timer;\n","import { IoMdSwap } from \"react-icons/io\";\n\nimport styled from \"styled-components/macro\";\n\nimport { InfoHeading } from \"../Typography/Typography\";\n\nexport const StyledInfoHeading = styled(InfoHeading)`\n  display: flex;\n  align-items: center;\n`;\n\nexport const StyledInvertPriceIcon = styled(IoMdSwap)`\n  position: relative;\n  font-size: 1rem;\n`;\n\nexport const StyledInvertPriceButton = styled.button`\n  border: 1px solid ${(props) => props.theme.colors.borderGrey};\n  margin-left: 0.5rem;\n  width: 1.75rem;\n  height: 1.75rem;\n  overflow: hidden;\n\n  &:hover,\n  &:focus {\n    outline: 0;\n    border-color: ${(props) => props.theme.colors.white};\n  }\n`;\n\nexport const TimerContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: 0.25rem 1.5rem;\n  margin-top: 0.875rem;\n  border: 1px solid ${(props) => props.theme.colors.borderGrey};\n  border-radius: 1rem;\n`;\n\nexport const NewQuoteText = styled.span`\n  font-size: 0.75rem;\n  line-height: 2;\n  font-weight: 700;\n  text-transform: uppercase;\n`;\n\nexport const TimerText = styled(NewQuoteText)`\n  /* Fixed width to prevent jumping around as timer reduces */\n  width: 2rem;\n  color: ${(props) =>\n    props.theme.name === \"dark\"\n      ? props.theme.colors.white\n      : props.theme.colors.primary};\n  margin-left: 0.25rem;\n`;\n","import { FC, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { TokenInfo } from \"@airswap/types\";\nimport { Levels } from \"@airswap/types\";\nimport { LightOrder } from \"@airswap/types\";\n\nimport { BigNumber } from \"bignumber.js\";\n\nimport Timer from \"../../components/Timer/Timer\";\nimport { RFQ_EXPIRY_BUFFER_MS } from \"../../constants/configParams\";\nimport stringToSignificantDecimals from \"../../helpers/stringToSignificantDecimals\";\nimport { InfoHeading, InfoSubHeading } from \"../Typography/Typography\";\nimport {\n  StyledInvertPriceButton,\n  StyledInvertPriceIcon,\n  TimerContainer,\n  NewQuoteText,\n  TimerText,\n  StyledInfoHeading,\n} from \"./InfoSection.styles\";\n\nexport type InfoSectionProps = {\n  isConnected: boolean;\n  isPairUnavailable: boolean;\n  orderSubmitted: boolean;\n  isFetchingOrders: boolean;\n  isApproving: boolean;\n  isSwapping: boolean;\n  bestTradeOption:\n    | {\n        protocol: \"last-look\";\n        quoteAmount: string;\n        pricing: Levels;\n      }\n    | {\n        protocol: \"request-for-quote\";\n        quoteAmount: string;\n        order: LightOrder;\n      }\n    | null;\n  isWrapping: boolean;\n  requiresApproval: boolean;\n  quoteTokenInfo: TokenInfo | null;\n  baseTokenInfo: TokenInfo | null;\n  baseAmount: string;\n};\n\nconst InfoSection: FC<InfoSectionProps> = ({\n  isConnected,\n  isPairUnavailable,\n  orderSubmitted,\n  isApproving,\n  isSwapping,\n  bestTradeOption,\n  isWrapping,\n  isFetchingOrders,\n  requiresApproval,\n  baseTokenInfo,\n  baseAmount,\n  quoteTokenInfo,\n}) => {\n  const { t } = useTranslation([\"orders\", \"marketing\"]);\n  const [invertPrice, setInvertPrice] = useState<boolean>(false);\n  // Wallet not connected.\n  if (!isConnected) {\n    return (\n      <>\n        <InfoHeading>{t(\"marketing:useAtOwnRisk\")}</InfoHeading>\n        <InfoSubHeading>{t(\"marketing:alphaPreview\")}</InfoSubHeading>\n      </>\n    );\n  }\n\n  if (isFetchingOrders) {\n    return (\n      <>\n        <InfoHeading>{t(\"orders:findingBestPrice\")}</InfoHeading>\n        <InfoSubHeading>{t(\"orders:scanningPeers\")}</InfoSubHeading>\n      </>\n    );\n  }\n\n  if (isPairUnavailable) {\n    return (\n      <>\n        <InfoHeading>{t(\"orders:tokenPairUnavailable\")}</InfoHeading>\n        <InfoSubHeading>{t(\"orders:retryOrCancel\")}</InfoSubHeading>\n      </>\n    );\n  }\n\n  if (orderSubmitted) {\n    return (\n      <>\n        <InfoHeading>{t(\"orders:submitted\")}</InfoHeading>\n        <InfoSubHeading>{t(\"orders:trackTransaction\")}</InfoSubHeading>\n      </>\n    );\n  }\n\n  if (isApproving) {\n    return (\n      <>\n        <InfoHeading>\n          {t(\"orders:approvePending\", { symbol: baseTokenInfo!.symbol })}\n        </InfoHeading>\n        <InfoSubHeading>{t(\"orders:approveMessage\")}</InfoSubHeading>\n      </>\n    );\n  }\n\n  if (isSwapping) {\n    return (\n      <>\n        <InfoHeading>{t(\"orders:swapPending\")}</InfoHeading>\n        <InfoSubHeading>{t(\"orders:swapMessage\")}</InfoSubHeading>\n      </>\n    );\n  }\n\n  if (isWrapping) {\n    return (\n      <>\n        <InfoHeading>\n          1 {invertPrice ? quoteTokenInfo!.symbol : baseTokenInfo!.symbol} = 1{\" \"}\n          {invertPrice ? baseTokenInfo!.symbol : quoteTokenInfo!.symbol}\n          <StyledInvertPriceButton onClick={() => setInvertPrice((p) => !p)}>\n            <StyledInvertPriceIcon />\n          </StyledInvertPriceButton>\n        </InfoHeading>\n        <InfoSubHeading>{t(\"orders:wrapMessage\")}</InfoSubHeading>\n      </>\n    );\n  }\n\n  if (!!bestTradeOption) {\n    let price = new BigNumber(bestTradeOption.quoteAmount).dividedBy(\n      baseAmount\n    );\n\n    if (invertPrice) {\n      price = new BigNumber(1).dividedBy(price);\n    }\n\n    return (\n      <>\n        <StyledInfoHeading>\n          1 {invertPrice ? quoteTokenInfo!.symbol : baseTokenInfo!.symbol} ={\" \"}\n          {stringToSignificantDecimals(price.toString())}{\" \"}\n          {invertPrice ? baseTokenInfo!.symbol : quoteTokenInfo!.symbol}\n          <StyledInvertPriceButton onClick={() => setInvertPrice((p) => !p)}>\n            <StyledInvertPriceIcon />\n          </StyledInvertPriceButton>\n        </StyledInfoHeading>\n        {requiresApproval ? (\n          <InfoSubHeading>\n            {t(\"orders:approvalRequired\", { symbol: baseTokenInfo!.symbol })}\n          </InfoSubHeading>\n        ) : (\n          <InfoSubHeading>\n            <TimerContainer>\n              {bestTradeOption.protocol === \"request-for-quote\" && (\n                <>\n                  <NewQuoteText>{t(\"orders:newQuoteIn\")}</NewQuoteText>\n                  <TimerText>\n                    <Timer\n                      expiryTime={\n                        parseInt(bestTradeOption!.order!.expiry) -\n                        RFQ_EXPIRY_BUFFER_MS / 1000\n                      }\n                    ></Timer>\n                  </TimerText>\n                </>\n              )}\n              {bestTradeOption.protocol === \"last-look\" && (\n                <NewQuoteText>{t(\"orders:gasFreeTrade\")}</NewQuoteText>\n              )}\n            </TimerContainer>\n          </InfoSubHeading>\n        )}\n      </>\n    );\n  }\n\n  // No order & not fetching, but wallet connected.\n  return (\n    <>\n      <InfoHeading>{t(\"marketing:useAtOwnRisk\")}</InfoHeading>\n      <InfoSubHeading>{t(\"marketing:alphaPreview\")}</InfoSubHeading>\n    </>\n  );\n};\n\nexport default InfoSection;\n","import { AbstractConnector } from \"@web3-react/abstract-connector\";\nimport { InjectedConnector } from \"@web3-react/injected-connector\";\nimport { WalletConnectConnector } from \"@web3-react/walletconnect-connector\";\n\nimport metamaskLogo from \"../assets/wallet-provider-logos/metamask.svg\";\nimport walletconnectLogo from \"../assets/wallet-provider-logos/walletconnect.svg\";\n\nexport type WalletProvider = {\n  name: string;\n  logo: string;\n  getConnector: () => AbstractConnector;\n};\n\nconst SUPPORTED_WALLET_PROVIDERS: WalletProvider[] = [\n  {\n    name: \"MetaMask\",\n    logo: metamaskLogo,\n    getConnector: () =>\n      new InjectedConnector({\n        supportedChainIds: [\n          1, // Mainet\n          3, // Ropsten\n          4, // Rinkeby\n          5, // Goerli\n          42, // Kovan\n        ],\n      }),\n  },\n  {\n    name: \"WalletConnect\",\n    logo: walletconnectLogo,\n    getConnector: () =>\n      new WalletConnectConnector({\n        rpc: {\n          1: process.env.REACT_APP_RPC_URL_1 || \"\",\n          4: process.env.REACT_APP_RPC_URL_4 || \"\",\n        },\n      }),\n  },\n];\n\nexport default SUPPORTED_WALLET_PROVIDERS;\n\nexport { AbstractConnector };\n","export default __webpack_public_path__ + \"static/media/metamask.45038d58.svg\";","export default __webpack_public_path__ + \"static/media/walletconnect.dfa25e47.svg\";","import styled from \"styled-components/macro\";\n\nimport { sizes } from \"../../style/sizes\";\n\nexport const StyledWalletProviderList = styled.div`\n  display: flex;\n  flex-direction: column;\n  padding: 0 ${sizes.tradeContainerPadding};\n  background: ${(props) => props.theme.colors.black};\n`;\n\nexport const TitleContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  margin-bottom: 1.875rem;\n`;\n\nexport const StyledButton = styled.button`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  position: relative;\n  border: 1px solid ${(props) => props.theme.colors.borderGrey};\n  padding: 1rem;\n  height: 4.5rem;\n  background: ${(props) => props.theme.colors.darkGrey};\n\n  &:hover {\n    border-color: ${(props) => props.theme.colors.primary};\n  }\n\n  & + & {\n    margin-top: 0.5rem;\n  }\n`;\n\nexport const ButtonIconContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  position: relative;\n  width: 3rem;\n  height: 100%;\n`;\n\nexport const ButtonIcon = styled.img`\n  width: 100%;\n  height: auto;\n`;\n\nexport const ButtonText = styled.h4`\n  margin-left: 1rem;\n  width: 100%;\n  height: auto;\n  font-weight: 600;\n  text-align: left;\n  text-transform: uppercase;\n`;\n","import SUPPORTED_WALLET_PROVIDERS, {\n  WalletProvider,\n} from \"../../constants/supportedWalletProviders\";\nimport {\n  StyledButton,\n  ButtonIconContainer,\n  StyledWalletProviderList,\n  ButtonIcon,\n  ButtonText,\n} from \"./WalletProviderList.styles\";\n\nexport type WalletProviderListProps = {\n  onProviderSelected: (provider: WalletProvider) => void;\n  onClose: () => void;\n  className?: string;\n};\n\nconst WalletProviderList = ({\n  onProviderSelected,\n  onClose,\n  className,\n}: WalletProviderListProps) => {\n  return (\n    <StyledWalletProviderList className={className}>\n      {SUPPORTED_WALLET_PROVIDERS.map((provider) => (\n        <StyledButton\n          key={provider.name}\n          onClick={() => {\n            onProviderSelected(provider);\n            onClose();\n          }}\n        >\n          <ButtonIconContainer>\n            <ButtonIcon\n              src={provider.logo}\n              alt={`${provider.name} logo`}\n              className=\"w-12 h-12\"\n            />\n          </ButtonIconContainer>\n          <ButtonText>{provider.name}</ButtonText>\n        </StyledButton>\n      ))}\n    </StyledWalletProviderList>\n  );\n};\n\nexport default WalletProviderList;\n","import { MdDoneAll } from \"react-icons/md\";\n\nimport styled from \"styled-components/macro\";\n\nimport WalletProviderList from \"../WalletProviderList/WalletProviderList\";\n\nexport const Header = styled.div`\n  margin-bottom: 2rem;\n`;\n\nexport const QuoteAndTimer = styled.div`\n  display: flex;\n  margin-bottom: 1rem;\n`;\n\nexport const InfoContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  flex-grow: 2;\n  margin-bottom: 0.5rem;\n`;\n\nexport const ButtonContainer = styled.div`\n  display: flex;\n  margin-top: auto;\n  justify-self: flex-end;\n  gap: 1.25rem;\n`;\n\nexport const HugeTicks = styled(MdDoneAll)`\n  font-size: 8rem;\n  margin: 5rem auto 2px auto;\n`;\n\nexport const StyledSwapWidget = styled.div`\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n`;\n\nexport const StyledWalletProviderList = styled(WalletProviderList)`\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n`;\n\nexport default StyledSwapWidget;\n","import styled from \"styled-components/macro\";\n\nimport Button from \"../../../Button/Button\";\n\nexport const BackButton = styled(Button)`\n  flex: 1 0 0;\n`;\nexport const MainButton = styled(Button)`\n  flex: 2.33333333 0 0;\n`;\n","import { MdKeyboardArrowDown } from \"react-icons/md\";\n\nimport styled, { css, keyframes } from \"styled-components/macro\";\n\nimport {\n  SelectItem,\n  FormLabel,\n  FormInput,\n  Metadata,\n} from \"../Typography/Typography\";\n\nexport const FlexRow = styled.div`\n  display: flex;\n  flex-direction: row;\n  height: 2.5rem;\n`;\n\nexport const AmountAndDetailsContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  min-width: 0;\n  text-align: right;\n`;\n\nexport const InputAndMaxButtonWrapper = styled.div`\n  display: flex;\n  min-width: 0;\n  gap: 0.75rem;\n`;\n\nexport const MaxButton = styled.button`\n  position: relative;\n  bottom: 1px;\n  letter-spacing: 0.07rem;\n  align-self: center;\n  padding: 0.125rem;\n  border-radius: 0.125rem;\n  font-weight: 600;\n  font-size: 0.5rem;\n  line-height: 1;\n  text-transform: uppercase;\n  background-color: ${(props) => props.theme.colors.lightGrey};\n  color: ${(props) => props.theme.colors.black};\n  opacity: 0.6;\n  transition: opacity 0.3s ease-in-out;\n  &:hover {\n    opacity: 1;\n  }\n`;\n\nconst fadeInOut = keyframes`\n  from {\n    opacity: 1;\n  }\n\n  to {\n    opacity: 0;\n  }\n`;\n\nexport const PlaceHolderBar = styled.div`\n  background-image: ${(props) => props.theme.colors.placeholderGradient};\n  animation: ${fadeInOut} 0.35s ease-in-out infinite alternate;\n`;\n\nexport const PlaceholderTop = styled(PlaceHolderBar)`\n  height: 1.25rem;\n  width: 100%;\n`;\n\nexport const PlaceholderBottom = styled(PlaceHolderBar)`\n  height: 0.9375rem;\n  width: 75%;\n  animation-delay: 0.1s;\n`;\n\nexport const TokenSelectContainer = styled.div<{ isLoading: boolean }>`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  position: relative;\n  width: 100%;\n  height: 4.5rem;\n  padding: 1rem;\n  margin-bottom: 0.5rem;\n  border: 1px solid ${(props) => props.theme.colors.borderGrey};\n  border-radius: 2px;\n  background-color: ${(props) =>\n    props.theme.name === \"dark\"\n      ? props.theme.colors.darkGrey\n      : props.theme.colors.alwaysWhite};\n\n  ${PlaceHolderBar} {\n    ${(props) => (props.isLoading ? \"\" : \"animation: none;\")}\n  }\n`;\n\nconst fadeOutWhenInvisible = css<{ $invisible: boolean }>`\n  transition: opacity ease-in-out 0.3s;\n  will-change: opacity;\n  opacity: ${(props) => (props.$invisible ? 0 : 1)};\n`;\n\nexport const StyledLabel = styled(FormLabel)<{ $invisible: boolean }>`\n  text-align: left;\n  ${fadeOutWhenInvisible}\n`;\n\nexport const StyledSelectButtonContent = styled.span<{ $emphasize: boolean }>`\n  transition: transform ease-in-out 0.3s;\n  will-change: transform;\n  transform: ${(props) =>\n    props.$emphasize\n      ? \"translateY(-0.625rem) scale(1.111111)\"\n      : \"translateY(0) scale(1)\"};\n`;\n\nexport const StyledDownArrow = styled(MdKeyboardArrowDown)<{\n  $invisible: boolean;\n}>`\n  ${fadeOutWhenInvisible}\n`;\n\nexport const StyledSelectButton = styled.button`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  margin-left: 0.9375rem;\n  height: 100%;\n  cursor: ${(props) => (props.disabled ? \"initial\" : \"pointer\")};\n  pointer-events: ${(props) => (props.disabled ? \"none\" : \"visible\")};\n\n  &:focus {\n    outline: 0;\n  }\n`;\n\nexport const StyledSelectItem = styled(SelectItem)`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  line-height: 1;\n  gap: 0.375rem;\n`;\n\nexport const AmountInput = styled(FormInput)<{\n  hasSubtext: boolean;\n  disabled: boolean;\n}>`\n  padding-right: 0;\n  margin-top: ${(props) => (props.hasSubtext ? \"-0.75rem\" : 0)};\n  pointer-events: ${(props) => (props.disabled ? \"none\" : \"visible\")};\n  text-align: right;\n\n  &:focus {\n    outline: 0;\n  }\n`;\n\nexport const AmountSubtext = styled(Metadata)`\n  margin-top: -0.25rem;\n`;\n\nexport const PlaceholderContainer = styled.div`\n  display: flex;\n  flex: 1 1 0;\n  flex-direction: column;\n  align-items: flex-end;\n  gap: 0.3125rem;\n  max-width: 50%;\n`;\n","import styled, { createGlobalStyle } from \"styled-components/macro\";\n\nimport convertHexToRGBA from \"../../../../helpers/transformHexToRgba\";\n\ntype BorderType = {\n  position: \"left\" | \"right\";\n};\n\nconst Border = styled.div<BorderType>`\n  transition: opacity ease-out 0.3s;\n  display: block;\n  position: absolute;\n  background: ${(props) => props.theme.colors.primary};\n  background: linear-gradient(\n    90deg,\n    ${(props) => convertHexToRGBA(props.theme.colors.primary, 0)} 0%,\n    ${(props) => convertHexToRGBA(props.theme.colors.primary, 1)} 100%\n  );\n  opacity: 0;\n`;\n\nexport const BorderRight = styled(Border)`\n  top: 0;\n  right: ${(props) => (props.position === \"right\" ? 0 : \"auto\")};\n  left: ${(props) => (props.position === \"left\" ? 0 : \"auto\")};\n  width: 1px;\n  height: 100%;\n  background: ${(props) => props.theme.colors.primary};\n`;\n\nexport const BorderTop = styled(Border)`\n  transform: ${(props) =>\n    props.position === \"left\" ? \"scaleX(-100%)\" : \"none\"};\n  top: 0;\n  right: ${(props) => (props.position === \"right\" ? 0 : \"auto\")};\n  left: ${(props) => (props.position === \"left\" ? 0 : \"auto\")};\n  width: 50%;\n  height: 1px;\n`;\n\nexport const BorderBottom = styled(Border)`\n  transform: ${(props) =>\n    props.position === \"left\" ? \"scaleX(-100%)\" : \"none\"};\n  bottom: 0;\n  right: ${(props) => (props.position === \"right\" ? 0 : \"auto\")};\n  left: ${(props) => (props.position === \"left\" ? 0 : \"auto\")};\n  width: 50%;\n  height: 1px;\n  background: linear-gradient(\n    90deg,\n    ${(props) => convertHexToRGBA(props.theme.colors.primary, 0)} 0%,\n    ${(props) => convertHexToRGBA(props.theme.colors.primary, 1)} 100%\n  );\n`;\n\nexport const GlobalStyle = createGlobalStyle`\n  input, button {\n    &:focus, &:hover {\n      & ~ ${Border} {\n        opacity: 1;\n      }\n    }\n  }\n`;\n","import { FC } from \"react\";\n\nimport {\n  GlobalStyle,\n  BorderBottom,\n  BorderRight,\n  BorderTop,\n} from \"./TokenSelectFocusBorder.styles\";\n\ntype TokenSelectFocusBorderProps = {\n  position?: \"left\" | \"right\";\n};\n\nconst TokenSelectFocusBorder: FC<TokenSelectFocusBorderProps> = ({\n  position = \"right\",\n}) => {\n  return (\n    <>\n      <GlobalStyle />\n      <BorderRight position={position} />\n      <BorderTop position={position} />\n      <BorderBottom position={position} />\n    </>\n  );\n};\n\nexport default TokenSelectFocusBorder;\n","import { FC, MouseEventHandler, FormEventHandler } from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { TokenInfo } from \"@airswap/types\";\n\nimport TokenLogo from \"../TokenLogo/TokenLogo\";\nimport {\n  AmountInput,\n  AmountAndDetailsContainer,\n  AmountSubtext,\n  FlexRow,\n  TokenSelectContainer,\n  StyledSelectItem,\n  StyledSelectButton,\n  PlaceholderContainer,\n  PlaceholderTop,\n  PlaceholderBottom,\n  StyledLabel,\n  StyledDownArrow,\n  StyledSelectButtonContent,\n  InputAndMaxButtonWrapper,\n  MaxButton,\n} from \"./TokenSelect.styles\";\nimport TokenSelectFocusBorder from \"./subcomponents/TokenSelectFocusBorder/TokenSelectFocusBorder\";\n\nexport type TokenSelectProps = {\n  /**\n   * Whether or not the token selector is read only, e.g. when used to display\n   * a quote.\n   */\n  readOnly: boolean;\n  /**\n   * Whether or not to display an amount input with the token select, or to\n   * display a placeholder, e.g. when used to select received token where amount\n   * isn't known yet.\n   */\n  includeAmountInput: boolean;\n  /**\n   * Label - note that this is not shown if the field is readOnly.\n   */\n  label: string;\n  /**\n   * Metadata for currently selected token\n   */\n  selectedToken: TokenInfo | null;\n  /**\n   * Called when the user has clicked on the token dropdown to change token\n   */\n  onChangeTokenClicked: MouseEventHandler<HTMLButtonElement>;\n  /**\n   * Called when user clicks the 'use max' button. Presence of this prop is used\n   * to imply presence of use max button in DOM.\n   */\n  onMaxClicked?: MouseEventHandler<HTMLButtonElement>;\n  /**\n   * Currently selected amount. Not used if `includeAmountInput` is false.\n   */\n  amount?: string | null;\n  /**\n   * Called when the amount is changed. Input change event is passed.\n   */\n  onAmountChange?: FormEventHandler<HTMLInputElement>;\n  /**\n   * Text to include beneath the amount. Currently used for fee information.\n   */\n  amountDetails?: string;\n  /**\n   * Used for showing loading state\n   */\n  isLoading?: boolean;\n  /**\n   * Show max button\n   */\n  showMaxButton?: boolean;\n};\n\nconst TokenSelect: FC<TokenSelectProps> = ({\n  readOnly,\n  includeAmountInput,\n  label,\n  selectedToken,\n  onChangeTokenClicked,\n  onMaxClicked,\n  amount,\n  onAmountChange,\n  amountDetails,\n  isLoading = false,\n  showMaxButton = false,\n}) => {\n  const { t } = useTranslation([\"common\"]);\n  return (\n    <TokenSelectContainer isLoading={isLoading}>\n      <FlexRow>\n        <TokenLogo size=\"large\" tokenInfo={selectedToken} />\n        <StyledSelectButton onClick={onChangeTokenClicked} disabled={readOnly}>\n          <StyledLabel $invisible={readOnly}>{label}</StyledLabel>\n          <StyledSelectItem>\n            <StyledSelectButtonContent $emphasize={readOnly}>\n              {selectedToken ? selectedToken.symbol : t(\"common:select\")}\n            </StyledSelectButtonContent>\n            <StyledDownArrow $invisible={readOnly} />\n          </StyledSelectItem>\n        </StyledSelectButton>\n        <TokenSelectFocusBorder position=\"left\" />\n      </FlexRow>\n      {includeAmountInput ? (\n        <InputAndMaxButtonWrapper>\n          <AmountAndDetailsContainer>\n            <AmountInput\n              // @ts-ignore\n              inputMode=\"decimal\"\n              autoComplete=\"off\"\n              pattern=\"^[0-9]*[.,]?[0-9]*$\"\n              minLength={1}\n              maxLength={79}\n              spellCheck={false}\n              value={amount}\n              disabled={readOnly}\n              onChange={onAmountChange}\n              placeholder=\"0.00\"\n              hasSubtext={!!amountDetails}\n            />\n            <TokenSelectFocusBorder position=\"right\" />\n            {amountDetails && <AmountSubtext>{amountDetails}</AmountSubtext>}\n          </AmountAndDetailsContainer>\n          {onMaxClicked && showMaxButton && !readOnly && (\n            <MaxButton onClick={onMaxClicked}>{t(\"common:max\")}</MaxButton>\n          )}\n        </InputAndMaxButtonWrapper>\n      ) : (\n        <PlaceholderContainer>\n          <PlaceholderTop />\n          <PlaceholderBottom />\n        </PlaceholderContainer>\n      )}\n    </TokenSelectContainer>\n  );\n};\n\nexport default TokenSelect;\n","import { FC, MouseEvent, FormEvent } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { MdBlock, MdArrowDownward } from \"react-icons/md\";\n\nimport { TokenInfo } from \"@airswap/types\";\n\nimport styled from \"styled-components/macro\";\n\nimport stringToSignificantDecimals from \"../../../../helpers/stringToSignificantDecimals\";\nimport TokenSelect from \"../../../TokenSelect/TokenSelect\";\n\nexport const SwapIconContainer = styled.div`\n  position: absolute;\n  right: 14.125rem;\n  top: 10rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 1.75rem;\n  height: 1.75rem;\n  border: 1px solid ${(props) => props.theme.colors.borderGrey};\n  background-color: ${(props) => props.theme.colors.black};\n  font-size: 1.25rem;\n  z-index: 1;\n`;\n\nconst floatRegExp = new RegExp(\"^([0-9])*[.,]?([0-9])*$\");\n\nconst SwapInputs: FC<{\n  tradeNotAllowed: boolean;\n  baseAmount: string;\n  baseTokenInfo: TokenInfo | null;\n  quoteTokenInfo: TokenInfo | null;\n  quoteAmount: string;\n  side: \"buy\" | \"sell\";\n  readOnly: boolean;\n  isRequesting: boolean;\n  noFee: boolean;\n  onMaxButtonClick: (event: MouseEvent<HTMLButtonElement>) => void;\n  onChangeTokenClick: (baseOrQuote: \"base\" | \"quote\") => void;\n  onBaseAmountChange: (newValue: string) => void;\n  showMaxButton: boolean;\n}> = ({\n  tradeNotAllowed,\n  baseAmount,\n  quoteAmount,\n  side,\n  readOnly,\n  onMaxButtonClick,\n  onChangeTokenClick,\n  isRequesting,\n  noFee,\n  baseTokenInfo,\n  quoteTokenInfo,\n  onBaseAmountChange,\n  showMaxButton = false,\n}) => {\n  let fromAmount: string, toAmount: string;\n  const isSell = side === \"sell\";\n  if (isSell) {\n    fromAmount = baseAmount;\n    toAmount = stringToSignificantDecimals(quoteAmount);\n  } else {\n    fromAmount = stringToSignificantDecimals(quoteAmount);\n    toAmount = baseAmount;\n  }\n  const { t } = useTranslation([\"orders\"]);\n\n  // Note: it will only be possible for the user to change the base amount.\n  const handleTokenAmountChange = (e: FormEvent<HTMLInputElement>) => {\n    let value = e.currentTarget.value;\n    if (value === \"\" || floatRegExp.test(value)) {\n      if (value[value.length - 1] === \",\")\n        value = value.slice(0, value.length - 1) + \".\";\n      onBaseAmountChange(value);\n    }\n  };\n\n  return (\n    <>\n      <TokenSelect\n        label={t(\"orders:from\")}\n        amount={fromAmount}\n        onAmountChange={(e) => handleTokenAmountChange(e)}\n        onChangeTokenClicked={() => {\n          onChangeTokenClick(isSell ? \"base\" : \"quote\");\n        }}\n        onMaxClicked={onMaxButtonClick}\n        readOnly={readOnly}\n        includeAmountInput={isSell || !!quoteAmount}\n        amountDetails={\n          !isSell && quoteAmount ? t(\"orders:afterFee\", { fee: \"0.07%\" }) : \"\"\n        }\n        selectedToken={isSell ? baseTokenInfo : quoteTokenInfo}\n        isLoading={!isSell && isRequesting}\n        showMaxButton={showMaxButton}\n      />\n      <SwapIconContainer>\n        {tradeNotAllowed ? <MdBlock /> : <MdArrowDownward />}\n      </SwapIconContainer>\n      <TokenSelect\n        label={t(\"orders:to\")}\n        amount={toAmount}\n        onAmountChange={(e) => handleTokenAmountChange(e)}\n        onChangeTokenClicked={() => {\n          onChangeTokenClick(!isSell ? \"base\" : \"quote\");\n        }}\n        readOnly={readOnly}\n        includeAmountInput={!isSell || !!quoteAmount}\n        amountDetails={\n          isSell && quoteAmount && !noFee\n            ? t(\"orders:afterFee\", { fee: \"0.07%\" })\n            : \"\"\n        }\n        selectedToken={!isSell ? baseTokenInfo : quoteTokenInfo}\n        isLoading={isSell && isRequesting}\n      />\n    </>\n  );\n};\n\nexport default SwapInputs;\n","import { useState, useMemo, useEffect, useContext } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { useHistory, useRouteMatch } from \"react-router-dom\";\n\nimport { wethAddresses } from \"@airswap/constants\";\nimport { Registry, Wrapper } from \"@airswap/libraries\";\nimport { findTokensBySymbol } from \"@airswap/metadata\";\nimport { Pricing } from \"@airswap/types\";\nimport { LightOrder } from \"@airswap/types\";\nimport { Web3Provider } from \"@ethersproject/providers\";\nimport { unwrapResult } from \"@reduxjs/toolkit\";\nimport { useWeb3React } from \"@web3-react/core\";\n\nimport { BigNumber } from \"bignumber.js\";\nimport { formatUnits } from \"ethers/lib/utils\";\n\nimport { useAppSelector, useAppDispatch } from \"../../app/hooks\";\nimport {\n  ADDITIONAL_QUOTE_BUFFER,\n  RECEIVE_QUOTE_TIMEOUT_MS,\n} from \"../../constants/configParams\";\nimport nativeETH from \"../../constants/nativeETH\";\nimport { LastLookContext } from \"../../contexts/lastLook/LastLook\";\nimport {\n  requestActiveTokenAllowancesLight,\n  requestActiveTokenAllowancesWrapper,\n  requestActiveTokenBalances,\n} from \"../../features/balances/balancesSlice\";\nimport {\n  selectBalances,\n  selectAllowances,\n} from \"../../features/balances/balancesSlice\";\nimport {\n  selectActiveTokens,\n  selectAllTokenInfo,\n  addActiveToken,\n  removeActiveToken,\n} from \"../../features/metadata/metadataSlice\";\nimport {\n  approve,\n  take,\n  selectBestOrder,\n  selectOrdersStatus,\n  clear,\n  selectBestOption,\n  request,\n  deposit,\n  withdraw,\n} from \"../../features/orders/ordersSlice\";\nimport { selectAllSupportedTokens } from \"../../features/registry/registrySlice\";\nimport {\n  clearTradeTerms,\n  clearTradeTermsQuoteAmount,\n  selectTradeTerms,\n  setTradeTerms,\n  setTradeTermsQuoteAmount,\n} from \"../../features/tradeTerms/tradeTermsSlice\";\nimport { selectPendingApprovals } from \"../../features/transactions/transactionsSlice\";\nimport { setActiveProvider } from \"../../features/wallet/walletSlice\";\nimport findEthOrTokenByAddress from \"../../helpers/findEthOrTokenByAddress\";\nimport { AppRoutes } from \"../../routes\";\nimport Overlay from \"../Overlay/Overlay\";\nimport { notifyError } from \"../Toasts/ToastController\";\nimport TokenList from \"../TokenList/TokenList\";\nimport { Title } from \"../Typography/Typography\";\nimport InfoSection from \"./InfoSection\";\nimport StyledSwapWidget, {\n  Header,\n  InfoContainer,\n  ButtonContainer,\n  HugeTicks,\n  StyledWalletProviderList,\n} from \"./SwapWidget.styles\";\nimport ActionButtons, {\n  ButtonActions,\n} from \"./subcomponents/ActionButtons/ActionButtons\";\nimport SwapInputs from \"./subcomponents/SwapInputs/SwapInputs\";\n\ntype TokenSelectModalTypes = \"base\" | \"quote\" | null;\ntype SwapType = \"swap\" | \"swapWithWrap\" | \"wrapOrUnwrap\";\n\nconst initialBaseAmount = \"\";\n\nconst SwapWidget = () => {\n  // Redux\n  const dispatch = useAppDispatch();\n  const history = useHistory();\n  const balances = useAppSelector(selectBalances);\n  const allowances = useAppSelector(selectAllowances);\n  const bestRfqOrder = useAppSelector(selectBestOrder);\n  const rfqOrderStatus = useAppSelector(selectOrdersStatus);\n  const bestTradeOption = useAppSelector(selectBestOption);\n  const activeTokens = useAppSelector(selectActiveTokens);\n  const allTokens = useAppSelector(selectAllTokenInfo);\n  const supportedTokens = useAppSelector(selectAllSupportedTokens);\n  const pendingApprovals = useAppSelector(selectPendingApprovals);\n  const tradeTerms = useAppSelector(selectTradeTerms);\n\n  // Contexts\n  const LastLook = useContext(LastLookContext);\n\n  // Input states\n  let { tokenFrom, tokenTo } = useRouteMatch<AppRoutes>().params;\n  const [baseAmount, setBaseAmount] = useState(initialBaseAmount);\n\n  // Modals\n  const [showWalletList, setShowWalletList] = useState<boolean>(false);\n  const [showOrderSubmitted, setShowOrderSubmitted] = useState<boolean>(false);\n  const [\n    showTokenSelectModalFor,\n    setShowTokenSelectModalFor,\n  ] = useState<TokenSelectModalTypes | null>(null);\n\n  // Loading states\n  const [isApproving, setIsApproving] = useState<boolean>(false);\n  const [isSwapping, setIsSwapping] = useState<boolean>(false);\n  const [isWrapping, setIsWrapping] = useState<boolean>(false);\n  const [isConnecting, setIsConnecting] = useState<boolean>(false);\n  const [isRequestingQuotes, setIsRequestingQuotes] = useState<boolean>(false);\n\n  // Error states\n  const [pairUnavailable, setPairUnavailable] = useState<boolean>(false);\n\n  const { t } = useTranslation([\n    \"orders\",\n    \"common\",\n    \"wallet\",\n    \"balances\",\n    \"toast\",\n  ]);\n\n  const {\n    chainId,\n    account,\n    library,\n    active,\n    activate,\n  } = useWeb3React<Web3Provider>();\n\n  let defaultBaseTokenAddress: string | null = allTokens.length\n    ? findTokensBySymbol(\"USDT\", allTokens)[0].address\n    : null;\n  let defaultQuoteTokenAddress: string | null = allTokens.length\n    ? findTokensBySymbol(\"WETH\", allTokens)[0].address\n    : null;\n\n  // Use default tokens only if neither are specified in the URL.\n  const baseToken = tokenFrom\n    ? tokenFrom\n    : tokenTo\n    ? null\n    : defaultBaseTokenAddress;\n  const quoteToken = tokenTo\n    ? tokenTo\n    : tokenFrom\n    ? null\n    : defaultQuoteTokenAddress;\n\n  const baseTokenInfo = useMemo(\n    () =>\n      baseToken\n        ? findEthOrTokenByAddress(baseToken, activeTokens, chainId!)\n        : null,\n    [baseToken, activeTokens, chainId]\n  );\n\n  const quoteTokenInfo = useMemo(\n    () =>\n      quoteToken\n        ? findEthOrTokenByAddress(quoteToken, activeTokens, chainId!)\n        : null,\n    [quoteToken, activeTokens, chainId]\n  );\n\n  const maxAmount = useMemo(() => {\n    if (\n      !baseToken ||\n      !balances ||\n      !baseTokenInfo ||\n      !balances.values[baseToken] ||\n      balances.values[baseToken] === \"0\"\n    ) {\n      return null;\n    }\n\n    return formatUnits(\n      balances.values[baseToken] || \"0\",\n      baseTokenInfo.decimals\n    );\n  }, [balances, baseToken, baseTokenInfo]);\n\n  // Reset amount when the chainId changes.\n  useEffect(() => {\n    setBaseAmount(initialBaseAmount);\n  }, [chainId]);\n\n  let swapType: SwapType = \"swap\";\n\n  if (chainId && baseToken && quoteToken) {\n    const eth = nativeETH[chainId].address;\n    const weth = wethAddresses[chainId];\n    if ([weth, eth].includes(baseToken) && [weth, eth].includes(quoteToken)) {\n      swapType = \"wrapOrUnwrap\";\n    } else if ([quoteToken, baseToken].includes(eth)) {\n      swapType = \"swapWithWrap\";\n    }\n  }\n\n  const hasApprovalPending = (tokenId: string | undefined) => {\n    if (tokenId === undefined) return false;\n    return pendingApprovals.some((tx) => tx.tokenAddress === tokenId);\n  };\n\n  const hasSufficientAllowance = (tokenAddress: string | undefined) => {\n    if (swapType === \"wrapOrUnwrap\") return true;\n    if (!tokenAddress) return false;\n    if (\n      !allowances[swapType === \"swapWithWrap\" ? \"wrapper\" : \"light\"].values[\n        tokenAddress\n      ]\n    )\n      return false;\n    return new BigNumber(\n      allowances[swapType === \"swapWithWrap\" ? \"wrapper\" : \"light\"].values[\n        tokenAddress\n      ]!\n    )\n      .div(10 ** (baseTokenInfo?.decimals || 18))\n      .gte(baseAmount);\n  };\n\n  const handleSetToken = (type: TokenSelectModalTypes, value: string) => {\n    if (type === \"base\") {\n      value === quoteToken\n        ? history.push({ pathname: `/${value}/${baseToken}` })\n        : history.push({ pathname: `/${value}/${quoteToken}` });\n      setBaseAmount(\"\");\n    } else {\n      value === baseToken\n        ? history.push({ pathname: `/${quoteToken}/${value}` })\n        : history.push({ pathname: `/${baseToken}/${value}` });\n    }\n  };\n\n  let insufficientBalance: boolean = false;\n  if (baseAmount && baseToken && Object.keys(balances.values).length) {\n    if (parseFloat(baseAmount) === 0 || baseAmount === \".\") {\n      insufficientBalance = false;\n    } else {\n      const baseDecimals = baseTokenInfo?.decimals;\n      if (baseDecimals) {\n        insufficientBalance = new BigNumber(\n          balances.values[baseToken!] || \"0\"\n        ).lt(new BigNumber(baseAmount).multipliedBy(10 ** baseDecimals));\n      }\n    }\n  }\n\n  const handleAddActiveToken = (address: string) => {\n    if (library) {\n      dispatch(addActiveToken(address));\n      dispatch(requestActiveTokenBalances({ provider: library! }));\n      dispatch(requestActiveTokenAllowancesLight({ provider: library! }));\n      dispatch(requestActiveTokenAllowancesWrapper({ provider: library! }));\n    }\n  };\n\n  const handleRemoveActiveToken = (address: string) => {\n    if (library) {\n      if (address === baseToken) {\n        history.push({ pathname: `/-/${quoteToken || \"-\"}` });\n        setBaseAmount(initialBaseAmount);\n      } else if (address === quoteToken) {\n        history.push({ pathname: `/${baseToken || \"-\"}/-` });\n      }\n      dispatch(removeActiveToken(address));\n      dispatch(requestActiveTokenBalances({ provider: library! }));\n      dispatch(requestActiveTokenAllowancesLight({ provider: library! }));\n      dispatch(requestActiveTokenAllowancesWrapper({ provider: library! }));\n    }\n  };\n\n  const requestQuotes = async () => {\n    if (swapType === \"wrapOrUnwrap\") {\n      // This will re-render with a 1:1 price and a take button.\n      setIsWrapping(true);\n      return;\n    }\n    setIsRequestingQuotes(true);\n\n    const usesWrapper = swapType === \"swapWithWrap\";\n    const weth = wethAddresses[chainId!];\n    const eth = nativeETH[chainId!];\n    const _quoteToken = quoteToken === eth.address ? weth : quoteToken!;\n    const _baseToken = baseToken === eth.address ? weth : baseToken!;\n\n    let rfqServers, lastLookServers;\n    try {\n      try {\n        const servers = await new Registry(\n          chainId,\n          // @ts-ignore provider type mismatch\n          library\n        ).getServers(_quoteToken, _baseToken, {\n          initializeTimeout: 10 * 1000,\n        });\n\n        rfqServers = servers.filter((s) =>\n          s.supportsProtocol(\"request-for-quote\")\n        );\n\n        lastLookServers = servers.filter((s) =>\n          s.supportsProtocol(\"last-look\")\n        );\n      } catch (e) {\n        console.error(\"Error requesting orders:\", e);\n        throw new Error(\"error requesting orders\");\n      }\n\n      let rfqPromise: Promise<LightOrder[]> | null = null,\n        lastLookPromises: Promise<Pricing>[] | null = null;\n\n      if (rfqServers.length) {\n        let rfqDispatchResult = dispatch(\n          request({\n            servers: rfqServers,\n            senderToken: _baseToken,\n            senderAmount: baseAmount,\n            signerToken: _quoteToken,\n            senderTokenDecimals: baseTokenInfo!.decimals,\n            senderWallet: usesWrapper ? Wrapper.getAddress(chainId) : account!,\n          })\n        );\n        rfqPromise = rfqDispatchResult\n          .then((result) => {\n            return unwrapResult(result);\n          })\n          .then((orders) => {\n            if (!orders.length) throw new Error(\"no valid orders\");\n            return orders;\n          });\n      }\n\n      if (lastLookServers.length) {\n        if (usesWrapper) {\n          lastLookServers.forEach((s) => s.disconnect());\n        } else {\n          lastLookPromises = LastLook.subscribeAllServers(lastLookServers, {\n            baseToken: baseToken!,\n            quoteToken: quoteToken!,\n          });\n        }\n      }\n\n      const orderPromises: Promise<LightOrder[] | Pricing>[] = [];\n      if (rfqPromise) orderPromises.push(rfqPromise);\n      if (lastLookPromises) {\n        orderPromises.concat(lastLookPromises);\n      }\n\n      // This promise times out if _no_ orders are received before the timeout\n      // but resolves if _any_ are.\n      const timeoutOnNoOrdersPromise = Promise.race<any>([\n        Promise.any(orderPromises),\n        new Promise((_, reject) =>\n          setTimeout(() => {\n            reject(\"no valid orders\");\n          }, RECEIVE_QUOTE_TIMEOUT_MS)\n        ),\n      ]);\n\n      // This promise resolves either when all orders are received or X seconds\n      // after the first order is received.\n      const waitExtraForAllOrdersPromise = Promise.race<any>([\n        Promise.allSettled(orderPromises),\n        Promise.any(orderPromises).then(\n          () =>\n            new Promise((resolve) =>\n              setTimeout(resolve, ADDITIONAL_QUOTE_BUFFER)\n            )\n        ),\n      ]);\n\n      await Promise.all([\n        waitExtraForAllOrdersPromise,\n        timeoutOnNoOrdersPromise,\n      ]);\n    } catch (e: any) {\n      switch (e.message) {\n        case \"error requesting orders\": {\n          notifyError({\n            heading: t(\"orders:errorRequesting\"),\n            cta: t(\"orders:errorRequestingCta\"),\n          });\n          break;\n        }\n\n        default: {\n          console.error(e);\n          setPairUnavailable(true);\n        }\n      }\n    } finally {\n      setIsRequestingQuotes(false);\n    }\n  };\n\n  const takeBestOption = async () => {\n    try {\n      setIsSwapping(true);\n      if (bestTradeOption!.protocol === \"request-for-quote\") {\n        LastLook.unsubscribeAllServers();\n        const result = await dispatch(\n          take({\n            order: bestTradeOption!.order!,\n            library,\n            contractType: swapType === \"swapWithWrap\" ? \"Wrapper\" : \"Light\",\n          })\n        );\n        setIsSwapping(false);\n        await unwrapResult(result);\n        setShowOrderSubmitted(true);\n      } else {\n        // Setting quote amount prevents the UI from updating if pricing changes\n        dispatch(setTradeTermsQuoteAmount(bestTradeOption!.quoteAmount));\n        // Last look order.\n        const accepted = await LastLook.sendOrderForConsideration({\n          locator: bestTradeOption!.pricing!.locator,\n          pricing: bestTradeOption!.pricing!.pricing,\n          terms: { ...tradeTerms, quoteAmount: bestTradeOption!.quoteAmount },\n        });\n        setIsSwapping(false);\n        if (accepted) {\n          setShowOrderSubmitted(true);\n          LastLook.unsubscribeAllServers();\n        } else {\n          notifyError({\n            heading: t(\"orders:swapRejected\"),\n            cta: t(\"orders:swapRejectedCallToAction\"),\n          });\n        }\n      }\n    } catch (e: any) {\n      if (bestTradeOption!.protocol !== \"request-for-quote\") {\n        setIsSwapping(false);\n        dispatch(clearTradeTermsQuoteAmount());\n      }\n\n      if (e.code && e.code === 4001) {\n        // 4001 is metamask user declining transaction sig\n      } else {\n        // FIXME: notify user - toast?\n      }\n    }\n  };\n\n  const doWrap = async () => {\n    const method = baseTokenInfo === nativeETH[chainId!] ? deposit : withdraw;\n    setIsSwapping(true);\n    const result = await dispatch(\n      method({\n        chainId: chainId!,\n        senderAmount: baseAmount,\n        senderTokenDecimals: baseTokenInfo!.decimals,\n        provider: library,\n      })\n    );\n    await unwrapResult(result);\n    setIsSwapping(false);\n    setIsWrapping(false);\n    setShowOrderSubmitted(true);\n  };\n\n  const handleButtonClick = async (action: ButtonActions) => {\n    switch (action) {\n      case ButtonActions.goBack:\n        setIsWrapping(false);\n        setPairUnavailable(false);\n        LastLook.unsubscribeAllServers();\n        dispatch(clearTradeTerms());\n        dispatch(clear());\n        LastLook.unsubscribeAllServers();\n        break;\n\n      case ButtonActions.restart:\n        setShowOrderSubmitted(false);\n        dispatch(clearTradeTerms());\n        dispatch(clear());\n        setBaseAmount(initialBaseAmount);\n        break;\n\n      case ButtonActions.connectWallet:\n        setShowWalletList(true);\n        break;\n\n      case ButtonActions.requestQuotes:\n        dispatch(\n          setTradeTerms({\n            baseToken: {\n              address: baseToken!,\n              decimals: baseTokenInfo!.decimals,\n            },\n            baseAmount: baseAmount,\n            quoteToken: {\n              address: quoteToken!,\n              decimals: quoteTokenInfo!.decimals,\n            },\n            quoteAmount: null,\n            side: \"sell\",\n          })\n        );\n        await requestQuotes();\n        break;\n\n      case ButtonActions.approve:\n        setIsApproving(true);\n        await dispatch(\n          approve({\n            token: baseToken!,\n            library,\n            contractType: swapType === \"swapWithWrap\" ? \"Wrapper\" : \"Light\",\n            chainId: chainId!,\n          })\n        );\n        setIsApproving(false);\n        break;\n\n      case ButtonActions.takeQuote:\n        if ([\"swap\", \"swapWithWrap\"].includes(swapType)) {\n          await takeBestOption();\n        } else if (swapType === \"wrapOrUnwrap\") {\n          await doWrap();\n        }\n        break;\n\n      default:\n      // Do nothing.\n    }\n  };\n\n  return (\n    <>\n      <StyledSwapWidget>\n        <Header>\n          <Title type=\"h2\">\n            {isApproving ? t(\"orders:approve\") : t(\"common:swap\")}\n          </Title>\n        </Header>\n        {showOrderSubmitted ? (\n          <HugeTicks />\n        ) : isApproving || isSwapping ? (\n          <></>\n        ) : (\n          <SwapInputs\n            baseAmount={baseAmount}\n            onBaseAmountChange={setBaseAmount}\n            baseTokenInfo={baseTokenInfo}\n            quoteTokenInfo={quoteTokenInfo}\n            onChangeTokenClick={setShowTokenSelectModalFor}\n            onMaxButtonClick={() => setBaseAmount(maxAmount || \"0\")}\n            side=\"sell\"\n            tradeNotAllowed={pairUnavailable}\n            isRequesting={isRequestingQuotes}\n            noFee={swapType === \"wrapOrUnwrap\"}\n            // Note that using the quoteAmount from tradeTerms will stop this\n            // updating when the user clicks the take button.\n            quoteAmount={\n              swapType === \"wrapOrUnwrap\"\n                ? baseAmount\n                : tradeTerms.quoteAmount || bestTradeOption?.quoteAmount || \"\"\n            }\n            readOnly={!!bestTradeOption || isWrapping}\n            showMaxButton={!!maxAmount && baseAmount !== maxAmount}\n          />\n        )}\n        <InfoContainer>\n          <InfoSection\n            orderSubmitted={showOrderSubmitted}\n            isConnected={active}\n            isPairUnavailable={pairUnavailable}\n            isFetchingOrders={isRequestingQuotes}\n            isApproving={isApproving}\n            isSwapping={isSwapping}\n            // @ts-ignore\n            bestTradeOption={bestTradeOption}\n            requiresApproval={\n              bestRfqOrder && !hasSufficientAllowance(baseToken!)\n            }\n            baseTokenInfo={baseTokenInfo}\n            baseAmount={baseAmount}\n            quoteTokenInfo={quoteTokenInfo}\n            isWrapping={isWrapping}\n          />\n        </InfoContainer>\n        <ButtonContainer>\n          {!isApproving && !isSwapping && (\n            <ActionButtons\n              walletIsActive={active}\n              orderComplete={showOrderSubmitted}\n              baseTokenInfo={baseTokenInfo}\n              quoteTokenInfo={quoteTokenInfo}\n              hasAmount={\n                !!baseAmount.length && baseAmount !== \"0\" && baseAmount !== \".\"\n              }\n              hasQuote={!!bestTradeOption || isWrapping}\n              hasSufficientBalance={!insufficientBalance}\n              needsApproval={!!baseToken && !hasSufficientAllowance(baseToken)}\n              pairUnavailable={pairUnavailable}\n              onButtonClicked={handleButtonClick}\n              isLoading={\n                isConnecting ||\n                isRequestingQuotes ||\n                [\"approving\", \"taking\"].includes(rfqOrderStatus) ||\n                (!!baseToken && hasApprovalPending(baseToken))\n              }\n            />\n          )}\n        </ButtonContainer>\n      </StyledSwapWidget>\n\n      <Overlay\n        onClose={() => setShowTokenSelectModalFor(null)}\n        isHidden={!showTokenSelectModalFor}\n      >\n        <TokenList\n          onSelectToken={(newTokenAddress) => {\n            // e.g. handleSetToken(\"base\", \"0x123\")\n            handleSetToken(showTokenSelectModalFor, newTokenAddress);\n            // Close the modal\n            setShowTokenSelectModalFor(null);\n          }}\n          balances={balances}\n          allTokens={allTokens}\n          activeTokens={activeTokens}\n          supportedTokenAddresses={supportedTokens}\n          addActiveToken={handleAddActiveToken}\n          removeActiveToken={handleRemoveActiveToken}\n          chainId={chainId || 1}\n        />\n      </Overlay>\n\n      <Overlay\n        title={t(\"wallet:selectWallet\")}\n        onClose={() => setShowWalletList(false)}\n        isHidden={!showWalletList}\n      >\n        <StyledWalletProviderList\n          onClose={() => setShowWalletList(false)}\n          onProviderSelected={(provider) => {\n            dispatch(setActiveProvider(provider.name));\n            setIsConnecting(true);\n            activate(provider.getConnector()).finally(() =>\n              setIsConnecting(false)\n            );\n            setShowWalletList(false);\n          }}\n        />\n      </Overlay>\n    </>\n  );\n};\n\nexport default SwapWidget;\n","import SwapWidget from \"../../components/SwapWidget/SwapWidget\";\n\nexport function Orders() {\n  return <SwapWidget />;\n}\n","import { ThemeType } from \"styled-components/macro\";\n\nimport { THEME_LOCAL_STORAGE_KEY } from \"../userSettingsSlice\";\n\nexport default function getInitialThemeValue(): ThemeType {\n  if (localStorage[THEME_LOCAL_STORAGE_KEY] === \"dark\") {\n    return \"dark\";\n  }\n\n  if (localStorage[THEME_LOCAL_STORAGE_KEY] === \"light\") {\n    return \"light\";\n  }\n\n  return \"dark\";\n}\n","import { createSlice } from \"@reduxjs/toolkit\";\n\nimport { ThemeType } from \"styled-components/macro\";\n\nimport { RootState } from \"../../app/store\";\nimport getInitialBookmarkWarning from \"./helpers/getInitialBookmarkWarning\";\nimport getInitialThemeValue from \"./helpers/getInitialThemeValue\";\n\nexport interface UserSettingsState {\n  theme: ThemeType;\n  showBookmarkWarning: boolean;\n}\n\nexport const THEME_LOCAL_STORAGE_KEY = \"airswap/theme\";\nexport const BOOKMARK_WARNING_LOCAL_STORAGE_KEY =\n  \"airswap/show-bookmark-warning\";\n\nconst initialState: UserSettingsState = {\n  theme: getInitialThemeValue(),\n  showBookmarkWarning: getInitialBookmarkWarning(),\n};\n\nconst userSettingsSlice = createSlice({\n  name: \"userSettings\",\n  initialState,\n  reducers: {\n    disableBookmarkWarning: (state) => {\n      const showBookmarkWarning: boolean = false;\n      localStorage[BOOKMARK_WARNING_LOCAL_STORAGE_KEY] = \"disabled\";\n      state.showBookmarkWarning = showBookmarkWarning;\n    },\n    toggleTheme: (state) => {\n      const theme: ThemeType = state.theme === \"dark\" ? \"light\" : \"dark\";\n      localStorage[THEME_LOCAL_STORAGE_KEY] = theme;\n      state.theme = theme;\n    },\n    setTheme: (state, { payload }) => {\n      // if the user perfers dark color scheme and they are currently on light mode -> switch to dark\n      if (payload === \"system\") {\n        if (window.matchMedia(\"(prefers-color-scheme: dark)\").matches) {\n          if (state.theme === \"light\") {\n            localStorage[THEME_LOCAL_STORAGE_KEY] = \"dark\";\n            state.theme = payload;\n          }\n        } else {\n          if (state.theme === \"dark\") {\n            localStorage[THEME_LOCAL_STORAGE_KEY] = \"light\";\n            state.theme = payload;\n          }\n        }\n      } else {\n        localStorage[THEME_LOCAL_STORAGE_KEY] = payload;\n        state.theme = payload;\n      }\n    },\n  },\n});\n\nexport const selectUserSettings = (state: RootState) => state.userSettings;\n\nexport const {\n  toggleTheme,\n  disableBookmarkWarning,\n  setTheme,\n} = userSettingsSlice.actions;\n\nexport default userSettingsSlice.reducer;\n","import { BOOKMARK_WARNING_LOCAL_STORAGE_KEY } from \"../userSettingsSlice\";\n\nexport default function getInitialBookmarkWarning(): boolean {\n  return localStorage[BOOKMARK_WARNING_LOCAL_STORAGE_KEY] !== \"disabled\";\n}\n","import { Toaster as T } from \"react-hot-toast\";\n\nimport styled from \"styled-components/macro\";\n\nconst ToasterWrapper = styled.div`\n  div[role=\"status\"] {\n    margin: 0;\n  }\n  div {\n    max-width: 100%;\n    border-radius: 0.5rem;\n    background: transparent;\n  }\n`;\n\nconst Toaster = () => (\n  <ToasterWrapper>\n    <T\n      position=\"top-right\"\n      containerStyle={{\n        right: \"80px\",\n      }}\n      toastOptions={{\n        style: {\n          padding: 0,\n          margin: 0,\n          borderRadius: 0,\n        },\n      }}\n    ></T>\n  </ToasterWrapper>\n);\n\nexport default Toaster;\n","const sizes = {\n  tinyScreen: \"320px\",\n  phone: \"480px\",\n  tabletPortrait: \"768px\",\n  tabletLandscape: \"1024px\",\n  desktop: \"1448px\",\n  bigDesktop: \"1800px\",\n};\n\nconst breakPoints = {\n  tinyScreenOnly: `(max-width: ${sizes.tinyScreen})`,\n  phoneOnly: `(max-width: ${sizes.phone})`,\n  tabletPortraitUp: `(min-width: ${sizes.tabletPortrait})`,\n  tabletLandscapeUp: `(min-width: ${sizes.tabletLandscape})`,\n  desktopUp: `(min-width: ${sizes.desktop})`,\n  bigDesktopUp: `(min-width: ${sizes.bigDesktop})`,\n};\n\nexport default breakPoints;\n","import styled from \"styled-components/macro\";\n\nimport breakPoints from \"../../style/breakpoints\";\nimport Icon from \"../Icon/Icon\";\n\nexport const ToolbarContainer = styled.div`\n  display: none;\n  flex-direction: column;\n  align-items: center;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 7rem;\n  height: 100%;\n  min-height: 31rem;\n  // min-height: 37rem; // for 5 buttons, enable this when stats button is added in toolbar\n  padding: 0 1rem 0;\n  border-right: 1px solid ${(props) => props.theme.colors.borderGrey};\n  overflow: hidden;\n  background: ${(props) => props.theme.colors.black};\n  z-index: 1;\n\n  @media ${breakPoints.tabletPortraitUp} {\n    // TODO: Show toolbar when modals PR is implemented\n\n    display: none;\n    // display: flex;\n  }\n`;\n\nexport const IconAirswap = styled(Icon)`\n  margin-top: 2rem;\n  align-self: center;\n  margin-bottom: auto;\n`;\n\nexport const ToolbarButtonsContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  flex-grow: 2;\n  margin: 2rem 0 4.5rem;\n`;\n","import styled, { css } from \"styled-components/macro\";\n\nconst ButtonStyle = css`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  border-radius: 0.25rem;\n  border: 1px solid ${(props) => props.theme.colors.borderGrey};\n  width: 5rem;\n  height: 5rem;\n\n  & + a,\n  & + button {\n    margin-top: 1rem;\n  }\n\n  &:hover,\n  &:focus {\n    border-color: ${(props) => props.theme.colors.white};\n    outline: 0;\n  }\n`;\n\nexport const ToolbarButtonContainer = styled.button`\n  ${ButtonStyle}\n`;\n\nexport const ToolBarAnchorContainer = styled.a`\n  ${ButtonStyle}\n`;\n\nexport const Text = styled.div`\n  margin-top: 0.25rem;\n  font-weight: 600;\n  font-size: 0.6875rem;\n  text-transform: uppercase;\n`;\n","import React, { FC } from \"react\";\n\nimport Icon from \"../../../Icon/Icon\";\nimport {\n  Text,\n  ToolBarAnchorContainer,\n  ToolbarButtonContainer,\n} from \"./ToolbarButton.styles\";\n\ntype ToolbarButtonProps = {\n  text: string;\n  iconName: string;\n  href?: string;\n  onClick?: () => void;\n};\n\nconst ToolbarButton: FC<ToolbarButtonProps> = ({\n  text,\n  iconName,\n  href,\n  onClick,\n}) => {\n  const renderInner = () => {\n    return (\n      <>\n        <Icon name={iconName} iconSize={1.5} />\n        <Text>{text}</Text>\n      </>\n    );\n  };\n\n  if (href) {\n    return (\n      <ToolBarAnchorContainer href={href} target=\"_blank\">\n        {renderInner()}\n      </ToolBarAnchorContainer>\n    );\n  }\n\n  return (\n    <ToolbarButtonContainer onClick={onClick}>\n      {renderInner()}\n    </ToolbarButtonContainer>\n  );\n};\n\nexport default ToolbarButton;\n","import React, { FC } from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\nimport {\n  IconAirswap,\n  ToolbarButtonsContainer,\n  ToolbarContainer,\n} from \"./Toolbar.styles\";\nimport ToolbarButton from \"./subcomponents/ToolbarButton/ToolbarButton\";\n\nconst Toolbar: FC = () => {\n  const { t } = useTranslation([\"common\"]);\n\n  // TODO: Add content for \"about\" in modals\n\n  return (\n    <ToolbarContainer>\n      <IconAirswap iconSize={2.5} name=\"airswap\" />\n      <ToolbarButtonsContainer>\n        {/*<ToolbarButton iconName=\"bars\" text={t(\"common:stats\")} />*/}\n        <ToolbarButton\n          iconName=\"vote\"\n          text={t(\"common:vote\")}\n          href=\"https://activate.codefi.network/staking/airswap/governance\"\n        />\n        <ToolbarButton\n          iconName=\"code\"\n          text={t(\"common:build\")}\n          href=\"https://github.com/airswap/airswap-web\"\n        />\n        <ToolbarButton\n          iconName=\"about\"\n          text={t(\"common:about\")}\n          href=\"https://about.airswap.io/\"\n        />\n        <ToolbarButton iconName=\"contact-support\" text={t(\"common:join\")} />\n      </ToolbarButtonsContainer>\n    </ToolbarContainer>\n  );\n};\n\nexport default Toolbar;\n","import styled from \"styled-components/macro\";\n\nimport breakPoints from \"../../style/breakpoints\";\nimport { sizes } from \"../../style/sizes\";\n\nexport const Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  border-radius: 0.25rem;\n  height: 32.5rem;\n  width: 100%;\n  padding: ${sizes.tradeContainerPadding};\n  background: ${(props) => props.theme.colors.black};\n  overflow: hidden;\n`;\n\nexport const StyledTradeContainer = styled.div`\n  display: flex;\n  box-sizing: border-box;\n  border-radius: 0.5rem;\n  margin: 0 auto;\n  padding: 2.5rem;\n  width: 100%;\n  max-width: 35rem;\n  background: url(\"${process.env.PUBLIC_URL}/images/bg.jpg\");\n  background-size: 100% 100%;\n\n  transition: transform 0.3s ease-in-out;\n\n  @media (prefers-reduced-motion: reduce) {\n    transition: none;\n  }\n\n  @media (min-resolution: 144dpi) {\n    background-image: url(\"${process.env.PUBLIC_URL}/images/bg-x2.jpg\");\n  }\n\n  @media ${breakPoints.phoneOnly} {\n    padding: 1.5rem;\n  }\n\n  @media ${breakPoints.tinyScreenOnly} {\n    padding: 1.25rem;\n  }\n`;\n","import React, { FC, ReactElement } from \"react\";\n\nimport { Container, StyledTradeContainer } from \"./WidgetFrame.styles\";\n\nconst WidgetFrame: FC = ({ children }): ReactElement => {\n  return (\n    <StyledTradeContainer>\n      <Container>{children}</Container>\n    </StyledTradeContainer>\n  );\n};\n\nexport default WidgetFrame;\n","export const SUPPORTED_LOCALES = [\n  // order as they appear in the language dropdown\n  \"en\",\n  \"nb\",\n];\n\nexport type SupportedLocale = typeof SUPPORTED_LOCALES[number];\n\nexport const DEFAULT_LOCALE: SupportedLocale = \"en\";\n\nexport const LOCALE_LABEL: { [locale in SupportedLocale]: string } = {\n  en: \"English\",\n  nb: \"Norsk Bokml\",\n};\n","import styled from \"styled-components\";\n\nconst Container = styled.div`\n  position: absolute;\n  display: grid;\n  grid-template-rows: 5rem;\n  width: 16rem;\n  height: 17.25rem;\n  top: 5.5rem;\n  right: 2.5rem;\n  color: ${(props) => props.theme.colors.darkSubText};\n  background-color: ${(props) => props.theme.colors.darkGrey};\n  border: ${(props) => props.theme.colors.borderGrey} 1px solid;\n  border-radius: 0.5rem;\n  padding: 1rem;\n  z-index: 1000;\n`;\n\nconst ThemeContainer = styled.div`\n  margin: 0.5rem 0 0 0;\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n  height: 2.5rem;\n`;\n\ntype ButtonStyleProps = {\n  active: boolean;\n};\n\nconst ThemeButton = styled.button<ButtonStyleProps>`\n  border: ${(props) => props.theme.colors.borderGrey} 1px solid;\n  font-weight: ${(props) => (props.active ? \"600\" : \"400\")};\n  color: ${(props) =>\n    props.active ? props.theme.colors.white : props.theme.colors.darkSubText};\n  background-color: ${(props) =>\n    props.active ? props.theme.colors.borderGrey : \"transparent\"};\n  line-height: 1.5rem;\n  font-size: 0.875rem;\n\n  &:hover,\n  &:focus {\n    outline: 0;\n    background-color: ${(props) => props.theme.colors.borderGrey};\n    color: ${(props) => props.theme.colors.white};\n  }\n`;\n\ntype LocaleContainerType = {\n  overflow: boolean;\n};\n\nconst LocaleContainer = styled.div<LocaleContainerType>`\n  flex-grow: 1;\n  width: 100%;\n  height: auto;\n  margin: 0.5rem 0;\n  overflow-y: ${(props) => (props.overflow ? \"scroll\" : \"hidden\")};\n\n  flex-grow: 99;\n  height: 100%;\n  padding-bottom: 1rem;\n\n  &::-webkit-scrollbar {\n    width: 0.5rem;\n    background: ${(props) => props.theme.colors.black};\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background: ${(props) => props.theme.colors.white};\n    border-radius: 0.5rem;\n  }\n`;\n\nconst LocaleButton = styled.button<ButtonStyleProps>`\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  width: 100%;\n  padding: 0.5rem 0 0.5rem 1rem;\n  border-radius: 1px;\n  font-weight: ${(props) => (props.active ? \"600\" : \"400\")};\n  color: ${(props) =>\n    props.active ? props.theme.colors.white : props.theme.colors.darkSubText};\n  background-color: ${(props) =>\n    props.active ? props.theme.colors.borderGrey : \"transparent\"};\n  font-size: 0.875rem;\n\n  &:hover,\n  &:focus {\n    outline: 0;\n    border-color: ${(props) => props.theme.colors.white};\n    color: ${(props) => props.theme.colors.white};\n  }\n`;\n\nexport {\n  Container,\n  ThemeContainer,\n  ThemeButton,\n  LocaleContainer,\n  LocaleButton,\n};\n","import styled from \"styled-components\";\n\nimport { StyledTitle } from \"../../../Overlay/Overlay.styles\";\n\nconst Container = styled.div`\n  color: ${(props) => props.theme.colors.darkSubText};\n  display: grid;\n  grid-template-rows: 1.5rem;\n  overflow: hidden;\n`;\n\nconst TitleContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n`;\n\nconst Title = styled(StyledTitle)`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0;\n  font-size: 0.75rem;\n  &:after {\n    margin: 0 0 0 0.5rem;\n    background: ${(props) => props.theme.colors.borderGrey};\n    height: 1px;\n    flex: 1;\n    content: \"\";\n  }\n\n  &:before {\n    background: none;\n  }\n`;\n\nconst Line = styled.span`\n  background: transparent;\n`;\n\nexport { Container, TitleContainer, Line, Title };\n","import {\n  Container,\n  TitleContainer,\n  Line,\n  Title,\n} from \"./PopoverSection.styles\";\n\ntype PopoverSectionType = {\n  title: string;\n  children: React.ReactChild;\n};\n\nconst PopoverSection = ({ title, children }: PopoverSectionType) => {\n  return (\n    <Container>\n      <TitleContainer>\n        <Title type=\"h4\">\n          <Line>{title}</Line>\n        </Title>\n      </TitleContainer>\n      {children}\n    </Container>\n  );\n};\n\nexport default PopoverSection;\n","import { useState, useEffect, useRef } from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { ThemeType } from \"styled-components\";\n\nimport { useAppDispatch } from \"../../app/hooks\";\nimport {\n  SUPPORTED_LOCALES,\n  LOCALE_LABEL,\n  DEFAULT_LOCALE,\n} from \"../../constants/locales\";\nimport getInitialThemeValue from \"../../features/userSettings/helpers/getInitialThemeValue\";\nimport { setTheme } from \"../../features/userSettings/userSettingsSlice\";\nimport useWindowSize from \"../../helpers/useWindowSize\";\nimport {\n  Container,\n  ThemeContainer,\n  ThemeButton,\n  LocaleContainer,\n  LocaleButton,\n} from \"./SettingsPopover.styles\";\nimport PopoverSection from \"./subcomponents/PopoverSection/PopoverSection\";\n\nconst SettingsPopover = () => {\n  const { width, height } = useWindowSize();\n  const containerRef = useRef<HTMLDivElement>(null);\n  const scrollContainerRef = useRef<HTMLDivElement>(null);\n  const [selectedButton, setSelectedButton] = useState<ThemeType | \"system\">(\n    getInitialThemeValue()\n  );\n  const [overflow, setOverflow] = useState<boolean>(false);\n\n  // selects i18nextLang first, window language, falls back to default locale (en)\n  // TODO: keep track of different langauage locale (e.g. en-US, en-AU)?\n  const [selectedLocale, setSelectedLocale] = useState<string>(\n    localStorage.getItem(\"i18nextLng\")?.substring(0, 2) ||\n      window.navigator.language.substring(0, 2) ||\n      DEFAULT_LOCALE\n  );\n  const dispatch = useAppDispatch();\n  const { t, i18n } = useTranslation([\"common\"]);\n\n  const handleThemeButtonClick = (newTheme: ThemeType | \"system\") => {\n    setSelectedButton(newTheme);\n    dispatch(setTheme(newTheme));\n  };\n\n  useEffect(() => {\n    if (containerRef.current && scrollContainerRef.current) {\n      const { offsetTop, scrollHeight } = scrollContainerRef.current;\n      setOverflow(scrollHeight + offsetTop > containerRef.current.offsetHeight);\n    }\n  }, [containerRef, scrollContainerRef, width, height]);\n\n  return (\n    <Container ref={containerRef}>\n      <PopoverSection title={t(\"common:theme\")}>\n        <ThemeContainer>\n          <ThemeButton\n            active={selectedButton === \"system\"}\n            onClick={() => handleThemeButtonClick(\"system\")}\n          >\n            {t(\"common:system\")}\n          </ThemeButton>\n          <ThemeButton\n            active={selectedButton === \"light\"}\n            onClick={() => handleThemeButtonClick(\"light\")}\n          >\n            {t(\"common:light\")}\n          </ThemeButton>\n          <ThemeButton\n            active={selectedButton === \"dark\"}\n            onClick={() => handleThemeButtonClick(\"dark\")}\n          >\n            {t(\"common:dark\")}\n          </ThemeButton>\n        </ThemeContainer>\n      </PopoverSection>\n      <PopoverSection title={t(\"common:language\")}>\n        <LocaleContainer ref={scrollContainerRef} overflow={overflow}>\n          {SUPPORTED_LOCALES.map((locale) => {\n            return (\n              <LocaleButton\n                key={locale}\n                active={selectedLocale === locale}\n                onClick={() => {\n                  setSelectedLocale(locale);\n                  i18n.changeLanguage(locale);\n                }}\n              >\n                {LOCALE_LABEL[locale]}\n              </LocaleButton>\n            );\n          })}\n        </LocaleContainer>\n      </PopoverSection>\n    </Container>\n  );\n};\n\nexport default SettingsPopover;\n","import styled from \"styled-components\";\n\nimport IconButton from \"../IconButton/IconButton\";\n\nconst SettingIconButtonContainer = styled.div`\n  margin-top: 0.5rem;\n`;\n\nconst SettingsIconButton = styled(IconButton)`\n  &:hover {\n    opacity: 0.75;\n  }\n\n  &:focus {\n    outline: none;\n  }\n`;\n\nexport { SettingIconButtonContainer, SettingsIconButton };\n","import { useCallback, useEffect, useRef } from \"react\";\n\nimport SettingsPopover from \"../SettingsPopover/SettingsPopover\";\nimport {\n  SettingIconButtonContainer,\n  SettingsIconButton,\n} from \"./SettingsButton.style\";\n\ntype SettingsButtonType = {\n  settingsOpen: boolean;\n  setSettingsOpen: (x: boolean) => void;\n};\n\nconst SettingsButton = ({\n  settingsOpen,\n  setSettingsOpen,\n}: SettingsButtonType) => {\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  const handleClick = useCallback(\n    (e) => {\n      if (containerRef.current && containerRef.current.contains(e.target)) {\n        return;\n      }\n      setSettingsOpen(false);\n    },\n    [setSettingsOpen]\n  );\n\n  const handleEscKey = useCallback(\n    (e) => {\n      if (e.keyCode === 27) {\n        setSettingsOpen(false);\n      }\n    },\n    [setSettingsOpen]\n  );\n\n  useEffect(() => {\n    document.addEventListener(\"mousedown\", handleClick);\n    document.addEventListener(\"keydown\", handleEscKey, false);\n\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClick);\n      document.removeEventListener(\"keydown\", handleEscKey, false);\n    };\n  }, [handleClick, handleEscKey]);\n\n  return (\n    <SettingIconButtonContainer ref={containerRef}>\n      <SettingsIconButton\n        iconSize={1.5}\n        icon=\"settings\"\n        onClick={() => setSettingsOpen(!settingsOpen)}\n      />\n      {settingsOpen && <SettingsPopover />}\n    </SettingIconButtonContainer>\n  );\n};\n\nexport default SettingsButton;\n","import Blockies from \"react-blockies\";\n\nimport styled from \"styled-components\";\n\nexport const StyledWalletAddress = styled.div`\n  display: flex;\n  align-items: center;\n`;\n\nexport const Button = styled.div`\n  border: 0;\n  margin: 0;\n  padding: 1rem;\n  cursor: pointer;\n  background: none;\n`;\n\nexport const BlockiesContainer = styled.div`\n  position: relative;\n  margin-right: 1.25rem;\n\n  &::after {\n    display: block;\n    content: \"\";\n    position: absolute;\n    background-color: ${(props) => props.theme.colors.green};\n    border-radius: 50%;\n    z-index: 5;\n    width: 0.5rem;\n    height: 0.5rem;\n    top: 1rem;\n    left: 1rem;\n  }\n`;\n\nexport const StyledBlockies = styled(Blockies)`\n  border-radius: 50%;\n  overflow: hidden;\n`;\n\nexport const GreenCircle = styled.div`\n  margin-right: 0.5rem;\n  width: 0.5rem;\n  height: 0.5rem;\n  background-color: ${(props) => props.theme.colors.green};\n  border-radius: 50%;\n`;\n","import truncateEthAddress from \"truncate-eth-address\";\n\nimport { InfoHeading } from \"../../../Typography/Typography\";\nimport {\n  StyledWalletAddress,\n  BlockiesContainer,\n  GreenCircle,\n  Button,\n  StyledBlockies,\n} from \"./WalletAddress.styles\";\n\ntype WalletBlockiesProps = {\n  address: string;\n  isButton?: boolean;\n  showBlockies?: boolean;\n  onClick?: () => void;\n  className?: string;\n};\n\nconst WalletAddress = ({\n  address,\n  isButton = false,\n  showBlockies = false,\n  className = \"\",\n  onClick,\n}: WalletBlockiesProps) => {\n  const renderContent = () => (\n    <StyledWalletAddress className={className}>\n      {showBlockies ? (\n        <BlockiesContainer>\n          <StyledBlockies\n            size={8}\n            scale={3}\n            seed={address}\n            bgColor=\"black\"\n            color=\"#2b72ff\"\n          />\n        </BlockiesContainer>\n      ) : (\n        <GreenCircle />\n      )}\n      <InfoHeading>{truncateEthAddress(address)}</InfoHeading>\n    </StyledWalletAddress>\n  );\n\n  if (isButton) {\n    return <Button onClick={onClick}>{renderContent()}</Button>;\n  }\n\n  return renderContent();\n};\n\nexport default WalletAddress;\n","import styled from \"styled-components/macro\";\n\nimport Button from \"../Button/Button\";\nimport IconButton from \"../IconButton/IconButton\";\nimport { InfoHeading } from \"../Typography/Typography\";\nimport WalletAddress from \"./subcomponents/WalletAddress/WalletAddress\";\n\nexport const OpenWallet = styled.div`\n  display: flex;\n  flex-direction: column;\n  border-radius: 2px;\n  padding: 1.375rem 1.5rem;\n  width: 21.5rem;\n  min-height: 21.5rem;\n  background: ${(props) => props.theme.colors.darkGrey};\n  overflow: hidden;\n  z-index: 1000;\n`;\n\nexport const OpenWalletTopContainer = styled.div`\n  display: flex;\n  position: relative;\n  border-bottom: 1px solid ${(props) => props.theme.colors.borderGrey};\n  width: 100%;\n  padding-bottom: 1.1875rem;\n`;\n\nexport const StyledWalletButton = styled.div`\n  display: flex;\n  justify-content: space-between;\n`;\n\nexport const StyledWalletAddress = styled(WalletAddress)`\n  ${InfoHeading} {\n    font-size: 1.125rem;\n    font-weight: 700;\n  }\n`;\n\nexport const NoTransactions = styled.span`\n  color: ${(props) => props.theme.colors.lightGrey};\n`;\n\nexport const ExitButton = styled(IconButton)`\n  position: absolute;\n  top: -0.5rem;\n  right: -0.5rem;\n  padding: 0.5rem;\n  color: ${(props) => props.theme.colors.lightGrey};\n\n  &:hover {\n    color: ${(props) => props.theme.colors.alwaysWhite};\n  }\n`;\n\ntype TransactionContainerProps = {\n  flex: boolean;\n};\n\nexport const TransactionContainer = styled.div<TransactionContainerProps>`\n  display: ${(props) => (props.flex ? \"flex\" : \"block\")};\n  flex-wrap: wrap;\n  align-items: center;\n  justify-content: center;\n  flex-grow: 2;\n  padding: 1.25rem 0 1.5rem;\n  width: 100%;\n`;\n\nexport const DisconnectButton = styled(Button)`\n  margin-top: auto;\n  justify-self: flex-end;\n  border: 1px solid ${(props) => props.theme.colors.borderGrey};\n  border-radius: 2px;\n  height: 2.875rem;\n  padding: 1rem 3rem;\n  font-size: 0.875rem;\n  font-weight: 700;\n  background-color: transparent;\n\n  &:hover {\n    color: ${(props) => props.theme.colors.white};\n    border-color: ${(props) => props.theme.colors.white};\n    background: none;\n  }\n`;\n","const MS_PER_MINUTE = 60000;\nconst MS_PER_HOUR = 3600000;\nconst MS_PER_DAY = 86400000;\nconst MS_PER_MONTH = 2592000000;\nconst MS_PER_YEAR = 31536000000;\n\nexport default function getTimeBetweenTwoDates(date: Date): string {\n  const currentDate = new Date();\n\n  // if date is past the current date;\n  if (currentDate < date) return \"undefined\";\n\n  // convert to seconds\n  const timeDiff = currentDate.getTime() - date.getTime();\n\n  // use increasing denominations based on how recent the comparison between dates are\n  // e.g. x mins (< 1 hour), x hours (< 1 day), x days(< 1 month), x months(< 1 year), x years(> 1 year)\n  if (timeDiff < MS_PER_HOUR) {\n    // if time difference is less than 1 hour\n    const minutes = Math.floor((timeDiff % MS_PER_HOUR) / MS_PER_MINUTE);\n    return `${minutes} min${minutes > 1 ? \"s\" : \"\"}`;\n  } else if (timeDiff < MS_PER_DAY) {\n    // if time difference is less than 1 day\n    const hours = Math.floor(timeDiff / MS_PER_HOUR);\n    return `${hours} hour${hours > 1 ? \"s\" : \"\"}`;\n  } else if (timeDiff < MS_PER_MONTH) {\n    // if time difference is less than 1 month\n    const days = Math.floor(timeDiff / MS_PER_DAY);\n    return `${days} day${days > 1 ? \"s\" : \"\"}`;\n  } else if (timeDiff < MS_PER_YEAR) {\n    // if time difference is less than 1 year\n    const months = Math.floor(timeDiff / MS_PER_MONTH);\n    return `${months} month${months > 1 ? \"s\" : \"\"}`;\n  } else {\n    const years = Math.floor(timeDiff / MS_PER_YEAR);\n    return `${years} year${years > 1 ? \"s\" : \"\"}`;\n  }\n}\n","import styled from \"styled-components\";\n\nexport const Link = styled.a`\n  transform: translate(0.5rem, -0.5rem);\n  padding: 0.5rem;\n  color: ${(props) => props.theme.colors.lightGrey};\n\n  &:hover {\n    color: ${(props) => props.theme.colors.white};\n  }\n`;\n","import { getEtherscanURL } from \"@airswap/utils\";\n\nimport Icon from \"../../../Icon/Icon\";\nimport { Link } from \"./TransactionLink.style\";\n\ntype TransactionLinkProps = {\n  chainId: number;\n  hash: string;\n  className?: string;\n};\n\nconst TransactionLink = ({\n  chainId,\n  hash,\n  className = \"\",\n}: TransactionLinkProps) => {\n  return (\n    <Link\n      className={className}\n      target=\"_blank\"\n      rel=\"noreferrer\"\n      href={`${getEtherscanURL(chainId, hash)}`}\n    >\n      <Icon iconSize={1} name=\"transaction-link\" />\n    </Link>\n  );\n};\n\nexport default TransactionLink;\n","import styled from \"styled-components\";\n\nimport Icon from \"../../../Icon/Icon\";\n\nexport const IconContainer = styled.div`\n  width: 1.75rem;\n`;\n\nexport const SucceedIcon = styled(Icon)`\n  transform: translate(-0.25rem, -0.25rem);\n`;\n\nexport const ProcessingIcon = styled(Icon)`\n  transform: translate(-0.125rem, 0.0625rem);\n`;\n\nexport const FailedIcon = styled(Icon)`\n  transform: translate(-0.125rem, 0);\n`;\n","import {\n  FailedIcon,\n  IconContainer,\n  ProcessingIcon,\n  SucceedIcon,\n} from \"./WalletTransactionStatus.styles\";\n\ntype WalletTransactionStatusProps = {\n  status: \"succeeded\" | \"processing\" | \"reverted\";\n  className?: string;\n};\n\nconst WalletTransactionStatus = ({\n  status,\n  className = \"\",\n}: WalletTransactionStatusProps) => {\n  return (\n    <IconContainer>\n      {status === \"succeeded\" ? (\n        <SucceedIcon\n          className={className}\n          iconSize={1.875}\n          name=\"transaction-completed\"\n        />\n      ) : status === \"processing\" ? (\n        <ProcessingIcon\n          className={className}\n          iconSize={1.5}\n          name=\"transaction-pending\"\n        />\n      ) : (\n        <FailedIcon\n          className={className}\n          iconSize={1.5}\n          name=\"transaction-failed\"\n        />\n      )}\n    </IconContainer>\n  );\n};\n\nexport default WalletTransactionStatus;\n","import styled from \"styled-components\";\n\nimport TransactionLink from \"../TransactionLink/TransactionLink\";\nimport WalletTransactionStatus from \"../WalletTransactionStatus/WalletTransactionStatus\";\n\nexport const Container = styled.div`\n  display: flex;\n  align-items: flex-start;\n  width: 100%;\n\n  & + & {\n    margin-top: 1.25rem;\n  }\n`;\n\nexport const StyledWalletTransactionStatus = styled(WalletTransactionStatus)``;\n\nexport const TextContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  flex-wrap: wrap;\n`;\n\nexport const SpanTitle = styled.span`\n  font-size: 0.875rem;\n  font-weight: 700;\n`;\n\nexport const SpanSubtitle = styled.span`\n  line-height: 1.3;\n  font-size: 1rem;\n  font-weight: 400;\n  color: ${(props) => props.theme.colors.lightGrey};\n`;\n\nexport const StyledTransactionLink = styled(TransactionLink)`\n  justify-self: flex-end;\n  margin-left: auto;\n\n  &:hover {\n    color: ${(props) => props.theme.colors.alwaysWhite};\n  }\n`;\n","import { useTranslation } from \"react-i18next\";\n\nimport { TokenInfo } from \"@airswap/types\";\nimport { formatUnits } from \"@ethersproject/units\";\n\nimport {\n  SubmittedApproval,\n  SubmittedOrder,\n  SubmittedTransaction,\n  TransactionType,\n} from \"../../../../features/transactions/transactionsSlice\";\nimport getTimeBetweenTwoDates from \"../../../../helpers/getTimeBetweenTwoDates\";\nimport {\n  Container,\n  TextContainer,\n  SpanTitle,\n  SpanSubtitle,\n  StyledTransactionLink,\n  StyledWalletTransactionStatus,\n} from \"./WalletTransaction.styles\";\n\ntype WalletTransactionProps = {\n  /**\n   * The parent object of SubmittedOrder and SubmittedApproval\n   */\n  transaction: SubmittedTransaction;\n  /**\n   * the type of transaction\n   * @type \"Approval\" | \"Order\" | \"Withdraw\" | \"Deposit\"\n   */\n  type: TransactionType;\n  /**\n   * chainId of current Ethereum net\n   */\n  chainId: number;\n  /**\n   * Token Info of sender token\n   */\n  senderToken?: TokenInfo;\n  /**\n   * Token Info of signer token\n   */\n  signerToken?: TokenInfo;\n  /**\n   * Token Info of approval token\n   */\n  approvalToken?: TokenInfo;\n};\n\nexport const WalletTransaction = ({\n  transaction,\n  type,\n  chainId,\n  senderToken,\n  signerToken,\n  approvalToken,\n}: WalletTransactionProps) => {\n  const { t } = useTranslation([\"common\", \"wallet\"]);\n\n  if (type === \"Order\" || type === \"Deposit\" || type === \"Withdraw\") {\n    const tx: SubmittedOrder = transaction as SubmittedOrder;\n    return (\n      <Container>\n        <StyledWalletTransactionStatus status={tx.status} />\n        <TextContainer>\n          {tx && senderToken && signerToken && (\n            <>\n              <SpanTitle>\n                {t(\"wallet:transaction\", {\n                  senderAmount: parseFloat(\n                    Number(\n                      formatUnits(tx.order.senderAmount, senderToken.decimals)\n                    ).toFixed(5)\n                  ),\n                  senderToken: senderToken.symbol,\n                  signerAmount: parseFloat(\n                    Number(\n                      formatUnits(tx.order.signerAmount, signerToken.decimals)\n                    ).toFixed(5)\n                  ),\n                  signerToken: signerToken.symbol,\n                })}\n              </SpanTitle>\n              <SpanSubtitle>\n                {tx.status === \"succeeded\"\n                  ? t(\"common:success\")\n                  : tx.status === \"processing\"\n                  ? t(\"common:processing\")\n                  : t(\"common:failed\")}{\" \"}\n                {\" \"}\n                {tx.timestamp\n                  ? t(\"wallet:transactionTimeAgo\", {\n                      time: getTimeBetweenTwoDates(new Date(tx.timestamp)),\n                    })\n                  : t(\"common:undefined\")}\n              </SpanSubtitle>\n            </>\n          )}\n        </TextContainer>\n        <StyledTransactionLink chainId={chainId} hash={tx.hash} />\n      </Container>\n    );\n  } else {\n    const tx: SubmittedApproval = transaction as SubmittedApproval;\n    return (\n      <Container>\n        <StyledWalletTransactionStatus status={tx.status} />\n        <TextContainer>\n          {approvalToken && (\n            <>\n              <SpanTitle>\n                {t(\"wallet:approve\", { symbol: approvalToken.symbol })}\n              </SpanTitle>\n              <SpanSubtitle>\n                {tx.status === \"succeeded\"\n                  ? t(\"common:success\")\n                  : tx.status === \"processing\"\n                  ? t(\"common:processing\")\n                  : t(\"common:failed\")}{\" \"}\n                {\" \"}\n                {tx.timestamp\n                  ? t(\"wallet:transactionTimeAgo\", {\n                      time: getTimeBetweenTwoDates(new Date(tx.timestamp)),\n                    })\n                  : t(\"common:undefined\")}\n              </SpanSubtitle>\n            </>\n          )}\n        </TextContainer>\n        <StyledTransactionLink chainId={chainId} hash={tx.hash} />\n      </Container>\n    );\n  }\n};\n","import { useTranslation } from \"react-i18next\";\n\nimport { findTokenByAddress } from \"@airswap/metadata\";\nimport { TokenInfo } from \"@airswap/types\";\n\nimport {\n  SubmittedApproval,\n  SubmittedOrder,\n  SubmittedTransaction,\n} from \"../../features/transactions/transactionsSlice\";\nimport findEthOrTokenByAddress from \"../../helpers/findEthOrTokenByAddress\";\nimport {\n  OpenWallet,\n  ExitButton,\n  DisconnectButton,\n  TransactionContainer,\n  OpenWalletTopContainer,\n  StyledWalletAddress,\n  NoTransactions,\n} from \"./WalletButton.styles\";\nimport WalletAddress from \"./subcomponents/WalletAddress/WalletAddress\";\nimport { WalletTransaction } from \"./subcomponents/WalletTransaction/WalletTransaction\";\n\nexport type WalletButtonProps = {\n  /**\n   * Address of currenlty connected wallet, if any\n   */\n  address?: string | null;\n  /**\n   * Boolean to indicate if wallet is currently connecting. (Ignored if address\n   * is set)\n   */\n  isConnecting?: boolean;\n  /**\n   * Callback function for when disconnect button is clicked\n   */\n  onDisconnectWalletClicked: () => void;\n  /**\n   * List of transactions that have been submitted\n   */\n  transactions: SubmittedTransaction[];\n  /**\n   * Number representing chainId of ETH network\n   */\n  chainId: number;\n  /**\n   * List of all tokens in metadata\n   */\n  tokens: TokenInfo[];\n  walletOpen: boolean;\n  setWalletOpen: (x: boolean) => void;\n};\n\nexport const WalletButton = ({\n  address,\n  onDisconnectWalletClicked,\n  transactions = [],\n  chainId,\n  tokens,\n  walletOpen,\n  setWalletOpen,\n}: WalletButtonProps) => {\n  const { t } = useTranslation([\"wallet\"]);\n\n  if (address && !walletOpen) {\n    return (\n      <WalletAddress\n        isButton\n        address={address}\n        onClick={() => setWalletOpen(!walletOpen)}\n      />\n    );\n  }\n\n  if (address && walletOpen) {\n    return (\n      <OpenWallet>\n        <OpenWalletTopContainer>\n          <StyledWalletAddress\n            showBlockies\n            address={address}\n            onClick={() => setWalletOpen(!walletOpen)}\n          />\n          <ExitButton\n            iconSize={1.25}\n            icon=\"exit-modal\"\n            onClick={() => setWalletOpen(!walletOpen)}\n          />\n        </OpenWalletTopContainer>\n        <TransactionContainer flex={transactions.length === 0}>\n          {transactions.length > 0 ? (\n            transactions.slice(0, 3).map((transaction) => {\n              let token;\n              if (\n                transaction.type === \"Order\" ||\n                transaction.type === \"Deposit\" ||\n                transaction.type === \"Withdraw\"\n              ) {\n                const tx: SubmittedOrder = transaction as SubmittedOrder;\n                const senderToken = findEthOrTokenByAddress(\n                  tx.order.senderToken,\n                  tokens,\n                  chainId\n                );\n                const signerToken = findEthOrTokenByAddress(\n                  tx.order.signerToken,\n                  tokens,\n                  chainId\n                );\n                return (\n                  <WalletTransaction\n                    transaction={transaction}\n                    senderToken={senderToken}\n                    signerToken={signerToken}\n                    type={transaction.type}\n                    chainId={chainId!}\n                    key={transaction.hash}\n                  />\n                );\n              } else {\n                const tx: SubmittedApproval = transaction as SubmittedApproval;\n                token = findTokenByAddress(tx.tokenAddress, tokens);\n                return (\n                  <WalletTransaction\n                    transaction={transaction}\n                    approvalToken={token}\n                    type={transaction.type}\n                    chainId={chainId!}\n                    key={transaction.hash}\n                  />\n                );\n              }\n            })\n          ) : (\n            <NoTransactions>{t(\"wallet:noTransactions\")}</NoTransactions>\n          )}\n        </TransactionContainer>\n\n        <DisconnectButton\n          aria-label={t(\"wallet:disconnectWallet\")}\n          onClick={onDisconnectWalletClicked}\n        >\n          {t(\"wallet:disconnectWallet\")}\n        </DisconnectButton>\n      </OpenWallet>\n    );\n  }\n\n  return null;\n};\n\nexport default WalletButton;\n","import styled from \"styled-components\";\n\nconst PopoverContainer = styled.div`\n  position: absolute;\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  padding: 2rem;\n  top: 0;\n  right: 0;\n`;\n\nexport default PopoverContainer;\n","import SUPPORTED_WALLET_PROVIDERS, {\n  WalletProvider,\n} from \"../../constants/supportedWalletProviders\";\n\nconst LAST_ACCOUNT_LOCAL_STORAGE_KEY = `airswap/lastConnectedAccount`;\n\nconst saveLastAccount = (address: string, provider: WalletProvider) => {\n  localStorage.setItem(\n    LAST_ACCOUNT_LOCAL_STORAGE_KEY,\n    `${provider.name}/${address}`\n  );\n};\n\nconst clearLastAccount = () => {\n  localStorage.setItem(LAST_ACCOUNT_LOCAL_STORAGE_KEY, \"\");\n};\n\nconst loadLastAccount = () => {\n  try {\n    const storedString = localStorage.getItem(LAST_ACCOUNT_LOCAL_STORAGE_KEY);\n    if (!storedString) throw new Error(\"No connected accounts saved\");\n    const [providerName, address] = storedString.split(\"/\");\n    const provider = SUPPORTED_WALLET_PROVIDERS.find(\n      (p) => p.name === providerName\n    );\n    if (!provider) throw new Error(`Could not find provider: ${providerName}`);\n    return {\n      provider,\n      address,\n    };\n  } catch (e) {\n    return null;\n  }\n};\n\nexport { loadLastAccount, saveLastAccount, clearLastAccount };\n","import styled from \"styled-components/macro\";\n\nexport const StyledSiteLogo = styled.svg`\n  width: 10rem;\n  height: 3.125rem;\n  fill: ${(props) =>\n    props.theme.name === \"light\"\n      ? props.theme.colors.primary\n      : props.theme.colors.white};\n`;\n","import React, { FC, ReactElement } from \"react\";\n\nimport { StyledSiteLogo } from \"./SiteLogo.styles\";\n\ntype SiteLogoProps = {\n  className?: string;\n  adjustForBookmarkWarning?: boolean;\n};\n\nconst SiteLogo: FC<SiteLogoProps> = ({ className }): ReactElement => {\n  return (\n    <StyledSiteLogo viewBox=\"0 0 159 50\" className={className}>\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M12.7296 43.8766H19.0945C20.9352 43.8766 21.4878 43.8502 22.5133 43.6914V47.0248C21.5667 46.919 20.8826 46.8925 19.1468 46.8925H3.36652C1.63066 46.8925 0.947139 46.919 0 47.0248V43.6914C1.02574 43.8502 1.57805 43.8766 3.41942 43.8766H9.36312V33.0035H5.33909C3.60322 33.0035 2.9194 33.0299 1.97257 33.1361V29.8292C2.97231 29.9879 3.60322 30.0143 5.39169 30.0143H17.0953C18.8837 30.0143 19.515 29.9879 20.5144 29.8292V33.1361C19.5676 33.0299 18.91 33.0035 17.1479 33.0035H12.7296V43.8766Z\"\n      />\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M63.0343 37.0233H69.3992C71.2399 37.0233 71.7925 36.9982 72.818 36.8478V40.0062C71.8714 39.9059 71.1873 39.8809 69.4514 39.8809H53.6712C51.9353 39.8809 51.2518 39.9059 50.3047 40.0062V36.8478C51.3304 36.9982 51.8827 37.0233 53.7241 37.0233H59.6678H63.0343Z\"\n      />\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M47.9527 29.9531C47.581 30.4012 47.581 30.4275 46.8901 31.7979C45.96 33.7482 44.4185 35.7248 42.7976 37.0952C41.735 38.0173 40.8581 38.5971 39.6091 39.2823C38.8119 38.1754 38.4133 37.7801 37.2176 36.8841C38.998 36.0934 40.0077 35.4876 41.0972 34.4597C42.1867 33.4583 43.0105 32.3777 43.6213 31.1127H29.6712C27.8108 31.1127 27.1467 31.1391 26.0573 31.2709V27.9765C27.0667 28.1347 27.8905 28.1874 29.7243 28.1874H43.5948C45.1894 28.1874 45.4286 28.161 46.1723 27.9502L47.9527 29.9531ZM37.1644 33.2738C37.0847 33.7745 37.0847 33.8009 37.0581 35.4085C36.9518 39.9151 36.2344 42.4451 34.4277 44.7377C32.833 46.767 30.8932 48.1111 27.5719 49.4815C26.881 48.0583 26.5356 47.584 25.4727 46.4771C27.6251 45.8446 28.8208 45.2648 30.1229 44.2369C32.833 42.1025 33.6834 39.8357 33.6834 34.8551C33.6834 34.0644 33.6568 33.8272 33.5508 33.2738H37.1644Z\"\n      />\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M71.3352 23.1614C69.1412 20.4748 66.1016 17.5244 63.2203 15.3377C60.2333 18.6569 57.1934 20.975 53.149 22.951C52.4091 21.5809 52.0919 21.1594 51.0078 20.027C53.0432 19.2367 54.3121 18.5251 56.2946 17.1293C60.2861 14.3367 63.4582 10.5173 65.1764 6.40787L65.4669 5.72296C65.0439 5.7493 65.0439 5.7493 56.7175 5.88102C55.4487 5.90736 54.735 5.96004 53.8362 6.09176L53.7308 2.72021C54.4707 2.85162 54.9732 2.87796 56.0567 2.87796H56.6911L65.9959 2.74656C67.4758 2.72021 67.6876 2.69357 68.3482 2.45648L70.0928 4.24778C69.7495 4.64292 69.5377 5.01171 69.2469 5.67028C68.031 8.48893 66.7357 10.7807 65.1235 12.9408C66.7889 14.0469 68.2163 15.1533 70.0135 16.7605C70.6747 17.3397 70.6747 17.3397 73.8729 20.4221L71.3352 23.1614Z\"\n      />\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M93.5706 6.11073C93.3324 6.60943 93.3056 6.76661 93.1732 7.55403C92.7227 10.5728 92.3252 12.0426 91.5038 13.9062C90.2054 16.9246 88.0857 19.2604 84.9593 21.1502C83.3694 22.1213 81.9916 22.725 79.6863 23.5124C79.0769 22.1738 78.7589 21.7014 77.5665 20.389C80.0838 19.7856 81.5411 19.2341 83.2105 18.2108C87.0526 15.8482 89.0661 12.5148 89.5698 7.68557H76.6391V11.0715C76.6391 11.8851 76.6656 12.5935 76.7186 13.1713H73.168C73.2475 12.5148 73.3005 11.7011 73.3005 10.9662V7.16032C73.3005 6.05823 73.274 5.3758 73.1945 4.66743C74.1219 4.77211 74.5988 4.79836 76.0562 4.79836H81.2497L89.437 4.77211C91.3978 4.77211 91.3978 4.77211 92.0338 4.56213L93.5706 6.11073Z\"\n      />\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M105.155 5.96582C106.553 8.5989 107.054 9.76871 107.714 12.0824L104.785 13.0131C104.284 10.992 103.492 8.94461 102.384 6.76363L105.155 5.96582ZM114.679 7.24262C114.52 7.64122 114.467 7.7745 114.309 8.5989C113.544 12.2153 112.357 15.1406 110.669 17.4543C108.716 20.1402 106.526 21.8688 102.622 23.8633C101.936 22.6932 101.619 22.2943 100.511 21.2302C102.358 20.5125 103.44 19.9272 104.996 18.7839C108.083 16.5235 109.851 13.8109 110.985 9.55596C111.328 8.25287 111.46 7.3224 111.46 6.498L114.679 7.24262ZM99.5352 7.05616C100.643 9.10387 101.171 10.3804 102.12 13.3588L99.1395 14.3162C98.4532 11.6303 97.9258 10.2208 96.7383 7.88056L99.5352 7.05616Z\"\n      />\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M133.804 3.03135C133.804 3.9806 134.572 4.77138 135.525 4.77138C136.504 4.77138 137.272 3.9806 137.272 3.03135C137.272 2.0824 136.504 1.31798 135.525 1.31798C134.572 1.31798 133.804 2.0824 133.804 3.03135ZM130.919 3.11073C131.713 3.11073 132.03 3.08437 132.48 3.05771C132.507 1.34434 133.83 0 135.525 0C137.219 0 138.596 1.3707 138.596 3.03135C138.596 4.71836 137.219 6.08936 135.525 6.08936C135.366 6.08936 135.207 6.063 135.022 6.03633C132.877 14.6559 128.192 20.0333 119.826 23.5124C119.138 22.142 118.688 21.5354 117.496 20.3756C124.83 18.1087 129.621 13.2061 131.315 6.19449H118.714C116.755 6.19449 116.252 6.22085 115.379 6.35265V2.92591C116.332 3.08437 116.967 3.11073 118.767 3.11073H130.919Z\"\n      />\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M23.918 22.1087H27.4357V2.10559H23.918V22.1087Z\"\n      />\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M44.9907 22.1087L40.4966 15.3854H35.9752V22.1087H32.3633V2.10559H41.5249C46.2518 2.10559 49.1595 4.85847 49.1595 8.74655C49.1595 12.0376 47.1327 14.0239 44.2551 14.7902L49.2482 22.1087H44.9907ZM41.2313 5.28371H35.9752V12.2927H41.2595C43.8444 12.2927 45.4885 10.7876 45.4885 8.74502C45.4885 6.56004 43.9034 5.28371 41.2313 5.28371Z\"\n      />\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M0 22.1087H3.78527C3.78527 22.1087 6.5041 16.3386 14.4802 17.0038L16.6353 22.1087H20.4027L12.0627 2.10559H8.542L0 22.1087ZM10.3452 6.27642L13.2629 13.8573C13.2629 13.8573 10.0568 13.7376 6.85105 15.2714L10.3452 6.27642Z\"\n      />\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M85.9459 37.1418C82.0325 36.2313 81.026 35.3634 81.026 33.7983C81.026 32.4603 82.0914 31.3987 84.1944 31.3987C86.0642 31.3987 88.1358 32.3034 89.9763 33.6411L91.9037 30.9942C89.83 29.3718 87.0747 28.4254 84.0955 28.4254C80.0358 28.4254 77.4337 30.639 77.4337 34.1112C77.4337 37.8115 79.9585 39.2479 84.3099 40.2727C88.1072 41.1268 88.9242 41.8951 88.9242 43.3462C88.9242 44.8834 87.9029 46.0284 85.6843 46.0284C83.1432 46.0284 80.8054 44.9404 78.8491 43.2898L76.6875 45.7939C79.1408 47.9287 82.4716 49.1304 85.5956 49.1304C89.8891 49.1304 92.5171 46.762 92.5171 43.0054C92.5171 42.5577 92.4762 42.143 92.3955 41.7584C91.8751 39.2788 89.688 38.0294 85.9459 37.1418Z\"\n      />\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M120.042 28.7764L115.146 43.5021L110.104 28.777H107.055L102.013 43.5021L97.1175 28.7764H93.2188L100.371 48.7795H103.479L108.521 34.5075L113.563 48.7795H116.67L123.823 28.7764H120.042Z\"\n      />\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M150.872 38.9666H145.735V31.9544H150.872C153.58 31.9544 155.317 32.6131 155.317 35.3667C155.317 37.9517 153.61 38.9666 150.872 38.9666ZM151.166 28.7764H142.113V48.7795H145.735V42.1162H150.754C155.606 42.1162 158.998 39.7035 158.998 35.2207C158.998 31.1631 155.965 28.7764 151.166 28.7764Z\"\n      />\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M127.445 40.5279L130.362 32.9473L133.856 41.9422C130.651 40.4085 127.445 40.5279 127.445 40.5279ZM128.644 28.7764L120.305 48.7795H124.072L126.227 43.6747C134.203 43.0096 136.922 48.7795 136.922 48.7795H140.707L132.165 28.7764H128.644Z\"\n      />\n    </StyledSiteLogo>\n  );\n};\n\nexport default SiteLogo;\n","import styled from \"styled-components/macro\";\n\nimport { Wallet } from \"../../features/wallet/Wallet\";\nimport breakPoints from \"../../style/breakpoints\";\nimport { sizes } from \"../../style/sizes\";\nimport SiteLogo from \"../SiteLogo/SiteLogo\";\nimport { StyledPageProps } from \"./Page\";\n\nexport const StyledSiteLogo = styled(SiteLogo)`\n  position: absolute;\n  top: 2.5rem;\n  top: ${(props) => (props.adjustForBookmarkWarning ? \"1.2rem\" : \"2.5rem\")};\n  left: 2.5rem;\n`;\n\ntype StyledWalletProps = {\n  isOpen?: boolean;\n};\n\nexport const StyledWallet = styled(Wallet)<StyledWalletProps>`\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  position: absolute;\n  top: 2rem;\n  right: 2rem;\n  transition: transform 0.3s ease-in-out;\n  z-index: 1001;\n\n  @media (prefers-reduced-motion: reduce) {\n    transition: none;\n  }\n`;\n\nexport const StyledPage = styled.div<StyledPageProps>`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n  min-width: 18rem;\n  min-height: ${(props) =>\n    props.adjustForBookmarkWarning ? \"calc(100vh - 40px)\" : \"100vh\"};\n  padding: 2rem 0 0;\n\n  @media (min-height: 50rem) {\n    align-items: center;\n    height: ${(props) =>\n      props.adjustForBookmarkWarning ? \"calc(100vh - 40px)\" : \"100vh\"};\n    min-height: 50rem;\n  }\n\n  @media ${breakPoints.tabletPortraitUp} {\n    padding-left: ${sizes.toolBarWidth};\n  }\n\n  @media ${breakPoints.tabletLandscapeUp} {\n    padding-left: 0;\n  }\n`;\n","import { FC, useEffect, useState } from \"react\";\n\nimport { Light, Wrapper } from \"@airswap/libraries\";\nimport { Web3Provider } from \"@ethersproject/providers\";\nimport { useWeb3React } from \"@web3-react/core\";\nimport { WalletConnectConnector } from \"@web3-react/walletconnect-connector\";\n\nimport { useAppDispatch, useAppSelector } from \"../../app/hooks\";\nimport SettingsButton from \"../../components/SettingsButton/SettingsButton\";\nimport WalletButton from \"../../components/WalletButton/WalletButton\";\nimport {\n  AbstractConnector,\n  WalletProvider,\n} from \"../../constants/supportedWalletProviders\";\nimport SUPPORTED_WALLET_PROVIDERS from \"../../constants/supportedWalletProviders\";\nimport PopoverContainer from \"../../styled-components/PopoverContainer/PopoverContainer\";\nimport { subscribeToTransfersAndApprovals } from \"../balances/balancesApi\";\nimport {\n  decrementBalanceBy,\n  incrementBalanceBy,\n  requestActiveTokenAllowancesLight,\n  requestActiveTokenAllowancesWrapper,\n  requestActiveTokenBalances,\n  selectBalances,\n  setAllowanceLight,\n  setAllowanceWrapper,\n} from \"../balances/balancesSlice\";\nimport { getTransactionsLocalStorageKey } from \"../metadata/metadataApi\";\nimport {\n  fetchAllTokens,\n  fetchUnkownTokens,\n  selectActiveTokens,\n  selectAllTokenInfo,\n} from \"../metadata/metadataSlice\";\nimport { fetchSupportedTokens } from \"../registry/registrySlice\";\nimport {\n  revertTransaction,\n  mineTransaction,\n} from \"../transactions/transactionActions\";\nimport {\n  selectTransactions,\n  setTransactions,\n  TransactionsState,\n} from \"../transactions/transactionsSlice\";\nimport {\n  clearLastAccount,\n  loadLastAccount,\n  saveLastAccount,\n} from \"./walletApi\";\nimport {\n  setWalletConnected,\n  setWalletDisconnected,\n  selectWallet,\n} from \"./walletSlice\";\n\ntype WalletProps = {\n  className?: string;\n};\n\nexport const Wallet: FC<WalletProps> = ({ className = \"\" }) => {\n  const {\n    chainId,\n    account,\n    activate,\n    deactivate,\n    active,\n    library,\n  } = useWeb3React<Web3Provider>();\n\n  // Redux\n  const dispatch = useAppDispatch();\n  const activeTokens = useAppSelector(selectActiveTokens);\n  const balances = useAppSelector(selectBalances);\n  const { providerName } = useAppSelector(selectWallet);\n  const transactions = useAppSelector(selectTransactions);\n  const allTokens = useAppSelector(selectAllTokenInfo);\n\n  // Local component state\n  const [isActivating, setIsActivating] = useState<boolean>(false);\n  const [walletOpen, setWalletOpen] = useState<boolean>(false);\n  const [settingsOpen, setSettingsOpen] = useState<boolean>(false);\n\n  const [connector, setConnector] = useState<AbstractConnector>();\n  const [provider, setProvider] = useState<WalletProvider>();\n  const [activated, setActivated] = useState(false);\n  // Auto-activate if user has connected before on (first render)\n  useEffect(() => {\n    const lastConnectedAccount = loadLastAccount();\n    if (lastConnectedAccount?.address) {\n      setIsActivating(true);\n      const connector = lastConnectedAccount.provider.getConnector();\n      setConnector(connector);\n      setProvider(lastConnectedAccount.provider);\n      activate(connector)\n        .then(() => {\n          setActivated(true);\n        })\n        .finally(() => {\n          setIsActivating(false);\n        });\n    }\n  }, [activate, activated]);\n\n  // Side effects for connecting a wallet from SwapWidget\n\n  useEffect(() => {\n    if (providerName) {\n      const provider = SUPPORTED_WALLET_PROVIDERS.find(\n        (provider) => provider.name === providerName\n      );\n      setProvider(provider);\n      setConnector(provider!.getConnector());\n    }\n  }, [providerName]);\n\n  // Trigger request for balances and allowances once account is connected\n  useEffect(() => {\n    if (active && account && chainId && library && connector && provider) {\n      // Dispatch a general action to indicate wallet has changed\n      dispatch(\n        setWalletConnected({\n          chainId,\n          address: account,\n        })\n      );\n      saveLastAccount(account, provider);\n      dispatch(\n        requestActiveTokenAllowancesLight({\n          provider: library,\n        })\n      );\n      dispatch(\n        requestActiveTokenAllowancesWrapper({\n          provider: library,\n        })\n      );\n\n      Promise.all([\n        dispatch(fetchAllTokens()),\n        dispatch(\n          fetchSupportedTokens({\n            provider: library,\n          } as any)\n        ),\n      ]).then(() => {\n        dispatch(\n          requestActiveTokenBalances({\n            provider: library,\n          })\n        );\n        dispatch(\n          fetchUnkownTokens({\n            provider: library,\n          } as any)\n        );\n      });\n    } else {\n      dispatch(setWalletDisconnected());\n    }\n  }, [active, account, chainId, dispatch, library, connector, provider]);\n\n  // Subscribe to changes in balance\n\n  useEffect(() => {\n    if (\n      !library ||\n      !account ||\n      !connector ||\n      chainId === undefined ||\n      !activeTokens.length ||\n      balances.lastFetch === null ||\n      balances.status !== \"idle\"\n    )\n      return;\n\n    let teardownTransferListener: () => void;\n    if (activeTokens.length) {\n      teardownTransferListener = subscribeToTransfersAndApprovals({\n        activeTokenAddresses: activeTokens.map((t) => t.address),\n        provider: library,\n        walletAddress: account,\n        spenderAddress: Light.getAddress(),\n        onBalanceChange: (tokenAddress, amount, direction) => {\n          const actionCreator =\n            direction === \"in\" ? incrementBalanceBy : decrementBalanceBy;\n          dispatch(\n            actionCreator({\n              tokenAddress,\n              amount: amount.toString(),\n            })\n          );\n        },\n        onApproval: (tokenAddress, spenderAddress, amount) => {\n          const actionCreator =\n            spenderAddress === Wrapper.getAddress().toLowerCase()\n              ? setAllowanceWrapper\n              : setAllowanceLight;\n          dispatch(\n            actionCreator({\n              tokenAddress,\n              amount: amount.toString(),\n            })\n          );\n        },\n      });\n    }\n    return () => {\n      if (teardownTransferListener) {\n        teardownTransferListener();\n      }\n    };\n  }, [\n    activeTokens,\n    account,\n    library,\n    connector,\n    dispatch,\n    chainId,\n    balances.lastFetch,\n    balances.status,\n  ]);\n\n  useEffect(() => {\n    // Create a flag we can set to handle wallet changing between async operations\n    let walletHasChanged = false;\n\n    // get transaction state from local storage and update the transactions\n    if (chainId && account && library) {\n      const transactionsLocalStorage: TransactionsState = JSON.parse(\n        localStorage.getItem(\n          getTransactionsLocalStorageKey(account!, chainId!)\n        )!\n      ) || { all: [] };\n      dispatch(setTransactions(transactionsLocalStorage));\n\n      // check from all responses if one is pending... if pending, call getTransaction\n      // to see if it was a success/failure/pending. update accordingly. if pending: wait()\n      // and poll at a sensible interval.\n      transactionsLocalStorage.all.forEach(async (tx) => {\n        if (tx.status === \"processing\") {\n          let receipt = await library.getTransactionReceipt(tx.hash);\n          if (receipt !== null) {\n            if (walletHasChanged) return;\n            const status = receipt.status;\n            if (status === 1) dispatch(mineTransaction(tx.hash));\n            // success\n            else if (status === 0)\n              dispatch(\n                revertTransaction({\n                  hash: tx.hash,\n                  reason: \"Reverted\",\n                })\n              ); // reverted\n            return;\n          } else {\n            // Receipt was null, so the transaction is incomplete\n            // Try to get a reference to the transaction in the mem pool - this\n            // can sometimes also return null (e.g. gas price too low or tx only\n            // recently sent) depending on backend.\n            const transaction = await library.getTransaction(tx.hash);\n            if (transaction) {\n              try {\n                await transaction.wait(1);\n                if (!walletHasChanged) dispatch(mineTransaction(tx.hash)); // success\n              } catch (err) {\n                console.error(err);\n                if (!walletHasChanged)\n                  dispatch(\n                    revertTransaction({\n                      hash: tx.hash,\n                      reason: \"Reverted\",\n                    })\n                  );\n              }\n              return;\n            } else {\n              // if transaction === null, we poll at intervals\n              // assume failed after 30 mins\n              const assumedFailureTime = Date.now() + 30 * 60 * 1000;\n              while (receipt === null && Date.now() <= assumedFailureTime) {\n                // wait 30 seconds\n                await new Promise((res) => setTimeout(res, 30000));\n                receipt = await library!.getTransactionReceipt(tx.hash);\n              }\n              if (!receipt || receipt.status === 0) {\n                if (!walletHasChanged)\n                  dispatch(\n                    revertTransaction({\n                      hash: tx.hash,\n                      reason: \"Reverted\",\n                    })\n                  );\n              } else {\n                if (!walletHasChanged) dispatch(mineTransaction(tx.hash)); // success\n              }\n            }\n          }\n        }\n      });\n    }\n    return () => {\n      // Library & dispatch won't change, so when we tear down it's because\n      // the wallet has changed. The useEffect will run after this and set up\n      // everything for the new wallet.\n      walletHasChanged = true;\n    };\n  }, [chainId, dispatch, library, account]);\n\n  const handleWalletOpen = (state: boolean) => {\n    setWalletOpen(state);\n    setSettingsOpen(false);\n  };\n\n  const handleSettingsOpen = (state: boolean) => {\n    setSettingsOpen(state);\n    state && setWalletOpen(false);\n  };\n\n  return (\n    <PopoverContainer>\n      <WalletButton\n        address={account}\n        onDisconnectWalletClicked={() => {\n          clearLastAccount();\n          deactivate();\n          if (connector instanceof WalletConnectConnector) {\n            connector.close();\n          }\n        }}\n        isConnecting={isActivating}\n        tokens={allTokens}\n        chainId={chainId!}\n        transactions={transactions}\n        walletOpen={walletOpen}\n        setWalletOpen={handleWalletOpen}\n      />\n      <SettingsButton\n        settingsOpen={settingsOpen}\n        setSettingsOpen={handleSettingsOpen}\n      />\n    </PopoverContainer>\n  );\n};\n","import React, { FC, ReactElement } from \"react\";\n\nimport { useAppSelector } from \"../../app/hooks\";\nimport { Orders } from \"../../features/orders/Orders\";\nimport { selectUserSettings } from \"../../features/userSettings/userSettingsSlice\";\nimport useWindowSize from \"../../helpers/useWindowSize\";\nimport Toaster from \"../Toasts/Toaster\";\nimport Toolbar from \"../Toolbar/Toolbar\";\nimport WidgetFrame from \"../WidgetFrame/WidgetFrame\";\nimport { StyledPage, StyledWallet } from \"./Page.styles\";\n\nexport type StyledPageProps = {\n  /**\n   * if set, take off the space needed for the bookmarkwarning from the min-height and height of StyledPage\n   */\n  adjustForBookmarkWarning: boolean;\n};\n\nconst Page: FC = (): ReactElement => {\n  const { showBookmarkWarning } = useAppSelector(selectUserSettings);\n  const { width } = useWindowSize();\n  /* using 480 from breakpoint size defined at src/style/breakpoints.ts */\n  const adjustForBookmarkWarning = width! > 480 && showBookmarkWarning;\n\n  return (\n    <StyledPage adjustForBookmarkWarning={adjustForBookmarkWarning}>\n      <Toaster />\n      <Toolbar />\n      <StyledWallet />\n      <WidgetFrame>\n        <Orders />\n      </WidgetFrame>\n    </StyledPage>\n  );\n};\n\nexport default Page;\n","import React, { FC, ReactElement } from \"react\";\n\nimport { useAppSelector } from \"../../app/hooks\";\nimport { selectUserSettings } from \"../../features/userSettings/userSettingsSlice\";\nimport useWindowSize from \"../../helpers/useWindowSize\";\nimport { StyledPage, StyledSiteLogo } from \"../Page/Page.styles\";\nimport WidgetFrame from \"../WidgetFrame/WidgetFrame\";\n\nconst PageLoader: FC = (): ReactElement => {\n  const { showBookmarkWarning } = useAppSelector(selectUserSettings);\n  const { width } = useWindowSize();\n  /* using 480 from breakpoint size defined at src/style/breakpoints.ts */\n  const adjustForBookmarkWarning = width! > 800 && showBookmarkWarning;\n\n  return (\n    <StyledPage adjustForBookmarkWarning={adjustForBookmarkWarning}>\n      <StyledSiteLogo adjustForBookmarkWarning={adjustForBookmarkWarning} />\n      <WidgetFrame />\n    </StyledPage>\n  );\n};\n\nexport default PageLoader;\n","import { initReactI18next } from \"react-i18next\";\n\nimport i18n from \"i18next\";\nimport LanguageDetector from \"i18next-browser-languagedetector\";\nimport HttpBackend from \"i18next-http-backend\";\n\ni18n\n  // load translation using http -> see /public/locales\n  .use(HttpBackend)\n  // detect user language\n  // learn more: https://github.com/i18next/i18next-browser-languageDetector\n  .use(LanguageDetector)\n  // pass the i18n instance to react-i18next.\n  .use(initReactI18next)\n  // init i18next\n  // for all options read: https://www.i18next.com/overview/configuration-options\n  .init({\n    fallbackLng: \"en\",\n    ns: \"common\",\n    load: \"languageOnly\",\n    debug: process.env.NODE_ENV !== \"production\",\n    interpolation: {\n      escapeValue: false, // not needed for react as it escapes by default\n    },\n    react: {\n      useSuspense: true,\n    },\n    backend: {\n      loadPath: process.env.PUBLIC_URL + \"/locales/{{lng}}/{{ns}}.json\",\n    },\n  });\n\nexport default i18n;\n","import \"@fontsource/montserrat/400.css\";\nimport \"@fontsource/montserrat/500.css\";\nimport \"@fontsource/montserrat/600.css\";\nimport \"@fontsource/montserrat/700.css\";\n\nimport { createGlobalStyle } from \"styled-components/macro\";\n\nimport convertHexToRGBA from \"../helpers/transformHexToRgba\";\nimport breakPoints from \"./breakpoints\";\nimport reset from \"./reset\";\n\nconst GlobalStyle = createGlobalStyle`\n  ${reset}\n  \n  body {\n    margin: 0;\n    padding: 0;\n    overflow-x: hidden;\n    font-family: 'Montserrat', sans-serif;\n    color: ${(props) =>\n      props.theme.name === \"dark\"\n        ? props.theme.colors.white\n        : props.theme.colors.primary};\n    background: ${(props) => props.theme.colors.black};\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n\n  code {\n    font-family: source-code-pro, Menlo, Monaco, Consolas, \"Courier New\",\n      monospace;\n  }\n\n  p {\n    font-size: ${(props) => props.theme.typography.paragraph.fontSize};\n    font-weight: ${(props) => props.theme.typography.paragraph.fontWeight};\n    line-height: ${(props) => props.theme.typography.paragraph.lineHeight};\n  }\n\n  .ReactModal__Overlay {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    padding: 1.5rem;\n    background: ${(props) =>\n      convertHexToRGBA(props.theme.colors.alwaysBlack, 0.5)};\n\n    @media ${breakPoints.tabletPortraitUp} {\n      padding: 2.5rem;\n    }\n\n  }\n\n  .ReactModal__Content {\n    position: relative !important;\n    border-radius: 0.125rem;\n    width: 100%;\n    max-width: 25rem;\n    padding: 1.5rem;\n    background: ${(props) => props.theme.colors.grey};\n  }\n`;\n\nexport default GlobalStyle;\n","const reset = `\n  /* ! tailwindcss v2.1.4 | MIT License | https://tailwindcss.com */\n\n  /*! modern-normalize v1.1.0 | MIT License | https://github.com/sindresorhus/modern-normalize */\n\n  /*\n  Document\n  ========\n  */\n\n  /**\n  Use a better box model (opinionated).\n  */\n\n  *,\n  ::before,\n  ::after {\n    box-sizing: border-box;\n  }\n\n  /**\n  Use a more readable tab size (opinionated).\n  */\n\n  html {\n    -moz-tab-size: 4;\n    tab-size: 4;\n  }\n\n  /**\n  1. Correct the line height in all browsers.\n  2. Prevent adjustments of font size after orientation changes in iOS.\n  */\n\n  html {\n    line-height: 1.15; /* 1 */\n    -webkit-text-size-adjust: 100%; /* 2 */\n  }\n\n  /*\n  Grouping content\n  ================\n  */\n\n  /**\n  1. Add the correct height in Firefox.\n  2. Correct the inheritance of border color in Firefox. (https://bugzilla.mozilla.org/show_bug.cgi?id=190655)\n  */\n\n  hr {\n    height: 0; /* 1 */\n    color: inherit; /* 2 */\n  }\n\n  /*\n  Text-level semantics\n  ====================\n  */\n\n  /**\n  Add the correct text decoration in Chrome, Edge, and Safari.\n  */\n\n  abbr[title] {\n    text-decoration: underline dotted;\n  }\n\n  /**\n  Add the correct font weight in Edge and Safari.\n  */\n\n  b,\n  strong {\n    font-weight: bolder;\n  }\n\n  /**\n  1. Improve consistency of default fonts in all browsers. (https://github.com/sindresorhus/modern-normalize/issues/3)\n  2. Correct the odd 'em' font sizing in all browsers.\n  */\n\n  code,\n  kbd,\n  samp,\n  pre {\n    font-family: ui-monospace,\n    SFMono-Regular,\n    Consolas,\n    'Liberation Mono',\n    Menlo,\n    monospace; /* 1 */\n    font-size: 1em; /* 2 */\n  }\n\n  /**\n  Add the correct font size in all browsers.\n  */\n\n  small {\n    font-size: 80%;\n  }\n\n  /**\n  Prevent 'sub' and 'sup' elements from affecting the line height in all browsers.\n  */\n\n  sub,\n  sup {\n    font-size: 75%;\n    line-height: 0;\n    position: relative;\n    vertical-align: baseline;\n  }\n\n  sub {\n    bottom: -0.25em;\n  }\n\n  sup {\n    top: -0.5em;\n  }\n\n  /*\n  Tabular data\n  ============\n  */\n\n  /**\n  1. Remove text indentation from table contents in Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=999088, https://bugs.webkit.org/show_bug.cgi?id=201297)\n  2. Correct table border color inheritance in all Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=935729, https://bugs.webkit.org/show_bug.cgi?id=195016)\n  */\n\n  table {\n    text-indent: 0; /* 1 */\n    border-color: inherit; /* 2 */\n  }\n\n  /*\n  Forms\n  =====\n  */\n\n  /**\n  1. Change the font styles in all browsers.\n  2. Remove the margin in Firefox and Safari.\n  */\n\n  button,\n  input,\n  optgroup,\n  select,\n  textarea {\n    font-family: inherit; /* 1 */\n    font-size: 100%; /* 1 */\n    line-height: 1.15; /* 1 */\n    margin: 0; /* 2 */\n  }\n\n  /**\n  Remove the inheritance of text transform in Edge and Firefox.\n  1. Remove the inheritance of text transform in Firefox.\n  */\n\n  button,\n  select { /* 1 */\n    text-transform: none;\n  }\n\n  /**\n  Correct the inability to style clickable types in iOS and Safari.\n  */\n\n  button,\n  [type='button'],\n  [type='reset'],\n  [type='submit'] {\n    -webkit-appearance: button;\n  }\n\n  /**\n  Remove the inner border and padding in Firefox.\n  */\n\n  ::-moz-focus-inner {\n    border-style: none;\n    padding: 0;\n  }\n\n  /**\n  Restore the focus styles unset by the previous rule.\n  */\n\n  :-moz-focusring {\n    outline: 1px dotted ButtonText;\n  }\n\n  /**\n  Remove the additional ':invalid' styles in Firefox.\n  See: https://github.com/mozilla/gecko-dev/blob/2f9eacd9d3d995c937b4251a5557d95d494c9be1/layout/style/res/forms.css#L728-L737\n  */\n\n  :-moz-ui-invalid {\n    box-shadow: none;\n  }\n\n  /**\n  Remove the padding so developers are not caught out when they zero out 'fieldset' elements in all browsers.\n  */\n\n  legend {\n    padding: 0;\n  }\n\n  /**\n  Add the correct vertical alignment in Chrome and Firefox.\n  */\n\n  progress {\n    vertical-align: baseline;\n  }\n\n  /**\n  Correct the cursor style of increment and decrement buttons in Safari.\n  */\n\n  ::-webkit-inner-spin-button,\n  ::-webkit-outer-spin-button {\n    height: auto;\n  }\n\n  /**\n  1. Correct the odd appearance in Chrome and Safari.\n  2. Correct the outline style in Safari.\n  */\n\n  [type='search'] {\n    -webkit-appearance: textfield; /* 1 */\n    outline-offset: -2px; /* 2 */\n  }\n\n  /**\n  Remove the inner padding in Chrome and Safari on macOS.\n  */\n\n  ::-webkit-search-decoration {\n    -webkit-appearance: none;\n  }\n\n  /**\n  1. Correct the inability to style clickable types in iOS and Safari.\n  2. Change font properties to 'inherit' in Safari.\n  */\n\n  ::-webkit-file-upload-button {\n    -webkit-appearance: button; /* 1 */\n    font: inherit; /* 2 */\n  }\n\n  /*\n  Interactive\n  ===========\n  */\n\n  /*\n  Add the correct display in Chrome and Safari.\n  */\n\n  summary {\n    display: list-item;\n  }\n\n  /**\n   * Manually forked from SUIT CSS Base: https://github.com/suitcss/base\n   * A thin layer on top of normalize.css that provides a starting point more\n   * suitable for web applications.\n   */\n\n  /**\n   * Removes the default spacing and border for appropriate elements.\n   */\n\n  blockquote,\n  dl,\n  dd,\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6,\n  hr,\n  figure,\n  p,\n  pre {\n    margin: 0;\n  }\n\n  button {\n    background-color: transparent;\n    background-image: none;\n  }\n\n  /**\n   * Work around a Firefox/IE bug where the transparent \\`button\\` background\n   * results in a loss of the default \\`button\\` focus styles.\n   */\n\n  button:focus {\n    outline: 1px dotted;\n    outline: 5px auto -webkit-focus-ring-color;\n  }\n\n  fieldset {\n    margin: 0;\n    padding: 0;\n  }\n\n  ol,\n  ul {\n    list-style: none;\n    margin: 0;\n    padding: 0;\n  }\n\n  /**\n   * Tailwind custom reset styles\n   */\n\n  /**\n   * 1. Use the user's configured \\`sans\\` font-family (with Tailwind's default\n   *    sans-serif font stack as a fallback) as a sane default.\n   * 2. Use Tailwind's default \"normal\" line-height so the user isn't forced\n   *    to override it to ensure consistency even when using the default theme.\n   */\n\n  html {\n    font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, \"Noto Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\"; /* 1 */\n    line-height: 1.5; /* 2 */\n  }\n\n  /**\n   * Inherit font-family and line-height from \\`html\\` so users can set them as\n   * a class directly on the \\`html\\` element.\n   */\n\n  body {\n    font-family: inherit;\n    line-height: inherit;\n  }\n\n  /**\n   * 1. Prevent padding and border from affecting element width.\n   *\n   *    We used to set this in the html element and inherit from\n   *    the parent element for everything else. This caused issues\n   *    in shadow-dom-enhanced elements like <details> where the content\n   *    is wrapped by a div with box-sizing set to \\`content-box\\`.\n   *\n   *    https://github.com/mozdevs/cssremedy/issues/4\n   *\n   *\n   * 2. Allow adding a border to an element by just adding a border-width.\n   *\n   *    By default, the way the browser specifies that an element should have no\n   *    border is by setting it's border-style to \\`none\\` in the user-agent\n   *    stylesheet.\n   *\n   *    In order to easily add borders to elements by just setting the \\`border-width\\`\n   *    property, we change the default border-style for all elements to \\`solid\\`, and\n   *    use border-width to hide them instead. This way our \\`border\\` utilities only\n   *    need to set the \\`border-width\\` property instead of the entire \\`border\\`\n   *    shorthand, making our border utilities much more straightforward to compose.\n   *\n   *    https://github.com/tailwindcss/tailwindcss/pull/116\n   */\n\n  *,\n  ::before,\n  ::after {\n    box-sizing: border-box; /* 1 */\n    border-width: 0; /* 2 */\n    border-style: solid; /* 2 */\n    border-color: #e5e7eb; /* 2 */\n  }\n\n  /*\n   * Ensure horizontal rules are visible by default\n   */\n\n  hr {\n    border-top-width: 1px;\n  }\n\n  /**\n   * Undo the \\`border-style: none\\` reset that Normalize applies to images so that\n   * our \\`border-{width}\\` utilities have the expected effect.\n   *\n   * The Normalize reset is unnecessary for us since we default the border-width\n   * to 0 on all elements.\n   *\n   * https://github.com/tailwindcss/tailwindcss/issues/362\n   */\n\n  img {\n    border-style: solid;\n  }\n\n  textarea {\n    resize: vertical;\n  }\n\n  input::placeholder,\n  textarea::placeholder {\n    opacity: 1;\n    color: #9ca3af;\n  }\n\n  button,\n  [role=\"button\"] {\n    cursor: pointer;\n  }\n\n  table {\n    border-collapse: collapse;\n  }\n\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6 {\n    font-size: inherit;\n    font-weight: inherit;\n  }\n\n  /**\n   * Reset links to optimize for opt-in styling instead of\n   * opt-out.\n   */\n\n  a {\n    color: inherit;\n    text-decoration: inherit;\n  }\n\n  /**\n   * Reset form element properties that are easy to forget to\n   * style explicitly so you don't inadvertently introduce\n   * styles that deviate from your design system. These styles\n   * supplement a partial reset that is already applied by\n   * normalize.css.\n   */\n\n  button,\n  input,\n  optgroup,\n  select,\n  textarea {\n    padding: 0;\n    line-height: inherit;\n    color: inherit;\n  }\n\n  /**\n   * Use the configured 'mono' font family for elements that\n   * are expected to be rendered with a monospace font, falling\n   * back to the system monospace stack if there is no configured\n   * 'mono' font family.\n   */\n\n  pre,\n  code,\n  kbd,\n  samp {\n    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace;\n  }\n\n  /**\n   * Make replaced elements \\`display: block\\` by default as that's\n   * the behavior you want almost all of the time. Inspired by\n   * CSS Remedy, with \\`svg\\` added as well.\n   *\n   * https://github.com/mozdevs/cssremedy/issues/14\n   */\n\n  img,\n  svg,\n  video,\n  canvas,\n  audio,\n  iframe,\n  embed,\n  object {\n    display: block;\n    vertical-align: middle;\n    width: inherit;\n  }\n`;\n\nexport default reset;\n","import { DefaultTheme } from \"styled-components/macro\";\n\nconst typography: DefaultTheme[\"typography\"] = {\n  title1: {\n    fontSize: \"2rem\",\n    lineHeight: 1.167,\n    fontWeight: 500,\n  },\n  title2: {\n    fontSize: \"1.5rem\",\n    lineHeight: 1.25,\n    fontWeight: 700,\n  },\n  title3: {\n    fontSize: \"1.25rem\",\n    lineHeight: 1.25,\n    fontWeight: 400,\n  },\n  title4: {\n    fontSize: \"1rem\",\n    lineHeight: 1.33,\n    fontWeight: 700,\n  },\n  subtitle: {\n    fontSize: \"1rem\",\n    lineHeight: 1.5,\n    fontWeight: 700,\n  },\n  paragraph: {\n    fontSize: \"1rem\",\n    lineHeight: 1.5,\n    fontWeight: 400,\n  },\n  infoHeading: {\n    fontSize: \"1rem\",\n    lineHeight: 1.5,\n    fontWeight: 600,\n  },\n  infoSubHeading: {\n    fontSize: \"1rem\",\n    lineHeight: 1.5,\n    fontWeight: 400,\n  },\n  formLabel: {\n    fontSize: \"0.75rem\",\n    lineHeight: 1.5,\n    fontWeight: 600,\n  },\n  formInput: {\n    fontSize: \"1.5rem\",\n    lineHeight: 1.5,\n    fontWeight: 500,\n  },\n  // Form select inputs\n  selectItem: {\n    fontSize: \"1.125rem\",\n    lineHeight: 1 + 1 / 3,\n    fontWeight: 600,\n  },\n  link: {\n    fontSize: \"0.75rem\",\n    lineHeight: 2,\n    fontWeight: 700,\n  },\n  nav: {\n    fontSize: \"1rem\",\n    lineHeight: 1.25,\n    fontWeight: 400,\n  },\n  small: {\n    fontSize: \"0.875rem\",\n    lineHeight: 1.25,\n    fontWeight: 500,\n  },\n};\n\nexport const darkTheme: DefaultTheme = {\n  name: \"dark\",\n  colors: {\n    primary: \"#2B71FF\",\n    primaryDark: \"#0F5FFF\",\n    white: \"#FFFFFF\",\n    alwaysWhite: \"#FFFFFF\",\n    black: \"#060607\",\n    alwaysBlack: \"#060607\",\n    grey: \"#404040\",\n    borderGrey: \"#1A1E25\",\n    darkGrey: \"#101217\",\n    lightGrey: \"#6E7686\",\n    placeholderGrey: \"#6E7686\",\n    red: \"#FF004D\",\n    orange: \"#E7765A\",\n    green: \"#60FF66\",\n    placeholderGradient: \"linear-gradient(270deg, #232833 0%, #2F364400 93.3%)\",\n    darkSubText: \"#9EA3AC\",\n  },\n  typography,\n};\n\nexport const lightTheme: DefaultTheme = {\n  name: \"light\",\n  colors: {\n    primary: \"#2B71FF\",\n    primaryDark: \"#101217\",\n    white: \"#060607\",\n    alwaysWhite: \"#FFFFFF\",\n    black: \"#FFFFFF\",\n    alwaysBlack: \"#000000\",\n    grey: \"#404040\",\n    borderGrey: \"#DDE2ED\",\n    darkGrey: \"#F5F8FF\",\n    lightGrey: \"#6E7686\",\n    placeholderGrey: \"#E0EAFF\",\n    red: \"#FF004D\",\n    orange: \"#E7765A\",\n    green: \"#60FF66\",\n    placeholderGradient: \"linear-gradient(270deg, #E1EBFF 0%, #E1EBFF00 93.3%)\",\n    darkSubText: \"#9EA3AC\",\n  },\n  typography,\n};\n","import { Suspense } from \"react\";\nimport { HashRouter as Router, Route } from \"react-router-dom\";\n\nimport { Web3Provider } from \"@ethersproject/providers\";\nimport { Web3ReactProvider } from \"@web3-react/core\";\n\nimport { ThemeProvider } from \"styled-components/macro\";\n\nimport { useAppDispatch, useAppSelector } from \"./app/hooks\";\nimport BookmarkWarning from \"./components/BookmarkWarning/BookmarkWarning\";\nimport Page from \"./components/Page/Page\";\nimport PageLoader from \"./components/PageLoader/PageLoader\";\nimport LastLookProvider from \"./contexts/lastLook/LastLook\";\nimport {\n  disableBookmarkWarning,\n  selectUserSettings,\n} from \"./features/userSettings/userSettingsSlice\";\nimport useWindowSize from \"./helpers/useWindowSize\";\nimport \"./i18n/i18n\";\nimport GlobalStyle from \"./style/GlobalStyle\";\nimport { darkTheme, lightTheme } from \"./style/themes\";\n\nfunction getLibrary(provider: any): Web3Provider {\n  const library = new Web3Provider(provider);\n  library.pollingInterval = 12000;\n  return library;\n}\n\nconst App = (): JSX.Element => {\n  const { theme, showBookmarkWarning } = useAppSelector(selectUserSettings);\n  const { width } = useWindowSize();\n  const dispatch = useAppDispatch();\n  return (\n    <ThemeProvider theme={theme === \"dark\" ? darkTheme : lightTheme}>\n      <Web3ReactProvider getLibrary={getLibrary}>\n        <LastLookProvider>\n          {/* Suspense needed here for loading i18n resources */}\n          <Suspense fallback={<PageLoader />}>\n            <BookmarkWarning\n              hidden={width! < 480 || !showBookmarkWarning}\n              onClick={() => dispatch(disableBookmarkWarning())}\n            />\n            <Router>\n              <Route path=\"/:tokenFrom?/:tokenTo?\">\n                <Page />\n              </Route>\n            </Router>\n          </Suspense>\n        </LastLookProvider>\n      </Web3ReactProvider>\n      <GlobalStyle />\n    </ThemeProvider>\n  );\n};\n\nexport default App;\n","import { configureStore, ThunkAction, Action } from \"@reduxjs/toolkit\";\n\nimport {\n  balancesReducer,\n  allowancesReducer,\n} from \"../features/balances/balancesSlice\";\nimport metadataReducer from \"../features/metadata/metadataSlice\";\nimport { subscribeToSavedTokenChangesForLocalStoragePersisting } from \"../features/metadata/metadataSubscriber\";\nimport ordersReducer from \"../features/orders/ordersSlice\";\nimport pricingReducer from \"../features/pricing/pricingSlice\";\nimport registryReducer from \"../features/registry/registrySlice\";\nimport tradeTermsReducer from \"../features/tradeTerms/tradeTermsSlice\";\nimport transactionsReducer from \"../features/transactions/transactionsSlice\";\nimport userSettingsReducer from \"../features/userSettings/userSettingsSlice\";\nimport walletReducer from \"../features/wallet/walletSlice\";\n\nexport const store = configureStore({\n  reducer: {\n    allowances: allowancesReducer,\n    transactions: transactionsReducer,\n    balances: balancesReducer,\n    metadata: metadataReducer,\n    tradeTerms: tradeTermsReducer,\n    orders: ordersReducer,\n    pricing: pricingReducer,\n    wallet: walletReducer,\n    registry: registryReducer,\n    userSettings: userSettingsReducer,\n  },\n});\n\nsubscribeToSavedTokenChangesForLocalStoragePersisting();\n\nexport type AppDispatch = typeof store.dispatch;\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppThunk<ReturnType = void> = ThunkAction<\n  ReturnType,\n  RootState,\n  unknown,\n  Action<string>\n>;\n","import { store } from \"../../app/store\";\nimport {\n  SubmittedTransaction,\n  TransactionsState,\n} from \"../transactions/transactionsSlice\";\nimport {\n  getActiveTokensLocalStorageKey,\n  getTransactionsLocalStorageKey,\n} from \"./metadataApi\";\n\nexport const subscribeToSavedTokenChangesForLocalStoragePersisting = () => {\n  const activeTokensCache: {\n    [address: string]: {\n      [chainId: number]: string[];\n    };\n  } = {};\n  const transactionCache: {\n    [address: string]: {\n      [chainId: number]: SubmittedTransaction[];\n    };\n  } = {};\n\n  let currentChainId: number;\n  let currentTransaction: TransactionsState;\n\n  store.subscribe(() => {\n    const { wallet, metadata, transactions } = store.getState();\n    if (!wallet.connected) return;\n\n    let previousChainId = currentChainId;\n    currentChainId = wallet.chainId!;\n\n    let previousTransaction = currentTransaction;\n    currentTransaction = transactions;\n\n    if (\n      previousTransaction !== currentTransaction ||\n      previousChainId !== currentChainId\n    ) {\n      // handles change in transactions and persists all transactions to localStorage\n      // Store only the top 3 transactions\n      const txs: TransactionsState = JSON.parse(\n        localStorage.getItem(\n          getTransactionsLocalStorageKey(wallet.address!, wallet.chainId!)\n        )!\n      ) || { all: [] };\n\n      const mostRecentTransactions = transactions.all.slice(0, 3);\n\n      if (transactionCache[wallet.address!] === undefined) {\n        transactionCache[wallet.address!] = {};\n        transactionCache[wallet.address!][wallet.chainId!] = txs.all;\n      }\n      if (\n        previousChainId === currentChainId &&\n        transactions.all.length &&\n        transactionCache[wallet.address!][wallet.chainId!] !== transactions.all\n      ) {\n        transactionCache[wallet.address!][\n          wallet.chainId!\n        ] = mostRecentTransactions;\n        localStorage.setItem(\n          getTransactionsLocalStorageKey(wallet.address!, wallet.chainId!),\n          JSON.stringify({\n            all: mostRecentTransactions,\n          })\n        );\n      }\n    }\n\n    if (!activeTokensCache[wallet.address!]) {\n      activeTokensCache[wallet.address!] = {};\n    }\n    const cachedTokensForActiveWallet =\n      activeTokensCache[wallet.address!][wallet.chainId!];\n    if (\n      metadata.tokens.active.length &&\n      cachedTokensForActiveWallet !== metadata.tokens.active\n    ) {\n      // active tokens have changed, persist to local storage.\n      activeTokensCache[wallet.address!][wallet.chainId!] =\n        metadata.tokens.active;\n      localStorage.setItem(\n        getActiveTokensLocalStorageKey(wallet.address!, wallet.chainId!),\n        metadata.tokens.active.join(\",\")\n      );\n    }\n  });\n};\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { \"Service-Worker\": \"script\" },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\n\nimport App from \"./App\";\nimport { store } from \"./app/store\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}