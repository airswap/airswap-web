{"version":3,"sources":["app/hooks.ts","components/Typography/Typography.styles.tsx","components/Typography/Typography.tsx","helpers/transformHexToRgba.ts","style/sizes.ts","components/Icon/Icon.styles.tsx","components/Icon/icons/IconDarkModeSwitch.tsx","components/Icon/Icon.tsx","components/Icon/icons/IconArrowRight.tsx","components/Icon/icons/IconArrowLeft.tsx","components/IconButton/IconButton.styles.tsx","components/IconButton/IconButton.tsx","components/TextInput/TextInput.styles.tsx","components/TextInput/TextInput.tsx","components/TokenSelection/TokenSelection.styles.tsx","components/TokenSelection/filter.ts","components/TokenSelection/sort.ts","components/TokenLogo/TokenLogo.styles.tsx","features/balances/balancesApi.ts","components/TokenLogo/TokenLogo.tsx","components/TokenSelection/subcomponents/TokenImportButton/TokenImportButton.styles.tsx","components/TokenSelection/subcomponents/TokenImportButton/TokenImportButton.tsx","components/TokenSelection/subcomponents/InactiveTokensList/InactiveTokensList.tsx","helpers/stringToSignificantDecimals.ts","components/TokenSelection/subcomponents/TokenDeleteButton/TokenDeleteButton.styles.tsx","components/TokenSelection/subcomponents/TokenDeleteButton/TokenDeleteButton.tsx","components/TokenSelection/subcomponents/TokenButton/TokenButton.styles.tsx","components/TokenSelection/subcomponents/TokenButton/TokenButton.tsx","components/TokenSelection/TokenSelection.tsx","helpers/useWindowSize.ts","features/wallet/walletSlice.ts","features/balances/balancesSlice.ts","features/metadata/metadataApi.ts","features/registry/registryAPI.ts","features/registry/registrySlice.ts","features/metadata/metadataSlice.ts","components/Toasts/TransactionToast.styles.tsx","components/Toasts/TransactionToast.tsx","components/Toasts/ToastController.tsx","features/transactions/transactionActions.ts","features/orders/orderAPI.ts","features/orders/ordersSlice.ts","features/transactions/transactionsSlice.ts","components/TokenSelect/TokenSelect.styles.tsx","components/TokenSelect/TokenSelect.tsx","constants/supportedWalletProviders.ts","assets/wallet-provider-logos/metamask.svg","assets/wallet-provider-logos/walletconnect.svg","components/WalletProviderList/WalletProviderList.styles.tsx","components/WalletProviderList/WalletProviderList.tsx","components/Timer/Timer.tsx","components/SwapWidget/InfoSection.styles.tsx","components/SwapWidget/InfoSection.tsx","components/LoadingSpinner/LoadingSpinner.tsx","components/Button/Button.styles.tsx","components/Button/Button.tsx","components/SwapWidget/SwapWidget.styles.tsx","components/SwapWidget/SwapWidget.tsx","components/SwapWidget/helpers/findTokenFromAndTokenToAddress.ts","features/orders/Orders.tsx","features/userSettings/userSettingsSlice.ts","features/userSettings/helpers/getInitialThemeValue.ts","components/Content/Content.style.tsx","components/Content/Introduction.tsx","components/Content/Organization.tsx","components/Content/Products.tsx","components/WalletButton/subcomponents/WalletAddress/WalletAddress.styles.tsx","components/WalletButton/subcomponents/WalletAddress/WalletAddress.tsx","components/WalletButton/WalletButton.styles.tsx","helpers/getTimeBetweenTwoDates.ts","components/WalletButton/subcomponents/TransactionLink/TransactionLink.style.tsx","components/WalletButton/subcomponents/TransactionLink/TransactionLink.tsx","components/WalletButton/subcomponents/WalletTransactionStatus/WalletTransactionStatus.styles.tsx","components/WalletButton/subcomponents/WalletTransactionStatus/WalletTransactionStatus.tsx","components/WalletButton/subcomponents/WalletTransaction/WalletTransaction.styles.tsx","components/WalletButton/subcomponents/WalletTransaction/WalletTransaction.tsx","components/WalletButton/WalletButton.tsx","features/wallet/walletAPI.tsx","style/breakpoints.ts","components/DarkModeSwitch/DarkModeSwitch.styles.tsx","components/DarkModeSwitch/DarkModeSwitch.tsx","components/SideBar/SideBar.styles.tsx","features/wallet/Wallet.tsx","components/SideBar/SideBar.tsx","components/Toasts/Toaster.tsx","components/TradeContainer/TradeContainer.styles.tsx","components/TradeContainer/TradeContainer.tsx","components/SiteLogo/SiteLogo.styles.tsx","components/SiteLogo/SiteLogo.tsx","components/Page/Page.styles.tsx","components/Page/Page.tsx","components/PageLoader/PageLoader.tsx","i18n/i18n.ts","style/GlobalStyle.ts","style/reset.ts","style/themes.ts","App.tsx","app/store.ts","features/metadata/metadataSubscriber.ts","serviceWorker.ts","index.tsx"],"names":["useAppDispatch","useDispatch","useAppSelector","useSelector","elementMap","title1","title2","title3","title4","subtitle","paragraph","infoHeading","infoSubHeading","formLabel","formInput","selectItem","link","nav","small","makeTypographyComponent","key","additionalCSS","tag","styled","props","theme","typography","fontSize","fontWeight","lineHeight","StyledH1","css","name","colors","white","alwaysBlack","StyledH2","primary","StyledH3","StyledH4","StyledParagraph","grey","StyledInfoHeading","StyledInfoSubHeading","lightGrey","StyledFormLabel","StyledFormInput","placeholderGrey","StyledSelectItem","StyledMetadata","titles","h1","h2","h3","h4","Title","className","children","type","StyledTitle","convertHexToRGBA","hexCode","opacity","hex","replace","length","r","parseInt","substring","g","b","sizes","StyledIcon","div","iconSize","color","IconDarkModeSwitch","fill","viewBox","d","strokeWidth","strokeLinecap","strokeLinejoin","icons","transform-origin","transform","MdKeyboardArrowDown","IoMdInformationCircleOutline","HiX","BiCheck","MdAccessTime","MdOpenInNew","Icon","IconComponent","StyledIconButton","button","hasText","IconButton","text","icon","onClick","FormLabel","StyledInput","FormInput","StyledTextInput","hideLabel","disabled","TextInput","label","hasError","inputProps","aria-label","ScrollContainer","black","ContentContainer","CloseButton","borderGrey","Container","isHidden","overflow","TitleContainer","SearchInput","TokenContainer","Legend","LegendItem","LegendDivider","InactiveTitleContainer","InactiveTitle","InformationIcon","NoResultsContainer","filterTokens","tokens","search","filter","ethers","utils","isAddress","t","address","toLowerCase","lowerSearchParts","split","s","matchesSearch","sParts","every","p","some","sp","startsWith","endsWith","symbol","Boolean","createTokenFilterFunction","getTokenBalance","token","balances","values","parseFloat","formatUnits","decimals","sortTokenByExactMatch","filteredTokens","tokenQuery","symbolMatch","exactMatches","symbolSubtrings","remainder","forEach","push","trim","subscribeToTransfersAndApprovals","remSizes","medium","large","StyledTokenLogo","size","tokenInfo","logoURI","TokenLogo","rest","TextContainer","Symbol","TokenName","UnsupportedTokenText","span","Metadata","ImportButton","TokenImportButton","isUnsupported","useTranslation","InactiveTokensList","supportedTokenAddresses","inactiveTokens","onTokenClick","map","includes","stringToSignificantDecimals","input","sigDecimals","indexOf","beforeDecimalPoint","afterDecimalPoint","trimmedDecimals","match","slice","sigDecimalsRemaining","i","inLeadingZeroes","currentDigit","Text","TokenDeleteButton","TokenNameContainer","Balance","TokenButton","balance","setToken","removeActiveToken","e","stopPropagation","TokenSelection","onClose","signerToken","senderToken","setSignerToken","setSenderToken","tokenSelectType","allTokens","activeTokens","addActiveToken","chainId","useState","width","undefined","height","windowSize","setWindowSize","useEffect","handleResize","window","innerWidth","innerHeight","addEventListener","removeEventListener","useWindowSize","containerRef","useRef","scrollContainerRef","setOverflow","setTokenQuery","handleClick","sortedTokens","useMemo","sort","a","aBalance","bBalance","toLocaleLowerCase","sortTokensBySymbolAndBalance","Object","sortedFilteredTokens","sortedInactiveTokens","el","current","offsetTop","scrollHeight","offsetHeight","ref","id","value","placeholder","onChange","currentTarget","tokenAddress","initialState","connected","providerName","walletSlice","createSlice","reducers","setWalletConnected","state","action","payload","setWalletDisconnected","setActiveProvider","selectWallet","wallet","actions","balancesInterface","Interface","JSON","stringify","BalanceChecker","abi","erc20Interface","erc20Abi","getContract","provider","Contract","balancesDeploys","fetchBalancesOrAllowances","method","tokenAddresses","walletAddress","contract","args","Light","getAddress","apply","amounts","amount","toString","fetchBalances","bind","fetchAllowances","activeTokenAddresses","onBalanceChange","spenderAddress","onApproval","filters","out","topics","hexZeroPad","in","tearDowns","keys","direction","typedDirection","listener","event","lowerCasedAddress","parsedEvent","parseLog","isApproval","on","off","fn","status","lastFetch","inFlightFetchTokens","getSetInFlightRequestTokensAction","createAction","getThunk","methods","allowances","createAsyncThunk","params","getState","dispatch","activeTokensAddresses","metadata","active","console","error","message","condition","sliceState","getSlice","asyncThunk","incrementBy","currentAmount","BigNumber","from","add","decrementBy","newAmount","sub","lt","set","extraReducers","builder","addCase","pending","fulfilled","Date","now","tokenBalances","result","rejected","selectBalances","selectAllowances","requestActiveTokenBalances","requestActiveTokenAllowances","balancesSlice","allowancesSlice","incrementBalanceBy","decrementBalanceBy","setAllowance","allowancesActions","balancesReducer","reducer","allowancesReducer","getActiveTokensLocalStorageKey","account","getActiveTokensFromLocalStorage","savedTokens","localStorage","getItem","getTransactionsLocalStorageKey","RegistryInterface","RegistryContract","getStakerTokens","registryContract","registryDeploys","addTokensEventFilter","AddTokens","removeTokensEventFilter","RemoveTokens","Promise","all","queryFilter","addEvents","removeEvents","sortedEvents","log","removed","blockNumber","logIndex","stakerTokens","staker","lowerCasedTokens","concat","allSupportedTokens","fetchSupportedTokens","uniqBy","flat","activeTokensLocalStorage","registrySlice","setStakerTokens","setAllSupportedTokens","reset","selectAllSupportedTokens","registry","fetchAllTokens","unused","thunkApi","fetchTokens","metadataSlice","lowerCasedToken","reduce","selectAllTokenInfo","selectActiveTokens","createSelector","allTokenInfo","darkGrey","IconContainer","HiXContainer","TransactionToast","transaction","approvalToken","style","senderAmount","Number","order","toFixed","signerAmount","cursor","notifyTransaction","tx","findTokenByAddress","toast","dismiss","duration","submitTransaction","declineTransaction","mineTransaction","revertTransaction","requestOrder","senderTokenDecimals","senderWallet","Registry","getServers","servers","Error","orderPromises","server","race","getSignerSideOrder","toAtomicString","resolve","reject","setTimeout","allSettled","orders","successfulOrders","approveToken","spender","network","ERC20","approve","getSigner","approvalTxHash","takeOrder","swap","orderSortingFunction","expiry","aAmount","gt","request","library","hash","timestamp","once","getTransactionReceipt","receipt","transactionHash","take","ordersSlice","clear","selectBestOrder","selectOrdersStatus","updateTransaction","transactionsSlice","setTransactions","err","unshift","selectTransactions","transactions","selectPendingApprovals","FlexRow","AmountAndDetailsContainer","InputAndMaxButtonWrapper","MaxButton","TokenSelectContainer","alwaysWhite","fadeOutWhenInvisible","invisible","StyledLabel","StyledSelectButtonContent","emphasize","StyledDownArrow","StyledSelectButton","SelectItem","AmountInput","hasSubtext","AmountSubtext","PlaceholderContainer","PlaceholderTop","placeholderGradient","PlaceholderBottom","TokenSelect","readOnly","includeAmountInput","selectedToken","onChangeTokenClicked","onMaxClicked","onAmountChange","amountDetails","inputMode","autoComplete","pattern","minLength","maxLength","spellCheck","SUPPORTED_WALLET_PROVIDERS","logo","getConnector","InjectedConnector","supportedChainIds","WalletConnectConnector","rpc","1","4","StyledWalletProviderList","StyledButton","ButtonIconContainer","ButtonIcon","img","ButtonText","WalletProviderList","onProviderSelected","src","alt","Timer","expiryTime","onTimerComplete","Math","floor","distance","setDistance","interval","setInterval","dist","clearInterval","StyledInvertPriceButton","StyledInvertPriceIcon","IoMdSwap","TimerContainer","NewQuoteText","TimerText","InfoSection","isConnected","isPairUnavailable","orderSubmitted","isApproving","isSwapping","isFetchingOrders","requiresApproval","senderTokenInfo","signerTokenInfo","timerExpiry","invertPrice","setInvertPrice","price","dividedBy","LoadingSpinnerContainer","spin","keyframes","SpinningIcon","AiOutlineLoading","LoadingSpinner","justifyContent","intent","red","green","getButtonBackground","loading","Button","Header","BackButton","SubmitButton","InfoContainer","ButtonContainer","SwapIconContainer","HugeTicks","MdDoneAll","Placeholder","StyledSwapWidget","floatRegExp","RegExp","SwapWidget","setSenderAmount","showWalletList","setShowWalletList","showTokenSelection","setShowTokenSelection","setIsApproving","setIsSwapping","isConnecting","setIsConnecting","pairUnavailable","setPairUnavailable","showOrderSubmitted","setShowOrderSubmitted","setTokenSelectType","history","useHistory","useRouteMatch","tokenFrom","tokenTo","ordersStatus","supportedTokens","useWeb3React","activate","pendingApprovals","fromSymbol","toSymbol","fromAddress","toAddress","fromToken","toToken","findTokensBySymbol","findTokenFromAndTokenToAddress","getTokenDecimals","hasSufficientAllowance","handleTokenAmountChange","test","handleSetToken","pathname","DisplayedButtons","context","isNaN","unwrapResult","code","tokenId","decimalsFound","insufficientBalance","signerDecimals","toDecimalString","parsedSenderAmount","senderDecimals","parseUnits","fee","isOpen","onRequestClose","overlayClassName","finally","Orders","THEME_LOCAL_STORAGE_KEY","userSettingsSlice","toggleTheme","selectUserSettings","userSettings","Link","Introduction","href","Organization","Products","StyledWalletAddress","BlockiesContainer","StyledBlockies","Blockies","GreenCircle","WalletAddress","isButton","showBlockies","renderContent","scale","seed","bgColor","truncateEthAddress","OpenWallet","OpenWalletTopContainer","InfoHeading","NoTransactions","ExitButton","TransactionContainer","flex","DisconnectButton","MS_PER_HOUR","MS_PER_DAY","MS_PER_MONTH","MS_PER_YEAR","getTimeBetweenTwoDates","date","currentDate","timeDiff","getTime","minutes","hours","days","months","years","TransactionLink","target","rel","getEtherscanURL","SucceedIcon","ProcessingIcon","FailedIcon","WalletTransactionStatus","StyledWalletTransactionStatus","SpanTitle","SpanSubtitle","StyledTransactionLink","WalletTransaction","time","WalletButton","onDisconnectWalletClicked","onConnectWalletClicked","walletOpen","setWalletOpen","LAST_ACCOUNT_LOCAL_STORAGE_KEY","breakPoints","tinyScreenOnly","phoneOnly","tabletPortraitUp","tabletLandscapeUp","desktopUp","bigDesktopUp","StyledDarkModeSwitch","DarkModeSwitch","StyledWallet","deactivate","showConnectorList","setShowConnectorList","isActivating","setIsActivating","connector","setConnector","setProvider","lastConnectedAccount","storedString","find","loadLastAccount","setItem","saveLastAccount","teardownTransferListener","walletHasChanged","transactionsLocalStorage","parse","reason","getTransaction","wait","assumedFailureTime","res","close","StyledSideBar","ToggleButton","Navigation","StyledNavButton","motion","content","introduction","Information","products","organization","SideBar","setIsOpen","activeNavButton","setActiveNavButton","AnimatePresence","exitBeforeEnter","initial","x","animate","exit","transition","ease","display","ToasterWrapper","DEFAULT_INSET_RIGHT","Toaster","sideBarOpen","position","containerStyle","right","toastOptions","padding","margin","borderRadius","StyledTradeContainer","process","TradeContainer","StyledSiteLogo","svg","SiteLogo","fillRule","clipRule","StyledPage","Page","setSideBarOpen","PageLoader","sideBarIsOpen","location","i18n","use","HttpBackend","LanguageDetector","initReactI18next","init","fallbackLng","ns","load","debug","interpolation","escapeValue","react","useSuspense","backend","loadPath","GlobalStyle","createGlobalStyle","darkTheme","primaryDark","orange","lightTheme","getLibrary","Web3Provider","pollingInterval","App","fallback","path","store","configureStore","transactionsReducer","metadataReducer","ordersReducer","walletReducer","registryReducer","userSettingsReducer","currentChainId","currentTransaction","activeTokensCache","transactionCache","subscribe","previousChainId","txs","mostRecentTransactions","cachedTokensForActiveWallet","join","subscribeToSavedTokenChangesForLocalStoragePersisting","hostname","Modal","setAppElement","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.c7b0e826.chunk.js","sourcesContent":["import { TypedUseSelectorHook, useDispatch, useSelector } from \"react-redux\";\n\nimport type { RootState, AppDispatch } from \"./store\";\n\n// Use throughout your app instead of plain `useDispatch` and `useSelector`\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\n","import styled, {\n  DefaultTheme,\n  ThemedStyledFunction,\n  css,\n} from \"styled-components/macro\";\n\nconst elementMap: Record<\n  keyof DefaultTheme[\"typography\"],\n  keyof JSX.IntrinsicElements\n> = {\n  title1: \"h1\",\n  title2: \"h2\",\n  title3: \"h3\",\n  title4: \"h4\",\n  subtitle: \"h5\",\n  paragraph: \"p\",\n  infoHeading: \"h4\",\n  infoSubHeading: \"h4\",\n  formLabel: \"label\",\n  formInput: \"input\",\n  selectItem: \"div\",\n  link: \"a\",\n  nav: \"div\",\n  small: \"aside\",\n};\n\n/**\n * Creates a styled typography component for the key in `theme.typography`.\n * Element tag is defined above, and additional CSS can be added for properties\n * that are not common to all typography components.\n * @param key The key from `theme.typography` for typography params\n * @param additionalCSS Any additional CSS not included in `theme.typography.key`\n *                      to add, e.g. text-transform. Use `css` utility from\n *                      styled components to add it.\n * @returns A styled component with the correct typography styles appleid.\n */\nconst makeTypographyComponent = (\n  key: keyof DefaultTheme[\"typography\"],\n  additionalCSS?: any\n) => {\n  const tag = elementMap[key];\n  const Component = (styled[tag] as ThemedStyledFunction<\n    typeof tag,\n    DefaultTheme,\n    {},\n    never\n  >)`\n    font-size: ${(props) => props.theme.typography[key].fontSize};\n    font-weight: ${(props) => props.theme.typography[key].fontWeight};\n    line-height: ${(props) => props.theme.typography[key].lineHeight};\n    ${additionalCSS ? additionalCSS : \"\"}\n  `;\n  return Component;\n};\n\nexport const StyledH1 = makeTypographyComponent(\n  \"title1\",\n  css`\n    color: ${(props) =>\n      props.theme.name === \"dark\"\n        ? props.theme.colors.white\n        : props.theme.colors.alwaysBlack};\n  `\n);\nexport const StyledH2 = makeTypographyComponent(\n  \"title2\",\n  css`\n    color: ${(props) =>\n      props.theme.name === \"dark\"\n        ? props.theme.colors.white\n        : props.theme.colors.primary};\n  `\n);\nexport const StyledH3 = makeTypographyComponent(\"title3\");\nexport const StyledH4 = makeTypographyComponent(\"title4\");\nexport const StyledSubtitle = makeTypographyComponent(\n  \"subtitle\",\n  css`\n    text-transform: uppercase;\n  `\n);\nexport const StyledParagraph = makeTypographyComponent(\n  \"paragraph\",\n  css`\n    color: ${(props) =>\n      props.theme.name === \"dark\"\n        ? props.theme.colors.white\n        : props.theme.colors.grey};\n  `\n);\nexport const StyledLink = makeTypographyComponent(\n  \"link\",\n  css`\n    text-transform: uppercase;\n    text-decoration: underline;\n  `\n);\nexport const StyledNavigation = makeTypographyComponent(\"nav\");\nexport const StyledInfoHeading = makeTypographyComponent(\"infoHeading\");\nexport const StyledInfoSubHeading = makeTypographyComponent(\n  \"infoSubHeading\",\n  css`\n    color: ${(props) => props.theme.colors.lightGrey};\n  `\n);\nexport const StyledFormLabel = makeTypographyComponent(\n  \"formLabel\",\n  css`\n    color: ${(props) => props.theme.colors.lightGrey};\n  `\n);\nexport const StyledFormInput = makeTypographyComponent(\n  \"formInput\",\n  css`\n    color: ${(props) =>\n      props.theme.name === \"dark\"\n        ? props.theme.colors.white\n        : props.theme.colors.primary};\n    background-color: transparent;\n    border: none;\n    &::placeholder {\n      color: ${(props) => props.theme.colors.placeholderGrey};\n    }\n  `\n);\nexport const StyledSelectItem = makeTypographyComponent(\"selectItem\");\nexport const StyledMetadata = makeTypographyComponent(\n  \"small\",\n  css`\n    color: ${(props) => props.theme.colors.lightGrey};\n  `\n);\n","import React, { FC, ReactElement } from \"react\";\n\nimport { StyledH1, StyledH2, StyledH3, StyledH4 } from \"./Typography.styles\";\n\ntype TitleType = \"h1\" | \"h2\" | \"h3\" | \"h4\";\n\nexport type TitleProps = {\n  children: React.ReactNode;\n  className?: string;\n  type: TitleType;\n};\n\nconst titles: Record<TitleType, FC<{ className?: string }>> = {\n  h1: StyledH1,\n  h2: StyledH2,\n  h3: StyledH3,\n  h4: StyledH4,\n};\n\nexport const Title: FC<TitleProps> = ({\n  className,\n  children,\n  type,\n}): ReactElement => {\n  const StyledTitle = titles[type];\n\n  return <StyledTitle className={className}>{children}</StyledTitle>;\n};\n\nexport {\n  StyledSubtitle as Subtitle,\n  StyledParagraph as Paragraph,\n  StyledInfoHeading as InfoHeading,\n  StyledInfoSubHeading as InfoSubHeading,\n  StyledFormLabel as FormLabel,\n  StyledFormInput as FormInput,\n  StyledSelectItem as SelectItem,\n  StyledLink as Link,\n  StyledNavigation as Navigation,\n  StyledMetadata as Metadata,\n} from \"./Typography.styles\";\n","export default function convertHexToRGBA(hexCode: string, opacity: number) {\n  let hex = hexCode.replace(\"#\", \"\");\n\n  if (hex.length === 3) {\n    hex = `${hex[0]}${hex[0]}${hex[1]}${hex[1]}${hex[2]}${hex[2]}`;\n  }\n\n  const r = parseInt(hex.substring(0, 2), 16);\n  const g = parseInt(hex.substring(2, 4), 16);\n  const b = parseInt(hex.substring(4, 6), 16);\n\n  return `rgba(${r},${g},${b},${opacity})`;\n}\n","export const sizes = {\n  sideBarWidth: \"28rem\",\n  tradeContainerPadding: \"1.875rem\",\n};\n","import styled from \"styled-components/macro\";\n\ninterface StyledIconProps {\n  iconSize: number;\n}\n\nexport const StyledIcon = styled.div<StyledIconProps>`\n  svg {\n    width: ${(props) => `${props.iconSize}rem`};\n    height: ${(props) => `${props.iconSize}rem`};\n  }\n\n  circle,\n  path,\n  polygon,\n  rect {\n    fill: ${(props) => props.color || \"currentColor\"};\n  }\n\n  .stroke {\n    fill: none;\n    stroke: ${(props) => props.color || \"currentColor\"};\n  }\n`;\n","import React, { FC, ReactElement } from \"react\";\n\nimport { SvgIconProps } from \"../Icon\";\n\nconst IconDarkModeSwitch: FC<SvgIconProps> = ({\n  className = \"\",\n}): ReactElement => (\n  <svg fill=\"none\" viewBox=\"0 0 26 26\" className={className}>\n    <path\n      className=\"stroke\"\n      d=\"M12.9946 18.4559C16.0076 18.4559 18.4501 16.0134 18.4501 13.0005C18.4501 9.98761 16.0076 7.54517 12.9946 7.54517C9.98158 7.54517 7.53906 9.98761 7.53906 13.0005C7.53906 16.0134 9.98158 18.4559 12.9946 18.4559Z\"\n      strokeWidth=\"1.5\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n    <path\n      className=\"stroke\"\n      d=\"M13 1V3.18214\"\n      strokeWidth=\"1.5\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n    <path\n      className=\"stroke\"\n      d=\"M13 22.822V25.0042\"\n      strokeWidth=\"1.5\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n    <path\n      className=\"stroke\"\n      d=\"M4.51562 4.51343L6.06506 6.06274\"\n      strokeWidth=\"1.5\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n    <path\n      className=\"stroke\"\n      d=\"M19.9375 19.9404L21.4869 21.4897\"\n      strokeWidth=\"1.5\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n    <path\n      className=\"stroke\"\n      d=\"M1 13.0024H3.18222\"\n      strokeWidth=\"1.5\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n    <path\n      className=\"stroke\"\n      d=\"M22.8203 13.0024H25.0025\"\n      strokeWidth=\"1.5\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n    <path\n      className=\"stroke\"\n      d=\"M4.51562 21.4897L6.06506 19.9404\"\n      strokeWidth=\"1.5\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n    <path\n      className=\"stroke\"\n      d=\"M19.9375 6.06274L21.4869 4.51343\"\n      strokeWidth=\"1.5\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n    <path d=\"M13 19.003V7.60107L17.0507 9.02632L18.4009 13.302L16.3756 17.5778L13 19.003Z\" />\n  </svg>\n);\n\nexport default IconDarkModeSwitch;\n","import React, { FC, ReactElement } from \"react\";\nimport { BiCheck } from \"react-icons/bi\";\nimport { HiX } from \"react-icons/hi\";\nimport { IoMdInformationCircleOutline } from \"react-icons/io\";\nimport { MdKeyboardArrowDown, MdAccessTime, MdOpenInNew } from \"react-icons/md\";\n\nimport { StyledIcon } from \"./Icon.styles\";\nimport { IconArrowLeft, IconArrowRight, IconDarkModeSwitch } from \"./icons\";\n\ntype IconSet = {\n  [key: string]: FC<SvgIconProps>;\n};\n\nexport interface SvgIconProps {\n  className?: string;\n  iconSize?: number;\n  color?: string;\n}\n\nexport const icons: IconSet = {\n  \"arrow-right\": IconArrowRight,\n  \"arrow-left\": IconArrowLeft,\n  \"chevron-down\": MdKeyboardArrowDown,\n  \"dark-mode-switch\": IconDarkModeSwitch,\n  \"information-circle-outline\": IoMdInformationCircleOutline,\n  \"exit-modal\": HiX,\n  \"transaction-completed\": BiCheck,\n  \"transaction-failed\": HiX,\n  \"transaction-pending\": MdAccessTime,\n  \"transaction-link\": MdOpenInNew,\n};\n\ninterface IconProps extends SvgIconProps {\n  name: keyof typeof icons;\n}\n\nconst Icon: FC<IconProps> = ({\n  name,\n  iconSize = 1,\n  className = \"\",\n}): ReactElement | null => {\n  const IconComponent = icons[name];\n\n  return IconComponent ? (\n    <StyledIcon iconSize={iconSize} className={className}>\n      <IconComponent />\n    </StyledIcon>\n  ) : null;\n};\n\nexport default Icon;\n","import React, { FC, ReactElement } from \"react\";\n\nimport { SvgIconProps } from \"../Icon\";\n\nconst IconArrowRight: FC<SvgIconProps> = ({ className = \"\" }): ReactElement => (\n  <svg fill=\"none\" viewBox=\"0 0 12 20\" className={className}>\n    <path\n      className=\"stroke\"\n      d=\"M2 18L10 10L2 2\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"square\"\n    />\n  </svg>\n);\n\nexport default IconArrowRight;\n","import React, { FC, ReactElement } from \"react\";\n\nimport { SvgIconProps } from \"../Icon\";\n\nconst IconArrowLeft: FC<SvgIconProps> = ({ className = \"\" }): ReactElement => (\n  <svg fill=\"none\" viewBox=\"0 0 12 20\" className={className}>\n    <path\n      className=\"stroke\"\n      d=\"M2 18L10 10L2 2\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"square\"\n      transform-origin=\"center\"\n      transform=\"scale(-1, 1)\"\n    />\n  </svg>\n);\n\nexport default IconArrowLeft;\n","import styled from \"styled-components/macro\";\n\nimport Icon from \"../Icon/Icon\";\n\ninterface StyledIconButtonProps {\n  hasText: boolean;\n}\n\nexport const StyledIcon = styled(Icon)``;\n\nexport const StyledIconButton = styled.button<StyledIconButtonProps>`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n  padding: 1rem;\n  font-weight: 600;\n\n  ${StyledIcon} {\n    svg {\n      margin-left: ${(props) => (props.hasText ? \"0.5rem\" : 0)};\n    }\n  }\n`;\n","import React, { FC, ReactElement } from \"react\";\n\nimport { icons } from \"../Icon/Icon\";\nimport { StyledIcon, StyledIconButton } from \"./IconButton.styles\";\n\nexport type IconButtonProps = {\n  text?: string;\n  icon: keyof typeof icons;\n  iconSize?: number;\n  onClick?: () => void;\n  className?: string;\n};\n\nconst IconButton: FC<IconButtonProps> = ({\n  text,\n  icon,\n  iconSize,\n  className,\n  onClick,\n}): ReactElement => {\n  return (\n    <StyledIconButton hasText={!!text} className={className} onClick={onClick}>\n      {text}\n      <StyledIcon name={icon} iconSize={iconSize} />\n    </StyledIconButton>\n  );\n};\n\nexport default IconButton;\n","import React from \"react\";\n\nimport styled from \"styled-components/macro\";\n\nimport { FormInput, FormLabel } from \"../Typography/Typography\";\n\ntype TextInputStyleProps = {\n  hideLabel?: boolean;\n  hasError?: boolean;\n  disabled?: boolean;\n};\n\ntype StyledInputProps = Pick<\n  React.HTMLProps<HTMLInputElement>,\n  \"type\" | \"disabled\"\n>;\n\nexport const StyledFormLabel = styled(FormLabel)``;\n\nexport const StyledInput = styled(FormInput)<StyledInputProps>``;\n\nexport const StyledTextInput = styled.div<TextInputStyleProps>`\n  ${StyledFormLabel} {\n    display: ${(props) => (props.hideLabel ? \"none\" : \"block\")};\n    width: 100%;\n    background: none;\n  }\n\n  ${StyledInput} {\n    position: relative;\n    border: 0;\n    width: 100%;\n    padding: 0;\n    opacity: ${(props) => (props.disabled ? 0.5 : 1)};\n    background: none;\n\n    &::placeholder {\n      color: ${(props) => props.theme.colors.lightGrey};\n    }\n\n    &:focus {\n      outline: 0;\n    }\n  }\n`;\n","import React, { FC, ReactElement } from \"react\";\n\nimport {\n  StyledFormLabel,\n  StyledInput,\n  StyledTextInput,\n} from \"./TextInput.styles\";\n\ntype HTMLInputProps = Omit<React.HTMLProps<HTMLInputElement>, \"ref\" | \"as\">;\n\nexport type TextInputProps = {\n  label: string;\n  type?: string;\n  hasError?: boolean;\n  hideLabel?: boolean;\n} & HTMLInputProps;\n\nconst TextInput: FC<TextInputProps> = ({\n  label,\n  type = \"text\",\n  className,\n  hasError,\n  hideLabel,\n  disabled,\n  ...inputProps\n}): ReactElement => {\n  return (\n    <StyledTextInput\n      hasError={hasError}\n      hideLabel={hideLabel}\n      aria-label={label}\n      disabled={disabled}\n      className={className}\n    >\n      <StyledFormLabel>{label}</StyledFormLabel>\n      <StyledInput {...inputProps} disabled={disabled} type={type} />\n    </StyledTextInput>\n  );\n};\n\nexport default TextInput;\n","import styled from \"styled-components/macro\";\n\nimport convertHexToRGBA from \"../../helpers/transformHexToRgba\";\nimport { sizes } from \"../../style/sizes\";\nimport Icon from \"../Icon/Icon\";\nimport IconButton from \"../IconButton/IconButton\";\nimport TextInput from \"../TextInput/TextInput\";\nimport { StyledInput } from \"../TextInput/TextInput.styles\";\nimport { Title } from \"../Typography/Typography\";\n\ntype ContainerProps = {\n  overflow: boolean;\n  isHidden: boolean;\n};\n\nexport const ScrollContainer = styled.div`\n  flex-grow: 99;\n  height: 100%;\n  max-height: calc(100% - 3.75rem);\n  padding-bottom: ${sizes.tradeContainerPadding};\n\n  &::-webkit-scrollbar {\n    width: 0.5rem;\n    background: ${(props) => props.theme.colors.black};\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background: ${(props) => props.theme.colors.white};\n    border-radius: 0.5rem;\n  }\n`;\n\nexport const ContentContainer = styled.div`\n  position: relative;\n  height: calc(100% - 5.625rem);\n  padding: 0 ${sizes.tradeContainerPadding};\n  background-color: ${(props) => props.theme.colors.black};\n`;\n\nexport const CloseButton = styled(IconButton)`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 1.5rem;\n  height: 1.5rem;\n  padding: 0;\n  border: 1px solid ${(props) => props.theme.colors.borderGrey};\n\n  &:hover {\n    border-color: ${(props) => convertHexToRGBA(props.theme.colors.white, 0.5)};\n  }\n`;\n\nexport const Container = styled.div<ContainerProps>`\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  pointer-events: ${(props) => (props.isHidden ? \"none\" : \"visible\")};\n\n  ${ScrollContainer} {\n    width: calc(100% + (${sizes.tradeContainerPadding} / 2));\n    padding-right: calc(${sizes.tradeContainerPadding} / 2);\n    overflow-x: hidden;\n    overflow-y: ${(props) => (props.overflow ? \"scroll\" : \"hidden\")};\n  }\n  \n  ${ContentContainer} {\n    transition: transform ${(props) =>\n      props.isHidden\n        ? \"0.25s ease-in\"\n        : \"0.35s cubic-bezier(0.12, 0.71, 0.36, 1)\"};\n    transform: translateY(${(props) => (props.isHidden ? \"100%\" : \"0%\")});\n\n    @media (prefers-reduced-motion: reduce) {\n      transition: none;\n    }\n  }\n  \n  ${CloseButton} {\n    transition: transform ${(props) =>\n      props.isHidden\n        ? \"0.25s ease-in\"\n        : \"0.75s cubic-bezier(0.12, 0.71, 0.36, 1)\"};\n    transform: translateY(${(props) => (props.isHidden ? \"-5rem\" : \"0%\")});\n\n    @media (prefers-reduced-motion: reduce) {\n      transition: none;\n    }\n  }\n}\n`;\n\nexport const TitleContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  margin-bottom: 1.875rem;\n  padding: ${sizes.tradeContainerPadding} ${sizes.tradeContainerPadding} 0;\n`;\n\nexport const StyledTitle = styled(Title)`\n  visibility: hidden;\n`;\n\nexport const StyledLabel = styled.label`\n  font-size: 1rem;\n`;\n\nexport const SearchInput = styled(TextInput)`\n  margin-bottom: 1.25rem;\n  width: 100%;\n  background-color: ${(props) => props.theme.colors.black};\n\n  ${StyledInput} {\n    border: 1px solid ${(props) => props.theme.colors.borderGrey};\n    border-radius: 2px;\n    line-height: 2.25;\n    padding: 0.25rem 0.625rem;\n    font-size: 0.875rem;\n    background: transparent;\n    color: #9e9e9e;\n\n    &:focus {\n      outline: none;\n      border: 1px solid ${(props) => props.theme.colors.primary};\n    }\n  }\n`;\n\nexport const TokenContainer = styled.div``;\n\nexport const Legend = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 0.75rem;\n  min-height: 1.5rem;\n`;\n\nexport const LegendItem = styled.div`\n  text-transform: uppercase;\n  font-weight: 700;\n  font-size: 0.625rem;\n  color: ${(props) => props.theme.colors.lightGrey};\n`;\n\nexport const LegendDivider = styled.div`\n  margin: 0 1rem;\n  width: 100%;\n  height: 1px;\n  background: ${(props) => props.theme.colors.borderGrey};\n`;\n\nexport const InactiveTitleContainer = styled.div`\n  border: 1px solid ${(props) => props.theme.colors.borderGrey};\n  border-radius: 2px;\n  background: transparent;\n  color: #9e9e9e;\n  padding: 1rem;\n  font-size: 0.75rem;\n  margin: 1rem 0;\n`;\n\nexport const InactiveTitle = styled.h3`\n  display: flex;\n  font-size: 0.75rem;\n`;\n\nexport const InformationIcon = styled(Icon)`\n  display: inline;\n  margin-left: 0.25rem;\n`;\n\nexport const NoResultsContainer = styled.div`\n  text-align: center;\n`;\n","import { TokenInfo } from \"@uniswap/token-lists\";\n\nimport { ethers } from \"ethers\";\n\n/**\n * Create a filter function to apply to a token for whether it matches a particular search query\n * @param search the search query to apply to the token\n */\nexport function createTokenFilterFunction<T extends TokenInfo>(\n  search: string\n): (tokens: T) => boolean {\n  const searchingAddress = ethers.utils.isAddress(search);\n\n  if (searchingAddress) {\n    return (t: T) => t.address.toLowerCase() === search.toLowerCase();\n  }\n\n  const lowerSearchParts = search\n    .toLowerCase()\n    .split(/\\s+/)\n    .filter((s) => s.length > 0);\n\n  if (lowerSearchParts.length === 0) return () => true;\n\n  const matchesSearch = (s: string): boolean => {\n    const sParts = s\n      .toLowerCase()\n      .split(/\\s+/)\n      .filter((s) => s.length > 0);\n\n    return lowerSearchParts.every(\n      (p) =>\n        p.length === 0 ||\n        sParts.some((sp) => sp.startsWith(p) || sp.endsWith(p))\n    );\n  };\n\n  return ({ name, symbol }: T): boolean =>\n    Boolean((symbol && matchesSearch(symbol)) || (name && matchesSearch(name)));\n}\n\nexport function filterTokens<T extends TokenInfo>(\n  tokens: T[],\n  search: string\n): T[] {\n  return tokens.filter(createTokenFilterFunction(search));\n}\n","import { formatUnits } from \"@ethersproject/units\";\nimport { TokenInfo } from \"@uniswap/token-lists\";\n\nimport { BalancesState } from \"../../features/balances/balancesSlice\";\n\nexport function sortTokensByBalance(\n  tokens: TokenInfo[],\n  balances: BalancesState\n) {\n  return tokens.sort((a, b) =>\n    parseFloat(formatUnits(balances.values[a.address]!, a.decimals)) <\n    parseFloat(formatUnits(balances.values[b.address]!, b.decimals))\n      ? 1\n      : parseFloat(formatUnits(balances.values[a.address]!, a.decimals)) ===\n        parseFloat(formatUnits(balances.values[b.address]!, b.decimals))\n      ? a.symbol > b.symbol\n        ? 1\n        : -1\n      : -1\n  );\n}\n\nexport function sortTokensBySymbol(tokens: TokenInfo[]) {\n  return tokens.sort((a, b) =>\n    a.symbol.toLocaleLowerCase() < b.symbol.toLocaleLowerCase() ? -1 : 1\n  );\n}\n\nfunction getTokenBalance(token: TokenInfo, balances: BalancesState): number {\n  const balance = balances.values[token.address];\n\n  if (!balance) {\n    return 0;\n  }\n\n  return parseFloat(\n    formatUnits(balances.values[token.address]!, token.decimals)\n  );\n}\n\nexport function sortTokensBySymbolAndBalance(\n  tokens: TokenInfo[],\n  balances: BalancesState\n) {\n  return tokens.sort((a, b) => {\n    const aBalance = getTokenBalance(a, balances);\n    const bBalance = getTokenBalance(b, balances);\n\n    if (aBalance === 0 && bBalance !== 0) {\n      return 1;\n    } else if (bBalance === 0 && aBalance !== 0) {\n      return -1;\n    }\n\n    return a.symbol.toLocaleLowerCase() < b.symbol.toLocaleLowerCase() ? -1 : 1;\n  });\n}\n\nexport function sortTokenByExactMatch(\n  filteredTokens: TokenInfo[],\n  tokenQuery: string\n) {\n  if (!filteredTokens.length) return [];\n  if (!tokenQuery || tokenQuery === \"\") return filteredTokens;\n\n  // split query into word array\n  const symbolMatch = tokenQuery\n    .toLowerCase()\n    .split(/\\s+/)\n    .filter((s) => s.length > 0);\n\n  // don't filter against symbol if query is multiple words\n  if (symbolMatch.length > 1) return filteredTokens;\n\n  // filter based off symbol match -> substring match -> remainder of filtered tokens\n  const exactMatches: TokenInfo[] = [];\n  const symbolSubtrings: TokenInfo[] = [];\n  const remainder: TokenInfo[] = [];\n\n  filteredTokens.forEach((token) => {\n    // add exact matches\n    if (token.symbol?.toLowerCase() === symbolMatch[0]) {\n      return exactMatches.push(token);\n    }\n    // add matches with starting values\n    else if (\n      token.symbol?.toLowerCase().startsWith(tokenQuery.toLowerCase().trim())\n    ) {\n      return symbolSubtrings.push(token);\n    }\n    // add remaining filtered tokens\n    else {\n      return remainder.push(token);\n    }\n  });\n\n  return [...exactMatches, ...symbolSubtrings, ...remainder];\n}\n","import { TokenInfo } from \"@uniswap/token-lists\";\n\nimport styled from \"styled-components/macro\";\n\nexport type sizes = \"small\" | \"medium\" | \"large\";\n\nexport type StlyedTokenLogoProps = {\n  size: sizes;\n  tokenInfo: TokenInfo | null;\n};\n\nconst remSizes: Record<sizes, string> = {\n  small: \"1.5rem\",\n  medium: \"2rem\",\n  large: \"2.5rem\",\n};\n\nconst StyledTokenLogo = styled.div<StlyedTokenLogoProps>`\n  width: ${(props) => remSizes[props.size]};\n  height: ${(props) => remSizes[props.size]};\n  background-image: ${(props) =>\n    props.tokenInfo === null ? \"none\" : \"url(\" + props.tokenInfo.logoURI + \")\"};\n  background-size: cover;\n  background-position: center;\n  background-repeat: no-repeat;\n  background-color: ${(props) => props.theme.colors.black};\n  border-radius: 50%;\n  border-color: ${(props) => props.theme.colors.borderGrey};\n  border-style: ${(props) => (props.tokenInfo === null ? \"solid\" : \"none\")};\n  /* Note this is only applied when not empty. */\n  border-width: 1px;\n`;\n\nexport default StyledTokenLogo;\n","import BalanceChecker from \"@airswap/balances/build/contracts/BalanceChecker.json\";\nimport balancesDeploys from \"@airswap/balances/deploys.js\";\nimport { Light } from \"@airswap/protocols\";\n\nimport erc20Abi from \"erc-20-abi\";\nimport { BigNumber, ethers, EventFilter, Event } from \"ethers\";\nimport { hexZeroPad, id } from \"ethers/lib/utils\";\n\ninterface SubscribeParams {\n  activeTokenAddresses: string[];\n  walletAddress: string;\n  spenderAddress: string;\n  provider: ethers.providers.Web3Provider;\n  onBalanceChange: (\n    tokenAddress: string,\n    amount: BigNumber,\n    direction: \"in\" | \"out\"\n  ) => void;\n  onApproval: (tokenAddress: string, amount: BigNumber) => void;\n}\n\ninterface WalletParams {\n  chainId: number;\n  provider: ethers.providers.Web3Provider;\n  walletAddress: string;\n  tokenAddresses: string[];\n}\n\nconst balancesInterface = new ethers.utils.Interface(\n  JSON.stringify(BalanceChecker.abi)\n);\n\nconst erc20Interface = new ethers.utils.Interface(erc20Abi);\n\nconst getContract = (\n  chainId: keyof typeof balancesDeploys,\n  provider: ethers.providers.Web3Provider\n) => {\n  return new ethers.Contract(\n    balancesDeploys[chainId],\n    balancesInterface,\n    provider\n  );\n};\n\n/**\n * Fetches balances or allowances for a wallet using the airswap utility\n * contract `BalanceChecker.sol`. Balances are returned in base units.\n */\nconst fetchBalancesOrAllowances: (\n  method: \"walletBalances\" | \"walletAllowances\",\n  params: WalletParams\n) => Promise<string[]> = async (\n  method,\n  { chainId, provider, tokenAddresses, walletAddress }\n) => {\n  const contract = getContract(chainId, provider);\n  const args =\n    method === \"walletBalances\"\n      ? [walletAddress, tokenAddresses]\n      : // sender, spender, tokens.\n        [walletAddress, Light.getAddress(chainId), tokenAddresses];\n  const amounts: BigNumber[] = await contract[method].apply(null, args);\n  return amounts.map((amount) => amount.toString());\n};\n\nconst fetchBalances = fetchBalancesOrAllowances.bind(null, \"walletBalances\");\nconst fetchAllowances = fetchBalancesOrAllowances.bind(\n  null,\n  \"walletAllowances\"\n);\n\n// event Transfer(address indexed _from, address indexed _to, uint256 _value)\n// event Approval(address indexed _owner, address indexed _spender, uint256 _value)\nlet subscribeToTransfersAndApprovals: (params: SubscribeParams) => () => void;\nsubscribeToTransfersAndApprovals = ({\n  activeTokenAddresses,\n  walletAddress,\n  provider,\n  onBalanceChange,\n  spenderAddress,\n  onApproval,\n}) => {\n  // event Transfer(address indexed _from, address indexed _to, uint256 _value)\n  const filters: {\n    in: EventFilter;\n    out: EventFilter;\n  } = {\n    // Tokens being transferred out of our account or approved by our account\n    out: {\n      topics: [\n        [\n          id(\"Transfer(address,address,uint256)\"),\n          id(\"Approval(address,address,uint256)\"),\n        ], // event name\n        hexZeroPad(walletAddress, 32), // from\n      ],\n    },\n\n    // Tokens being transferred in to our account\n    in: {\n      topics: [\n        id(\"Transfer(address,address,uint256)\"), // event name\n        [],\n        hexZeroPad(walletAddress, 32), // to\n      ],\n    },\n  };\n\n  const tearDowns: (() => void)[] = [];\n\n  Object.keys(filters).forEach((direction) => {\n    // in or out?\n    const typedDirection = direction as keyof typeof filters;\n    const filter = filters[typedDirection];\n\n    function listener(event: Event) {\n      const { address } = event;\n      const lowerCasedAddress = address.toLowerCase();\n\n      // Ignore transactions for non-active tokens.\n      if (!activeTokenAddresses.includes(lowerCasedAddress)) return;\n\n      const parsedEvent = erc20Interface.parseLog(event);\n      const isApproval = parsedEvent.name === \"Approval\";\n\n      // Ignore approvals for other spenders.\n      if (isApproval && parsedEvent.args[1].toLowerCase() !== spenderAddress)\n        return;\n\n      const amount: BigNumber = parsedEvent.args[2];\n      isApproval\n        ? onApproval(lowerCasedAddress, amount)\n        : onBalanceChange(lowerCasedAddress, amount, typedDirection);\n    }\n    provider.on(filter, listener);\n    tearDowns.push(provider.off.bind(provider, filter, listener));\n  });\n\n  return () => {\n    tearDowns.forEach((fn) => fn());\n  };\n};\n\nexport { fetchBalances, fetchAllowances, subscribeToTransfersAndApprovals };\n","import { BaseHTMLAttributes, FC } from \"react\";\n\nimport { TokenInfo } from \"@uniswap/token-lists\";\n\nimport StyledTokenLogo, { StlyedTokenLogoProps } from \"./TokenLogo.styles\";\n\nexport type TokenLogoProps = {\n  tokenInfo: TokenInfo | null;\n} & StlyedTokenLogoProps &\n  BaseHTMLAttributes<HTMLImageElement>;\n\nconst TokenLogo: FC<TokenLogoProps> = ({ tokenInfo, ...rest }) => {\n  return <StyledTokenLogo tokenInfo={tokenInfo} {...rest} />;\n};\n\nexport default TokenLogo;\n","import styled from \"styled-components/macro\";\n\nimport { Metadata } from \"../../../Typography/Typography\";\n\nexport const Container = styled.div`\n  border: 1px solid ${(props) => props.theme.colors.borderGrey};\n  padding: 1rem;\n  display: grid;\n  grid-auto-flow: column;\n  cursor: pointer;\n  grid-template-columns: auto minmax(auto, 1fr) 6.25rem;\n  grid-gap: 1rem;\n  align-items: center;\n\n  &:not(:last-of-type) {\n    border-bottom: 0;\n  }\n\n  & + & {\n    border-top: 1px solid ${(props) => props.theme.colors.borderGrey};\n  }\n`;\n\nexport const TextContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n`;\n\nexport const Symbol = styled.h3`\n  font-size: 1rem;\n  font-weight: bold;\n  line-height: 1rem;\n`;\n\nexport const TokenName = styled.h3`\n  font-size: 0.8rem;\n  font-weight: 500;\n  color: #9e9e9e;\n  line-height: 1rem;\n`;\n\nexport const Span = styled.span``;\n\nexport const UnsupportedTokenText = styled(Metadata)`\n  text-align: center;\n  justify-self: center;\n`;\n\nexport const ImportButton = styled.button`\n  border: 1px solid ${(props) => props.theme.colors.borderGrey};\n  font-size: 0.8rem;\n  font-weight: bold;\n  padding: 0.5rem 1.5rem;\n  justify-self: center;\n\n  &:hover:not(:disabled) {\n    background: ${(props) => props.theme.colors.white};\n    color: ${(props) => props.theme.colors.black};\n    transition: 0.25s ease-in-out;\n  }\n`;\n","import { useTranslation } from \"react-i18next\";\n\nimport { TokenInfo } from \"@uniswap/token-lists\";\n\nimport TokenLogo from \"../../../TokenLogo/TokenLogo\";\nimport {\n  Container,\n  TextContainer,\n  Symbol,\n  TokenName,\n  ImportButton,\n  UnsupportedTokenText,\n} from \"./TokenImportButton.styles\";\n\nexport type TokenImportRowProps = {\n  /**\n   * TokenInfo object\n   */\n  token: TokenInfo;\n  /**\n   * True if the token isn't currently supported by makers.\n   */\n  isUnsupported: boolean;\n  /**\n   * onClick event, either setSignerToken or setSenderToken\n   */\n  onClick: (val: string) => void;\n};\n\nconst TokenImportButton = ({\n  token,\n  onClick,\n  isUnsupported,\n}: TokenImportRowProps) => {\n  const { t } = useTranslation([\"balances\", \"common\"]);\n\n  return (\n    <Container>\n      <TokenLogo tokenInfo={token} size=\"medium\" />\n\n      <TextContainer>\n        <Symbol>{token.symbol}</Symbol>\n        <TokenName>{token.name}</TokenName>\n      </TextContainer>\n      {isUnsupported ? (\n        <UnsupportedTokenText>\n          {t(\"balances:unsupportedToken\")}\n        </UnsupportedTokenText>\n      ) : (\n        <ImportButton onClick={() => onClick(token.address)}>\n          {t(\"balances:addToTokenSet\")}\n        </ImportButton>\n      )}\n    </Container>\n  );\n};\n\nexport default TokenImportButton;\n","import { useTranslation } from \"react-i18next\";\n\nimport { TokenInfo } from \"@uniswap/token-lists\";\n\nimport {\n  InactiveTitle,\n  InactiveTitleContainer,\n  InformationIcon,\n  TokenContainer,\n} from \"../../TokenSelection.styles\";\nimport TokenImportButton from \"../TokenImportButton/TokenImportButton\";\n\ntype InactiveTokensListProps = {\n  inactiveTokens: TokenInfo[];\n  supportedTokenAddresses: string[];\n  onTokenClick: (tokenAddress: string) => void;\n};\n\nconst InactiveTokensList = ({\n  supportedTokenAddresses,\n  inactiveTokens,\n  onTokenClick,\n}: InactiveTokensListProps) => {\n  const { t } = useTranslation([\"orders\"]);\n\n  return (\n    <>\n      <InactiveTitleContainer>\n        <InactiveTitle>\n          {t(\"orders:expandedResults\")}\n          <InformationIcon name=\"information-circle-outline\" />\n        </InactiveTitle>\n      </InactiveTitleContainer>\n      <TokenContainer>\n        {inactiveTokens.map((token) => (\n          <TokenImportButton\n            token={token}\n            isUnsupported={\n              supportedTokenAddresses.length !== 0 &&\n              !supportedTokenAddresses.includes(token.address)\n            }\n            onClick={() => onTokenClick(token.address)}\n            key={`${token.address}`}\n          />\n        ))}\n      </TokenContainer>\n    </>\n  );\n};\n\nexport default InactiveTokensList;\n","const stringToSignificantDecimals: (\n  input: string,\n  sigDecimals?: number\n) => string = (input, sigDecimals = 6) => {\n  // Don't do anything if there's no decimal point.\n  if (input.indexOf(\".\") === -1) {\n    return input;\n  }\n\n  const [beforeDecimalPoint, afterDecimalPoint] = input.split(\".\");\n  let trimmedDecimals = \"\";\n  if (afterDecimalPoint.length <= sigDecimals) {\n    // No need to trim\n    trimmedDecimals = afterDecimalPoint;\n  } else if (beforeDecimalPoint.match(/[1-9]/)) {\n    // Number greater than zero, all decimal places significant:\n    // just trim decimals to correct length\n    trimmedDecimals = afterDecimalPoint.slice(0, 4);\n  } else {\n    // Number less than zero, some decimal places may not be significant\n    let sigDecimalsRemaining = sigDecimals;\n    let i = 0;\n    let inLeadingZeroes = true;\n    while (sigDecimalsRemaining > 0 && i < afterDecimalPoint.length - 1) {\n      const currentDigit = afterDecimalPoint[i];\n      trimmedDecimals += currentDigit;\n      if (!inLeadingZeroes || currentDigit !== \"0\") {\n        inLeadingZeroes = false;\n        sigDecimalsRemaining--;\n      }\n      i++;\n    }\n  }\n\n  return `${beforeDecimalPoint}.${trimmedDecimals}`;\n};\nexport default stringToSignificantDecimals;\n","import styled from \"styled-components/macro\";\n\nexport const Text = styled.div`\n  display: inline;\n  margin-left: 0.25rem;\n  font-size: 0.75rem;\n`;\n\nexport const Container = styled.button`\n  position: relative;\n  text-align: left;\n  width: 100%;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n\n  &:hover {\n    ${Text} {\n      text-decoration: underline;\n    }\n  }\n\n  &:before {\n    content: \"\";\n    display: inline;\n  }\n`;\n","import { useTranslation } from \"react-i18next\";\n\nimport { Container, Text } from \"./TokenDeleteButton.styles\";\n\ntype TokenDeleteButtonProps = {\n  onClick: (e: React.MouseEvent<HTMLButtonElement>) => void;\n};\n\nconst TokenDeleteButton = ({ onClick }: TokenDeleteButtonProps) => {\n  const { t } = useTranslation([\"orders\"]);\n\n  return (\n    <Container onClick={onClick}>\n      <Text>{t(\"orders:removeFromActive\")}</Text>\n    </Container>\n  );\n};\n\nexport default TokenDeleteButton;\n","import styled from \"styled-components/macro\";\n\ntype ContainerProps = {\n  disabled: boolean;\n};\n\nexport const TokenNameContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  position: relative;\n`;\n\nexport const TokenName = styled.h3`\n  width: 100%;\n  text-align: left;\n  line-height: 1;\n  font-size: 0.875rem;\n  font-weight: 500;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  color: ${(props) => props.theme.colors.lightGrey};\n`;\n\nexport const Container = styled.button<ContainerProps>`\n  position: relative;\n  width: 100%;\n  padding: 0.5rem 0;\n  display: grid;\n  grid-auto-flow: column;\n  cursor: ${(props) => (props.disabled ? \"not-allowed\" : \"pointer\")};\n  grid-template-columns: 1.5rem 4rem calc(50% - 4rem) calc(50% - 4.5rem);\n  grid-gap: 1rem;\n  align-items: center;\n  opacity: ${(props) => (props.disabled ? 0.6 : 1)};\n\n  &:hover {\n    ${TokenName} {\n      color: ${(props) =>\n        props.disabled\n          ? props.theme.colors.lightGrey\n          : props.theme.colors.white};\n    }\n  }\n`;\n\nexport const TextContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n`;\n\nexport const Symbol = styled.h3`\n  text-align: left;\n  font-size: 1.125rem;\n  font-weight: 600;\n  line-height: calc(1 + (1 / 3));\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n`;\n\nexport const Balance = styled.div`\n  font-weight: 500;\n  text-align: right;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n`;\n","import { TokenInfo } from \"@uniswap/token-lists\";\n\nimport stringToSignificantDecimals from \"../../../../helpers/stringToSignificantDecimals\";\nimport TokenLogo from \"../../../TokenLogo/TokenLogo\";\nimport TokenDeleteButton from \"../TokenDeleteButton/TokenDeleteButton\";\nimport {\n  Container,\n  Symbol,\n  TokenName,\n  Balance,\n  TokenNameContainer,\n} from \"./TokenButton.styles\";\n\nexport type TokenRowProps = {\n  /**\n   * TokenInfo object\n   */\n  token: TokenInfo;\n  /**\n   * Balance of current token\n   */\n  balance: string;\n  /**\n   * onClick event, either setSignerToken or setSenderToken\n   */\n  setToken: (val: string) => void;\n  /**\n   * Whether to disable selection of this token (e.g. if already selected)\n   */\n  disabled?: boolean;\n  /**\n   * Removes token from the active tokens list.\n   */\n  removeActiveToken: (tokenAddress: string) => void;\n};\n\n// TODO: Make Container a button instead of a Balance\nconst TokenButton = ({\n  token,\n  balance,\n  setToken,\n  removeActiveToken,\n  disabled,\n}: TokenRowProps) => {\n  return (\n    <Container\n      onClick={(e) => {\n        !disabled && setToken(token.address);\n      }}\n      disabled={disabled!}\n    >\n      <TokenLogo tokenInfo={token} size=\"small\" />\n\n      <Symbol>{token.symbol}</Symbol>\n\n      <TokenNameContainer>\n        <TokenName>{token.name}</TokenName>\n\n        <TokenDeleteButton\n          onClick={(e) => {\n            e.stopPropagation();\n            removeActiveToken(token.address);\n          }}\n        />\n      </TokenNameContainer>\n\n      <Balance>{stringToSignificantDecimals(balance)}</Balance>\n    </Container>\n  );\n};\n\nexport default TokenButton;\n","import { useState, useMemo, useRef, useEffect } from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { formatUnits } from \"@ethersproject/units\";\nimport { TokenInfo } from \"@uniswap/token-lists\";\n\nimport { BalancesState } from \"../../features/balances/balancesSlice\";\nimport useWindowSize from \"../../helpers/useWindowSize\";\nimport { InfoHeading } from \"../Typography/Typography\";\nimport {\n  Container,\n  TitleContainer,\n  CloseButton,\n  SearchInput,\n  TokenContainer,\n  Legend,\n  LegendItem,\n  LegendDivider,\n  ScrollContainer,\n  ContentContainer,\n  StyledTitle,\n  NoResultsContainer,\n} from \"./TokenSelection.styles\";\nimport { filterTokens } from \"./filter\";\nimport { sortTokenByExactMatch, sortTokensBySymbolAndBalance } from \"./sort\";\nimport InactiveTokensList from \"./subcomponents/InactiveTokensList/InactiveTokensList\";\nimport TokenButton from \"./subcomponents/TokenButton/TokenButton\";\n\nexport type TokenSelectionProps = {\n  /**\n   * Function to close modal\n   */\n  onClose: () => void;\n  /**\n   * signerToken contract address (e.g. \"0x9f8f72aa9304c8b593d555f12ef6589cc3a579a2\")\n   */\n  signerToken: string;\n  /**\n   * senderToken contract address (e.g. \"0x9f8f72aa9304c8b593d555f12ef6589cc3a579a2\")\n   */\n  senderToken: string;\n  /**\n   * useState hook to set signer token\n   */\n  setSignerToken: (val: string) => void;\n  /**\n   * useState hook to set sender token\n   */\n  setSenderToken: (val: string) => void;\n  /**\n   * Request type incoming to token selection modal; modal handles\n   * setSignerToken/setSenderToken based off of this parameter\n   */\n  tokenSelectType: \"signerToken\" | \"senderToken\";\n  /**\n   * Balances for current tokens in wallet\n   */\n  balances: BalancesState;\n  /**\n   * all Token addresses in metadata.\n   */\n  allTokens: TokenInfo[];\n  /**\n   * All active tokens.\n   */\n  activeTokens: TokenInfo[];\n  /**\n   * Supported tokens according to registry\n   */\n  supportedTokenAddresses: string[];\n  /**\n   * function to handle adding active tokens (dispatches addActiveToken).\n   */\n  addActiveToken: (val: string) => void;\n  /**\n   * function to handle removing active tokens (dispatches removeActiveToken).\n   */\n  removeActiveToken: (val: string) => void;\n  /**\n   * currently connected chain id\n   */\n  chainId: number;\n  /**\n   * Hide or show the component\n   */\n  isHidden?: boolean;\n};\n\nconst TokenSelection = ({\n  onClose,\n  signerToken,\n  senderToken,\n  setSignerToken,\n  setSenderToken,\n  tokenSelectType,\n  balances,\n  allTokens,\n  activeTokens = [],\n  supportedTokenAddresses,\n  addActiveToken,\n  removeActiveToken,\n  chainId,\n  isHidden = false,\n}: TokenSelectionProps) => {\n  const { width, height } = useWindowSize();\n  const containerRef = useRef<HTMLDivElement>(null);\n  const scrollContainerRef = useRef<HTMLDivElement>(null);\n  const [overflow, setOverflow] = useState(false);\n\n  const [tokenQuery, setTokenQuery] = useState<string>(\"\");\n  const { t } = useTranslation([\n    \"common\",\n    \"wallet\",\n    \"orders\",\n    \"balances\",\n    \"orders\",\n  ]);\n\n  // handle user clicking row\n  const handleClick = (address: string) => {\n    if (tokenSelectType === \"senderToken\") {\n      // swap the token addresses\n      if (address === signerToken) setSignerToken(senderToken);\n      setSenderToken(address);\n    } else {\n      if (address === senderToken) setSenderToken(signerToken);\n      setSignerToken(address);\n    }\n    onClose();\n  };\n\n  // sort tokens based on symbol\n  const sortedTokens: TokenInfo[] = useMemo(() => {\n    return sortTokensBySymbolAndBalance(activeTokens, balances);\n  }, [activeTokens, balances]);\n\n  // filter token\n  const filteredTokens: TokenInfo[] = useMemo(() => {\n    return filterTokens(Object.values(sortedTokens), tokenQuery);\n  }, [sortedTokens, tokenQuery]);\n\n  const sortedFilteredTokens: TokenInfo[] = useMemo(() => {\n    return sortTokenByExactMatch(filteredTokens, tokenQuery);\n  }, [filteredTokens, tokenQuery]);\n\n  // sort inactive tokens based on symbol\n  const sortedInactiveTokens: TokenInfo[] = useMemo(() => {\n    return sortTokenByExactMatch(\n      allTokens.filter((el) => {\n        return !activeTokens.includes(el);\n      }),\n      tokenQuery\n    );\n  }, [allTokens, activeTokens, tokenQuery]);\n\n  // only take the top 10 tokens\n  const inactiveTokens: TokenInfo[] = useMemo(() => {\n    return filterTokens(Object.values(sortedInactiveTokens), tokenQuery!).slice(\n      0,\n      10\n    );\n  }, [sortedInactiveTokens, tokenQuery]);\n\n  useEffect(() => {\n    if (containerRef.current && scrollContainerRef.current) {\n      const { offsetTop, scrollHeight } = scrollContainerRef.current;\n      setOverflow(scrollHeight + offsetTop > containerRef.current.offsetHeight);\n    }\n  }, [\n    containerRef,\n    scrollContainerRef,\n    activeTokens,\n    sortedTokens,\n    allTokens,\n    tokenQuery,\n    width,\n    height,\n  ]);\n\n  return (\n    <Container ref={containerRef} overflow={overflow} isHidden={isHidden}>\n      <TitleContainer>\n        <StyledTitle type=\"h2\">{t(\"common:swap\")}</StyledTitle>\n        <CloseButton icon=\"chevron-down\" iconSize={1} onClick={onClose} />\n      </TitleContainer>\n      <ContentContainer>\n        <SearchInput\n          hideLabel\n          id=\"tokenQuery\"\n          type=\"text\"\n          label={t(\"orders:searchByNameOrAddress\")}\n          value={tokenQuery}\n          placeholder={t(\"orders:searchByNameOrAddress\")}\n          onChange={(e) => {\n            setTokenQuery(e.currentTarget.value);\n          }}\n        />\n\n        <ScrollContainer ref={scrollContainerRef}>\n          <Legend>\n            <LegendItem>{t(\"common:token\")}</LegendItem>\n            <LegendDivider />\n            <LegendItem>{t(\"balances:balance\")}</LegendItem>\n          </Legend>\n\n          {sortedFilteredTokens && sortedFilteredTokens.length > 0 && (\n            <TokenContainer>\n              {sortedFilteredTokens.map((token) => (\n                <TokenButton\n                  token={token}\n                  balance={formatUnits(\n                    balances.values[token.address] || 0,\n                    token.decimals\n                  )}\n                  setToken={handleClick}\n                  removeActiveToken={removeActiveToken}\n                  key={token.address}\n                />\n              ))}\n            </TokenContainer>\n          )}\n          {inactiveTokens.length !== 0 &&\n            tokenQuery &&\n            sortedFilteredTokens.length < 5 && (\n              <InactiveTokensList\n                inactiveTokens={inactiveTokens}\n                supportedTokenAddresses={supportedTokenAddresses}\n                onTokenClick={(tokenAddress) => {\n                  addActiveToken(tokenAddress);\n                  setTokenQuery(\"\");\n                }}\n              />\n            )}\n          {sortedFilteredTokens.length === 0 && inactiveTokens.length === 0 && (\n            <NoResultsContainer>\n              <InfoHeading>{t(\"common:noResultsFound\")}</InfoHeading>\n            </NoResultsContainer>\n          )}\n        </ScrollContainer>\n      </ContentContainer>\n    </Container>\n  );\n};\n\nexport default TokenSelection;\n","import { useState, useEffect } from \"react\";\n\n// Source: https://usehooks.com/useWindowSize/\n\ninterface WindowSizeState {\n  width?: number;\n  height?: number;\n}\n\nexport default function useWindowSize() {\n  // Initialize state with undefined width/height so server and client renders match\n  // Learn more here: https://joshwcomeau.com/react/the-perils-of-rehydration/\n  const [windowSize, setWindowSize] = useState<WindowSizeState>({\n    width: undefined,\n    height: undefined,\n  });\n\n  useEffect(() => {\n    // Handler to call on window resize\n    function handleResize() {\n      // Set window width/height to state\n      setWindowSize({\n        width: window.innerWidth,\n        height: window.innerHeight,\n      });\n    }\n    // Add event listener\n    window.addEventListener(\"resize\", handleResize);\n    // Call handler right away so state gets updated with initial window size\n    handleResize();\n    // Remove event listener on cleanup\n    return () => window.removeEventListener(\"resize\", handleResize);\n  }, []); // Empty array ensures that effect is only run on mount\n  return windowSize;\n}\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\n\nimport { RootState } from \"../../app/store\";\n\nexport interface WalletState {\n  connected: boolean;\n  address: string | null;\n  chainId: number | null;\n  providerName: string | null;\n}\n\nconst initialState: WalletState = {\n  connected: false,\n  address: null,\n  chainId: null,\n  providerName: null,\n};\n\nconst walletSlice = createSlice({\n  name: \"wallet\",\n  initialState,\n  reducers: {\n    setWalletConnected: (\n      state,\n      action: PayloadAction<{ address: string; chainId: number }>\n    ) => {\n      state.connected = true;\n      state.address = action.payload.address;\n      state.chainId = action.payload.chainId;\n    },\n    setWalletDisconnected: () => initialState,\n    setActiveProvider: (state, action: PayloadAction<string>) => {\n      state.providerName = action.payload;\n    },\n  },\n});\n\nexport const selectWallet = (state: RootState) => state.wallet;\n\nexport const {\n  setWalletConnected,\n  setWalletDisconnected,\n  setActiveProvider,\n} = walletSlice.actions;\n\nexport default walletSlice.reducer;\n","import {\n  AsyncThunk,\n  createAction,\n  createAsyncThunk,\n  createSlice,\n  PayloadAction,\n} from \"@reduxjs/toolkit\";\n\nimport { BigNumber, ethers } from \"ethers\";\n\nimport { AppDispatch, RootState } from \"../../app/store\";\nimport { setWalletConnected } from \"../wallet/walletSlice\";\nimport { fetchAllowances, fetchBalances } from \"./balancesApi\";\n\nexport interface BalancesState {\n  status: \"idle\" | \"fetching\" | \"failed\";\n  /** Timestamp of last successful fetch */\n  lastFetch: number | null;\n  /** An array of token addresses currently being fetched. If there are two\n   * fetches in flight, this array will contain the list of addresses in the\n   * largest request.\n   */\n  inFlightFetchTokens: string[] | null; // used to prevent duplicate fetches\n  /** Token balances */\n  values: {\n    [tokenAddress: string]: string | null; // null while fetching\n  };\n}\n\n// Initially empty.\nexport const initialState: BalancesState = {\n  status: \"idle\",\n  lastFetch: null,\n  inFlightFetchTokens: null,\n  values: {},\n};\n\nconst getSetInFlightRequestTokensAction = (type: \"balances\" | \"allowances\") => {\n  return createAction<string[]>(`${type}/setInFlightRequestTokens`);\n};\n\nconst getThunk: (\n  type: \"balances\" | \"allowances\"\n) => AsyncThunk<\n  { address: string; amount: string }[],\n  {\n    provider: ethers.providers.Web3Provider;\n  },\n  {}\n> = (type: \"balances\" | \"allowances\") => {\n  const methods = {\n    balances: fetchBalances,\n    allowances: fetchAllowances,\n  };\n  return createAsyncThunk<\n    { address: string; amount: string }[],\n    {\n      provider: ethers.providers.Web3Provider;\n    },\n    {\n      // Optional fields for defining thunkApi field types\n      dispatch: AppDispatch;\n      state: RootState;\n    }\n  >(\n    `${type}/requestForActiveTokens`,\n    async (params, { getState, dispatch }) => {\n      try {\n        const state = getState();\n        const activeTokensAddresses = state.metadata.tokens.active;\n        const { chainId, address } = state.wallet;\n        dispatch(\n          getSetInFlightRequestTokensAction(type)(activeTokensAddresses)\n        );\n        const amounts = await methods[type]({\n          ...params,\n          chainId: chainId!,\n          walletAddress: address!,\n          tokenAddresses: activeTokensAddresses,\n        });\n        return activeTokensAddresses.map((address, i) => ({\n          address,\n          amount: amounts[i],\n        }));\n      } catch (e) {\n        console.error(`Error fetching ${type}: ` + e.message);\n        // TODO: error handling\n        return [];\n      }\n    },\n    {\n      // Logic to prevent fetching again if we're already fetching the same or more tokens.\n      condition: (params, { getState }) => {\n        const sliceState = getState()[type];\n        // If we're not fetching, definitely continue\n        if (sliceState.status !== \"fetching\") return true;\n        if (sliceState.inFlightFetchTokens) {\n          const tokensToFetch = getState().metadata.tokens.active;\n          // only fetch if new list is larger.\n          return tokensToFetch.length > sliceState.inFlightFetchTokens.length;\n        }\n      },\n    }\n  );\n};\n\nconst getSlice = (\n  type: \"balances\" | \"allowances\",\n  asyncThunk: ReturnType<typeof getThunk>\n) => {\n  return createSlice({\n    name: type,\n    initialState,\n    reducers: {\n      incrementBy: (\n        state,\n        action: PayloadAction<{ tokenAddress: string; amount: string }>\n      ) => {\n        const currentAmount = BigNumber.from(\n          state.values[action.payload.tokenAddress.toLowerCase()] || 0\n        );\n        state.values[\n          action.payload.tokenAddress.toLowerCase()\n        ] = currentAmount.add(action.payload.amount).toString();\n      },\n      decrementBy: (\n        state,\n        action: PayloadAction<{ tokenAddress: string; amount: string }>\n      ) => {\n        const currentAmount = BigNumber.from(\n          state.values[action.payload.tokenAddress.toLowerCase()] || 0\n        );\n        let newAmount = currentAmount.sub(action.payload.amount);\n        if (newAmount.lt(\"0\")) newAmount = BigNumber.from(\"0\");\n        state.values[\n          action.payload.tokenAddress.toLowerCase()\n        ] = newAmount.toString();\n      },\n      set: (\n        state,\n        action: PayloadAction<{ tokenAddress: string; amount: string }>\n      ) => {\n        state.values[action.payload.tokenAddress.toLowerCase()] =\n          action.payload.amount;\n      },\n    },\n    extraReducers: (builder) => {\n      builder\n        // Reset to initial state if a new account is connected.\n        .addCase(setWalletConnected, () => initialState)\n\n        // Handle requesting balances\n        .addCase(asyncThunk.pending, (state) => {\n          state.status = \"fetching\";\n        })\n        .addCase(getSetInFlightRequestTokensAction(type), (state, action) => {\n          state.inFlightFetchTokens = action.payload;\n        })\n        .addCase(asyncThunk.fulfilled, (state, action) => {\n          state.lastFetch = Date.now();\n          const tokenBalances = action.payload;\n\n          tokenBalances?.forEach(({ address, amount }) => {\n            state.values[address] = amount;\n          });\n\n          // Only clear fetching status if this request contained the largest\n          // list of tokens (which will be stored in inFlightFetchTokens)\n          if (\n            state.inFlightFetchTokens &&\n            tokenBalances.every(\n              (result, i) => state.inFlightFetchTokens![i] === result.address\n            )\n          ) {\n            state.inFlightFetchTokens = null;\n            state.status = \"idle\";\n          }\n        })\n        .addCase(asyncThunk.rejected, (state, action) => {\n          state.status = \"failed\";\n        });\n    },\n  });\n};\n\nexport const selectBalances = (state: RootState) => state.balances;\nexport const selectAllowances = (state: RootState) => state.allowances;\n\nexport const requestActiveTokenBalances = getThunk(\"balances\");\nexport const requestActiveTokenAllowances = getThunk(\"allowances\");\n\nexport const balancesSlice = getSlice(\"balances\", requestActiveTokenBalances);\nexport const allowancesSlice = getSlice(\n  \"allowances\",\n  requestActiveTokenAllowances\n);\n\nexport const {\n  incrementBy: incrementBalanceBy,\n  decrementBy: decrementBalanceBy,\n  set: setBalance,\n} = balancesSlice.actions;\nexport const {\n  incrementBy: incrementAllowanceBy,\n  decrementBy: decreementAllowanceBy,\n  set: setAllowance,\n} = allowancesSlice.actions;\n\nexport const balancesActions = balancesSlice.actions;\nexport const allowancesActions = allowancesSlice.actions;\n\nexport const balancesReducer = balancesSlice.reducer;\nexport const allowancesReducer = allowancesSlice.reducer;\n","import { fetchTokens } from \"@airswap/metadata\";\nimport { TokenInfo } from \"@uniswap/token-lists\";\n\nimport uniqBy from \"lodash.uniqby\";\n\nconst tokensCache: {\n  [chainId: number]: Promise<TokenInfo[]>;\n} = {};\n\nexport const getActiveTokensLocalStorageKey: (\n  account: string,\n  chainId: number\n) => string = (account, chainId) =>\n  `airswap/activeTokens/${account}/${chainId}`;\n\nexport const getAllTokens = async (chainId: number) => {\n  let tokens;\n  if (!tokensCache[chainId]) {\n    tokensCache[chainId] = fetchTokens(chainId);\n  }\n  // TODO: handle failure.\n  tokens = await tokensCache[chainId];\n  return tokens;\n};\n\nexport const getActiveTokensFromLocalStorage = (\n  account: string,\n  chainId: number\n) => {\n  const savedTokens = (\n    localStorage.getItem(getActiveTokensLocalStorageKey(account, chainId)) || \"\"\n  )\n    .split(\",\")\n    .filter((address) => address.length);\n  return (savedTokens.length && savedTokens) || [];\n};\n\nexport const getSavedActiveTokensInfo = async (\n  account: string,\n  chainId: number\n) => {\n  const tokens = await getAllTokens(chainId);\n  const activeTokens = getActiveTokensFromLocalStorage(account, chainId);\n  const matchingTokens = tokens.filter((tokenInfo) =>\n    activeTokens.includes(tokenInfo.address)\n  );\n  return uniqBy(matchingTokens, (token) => token.address);\n};\n\nexport const getTransactionsLocalStorageKey: (\n  walletAddress: string,\n  chainId: number\n) => string = (walletAddress, chainId) =>\n  `airswap/transactions/${walletAddress}/${chainId}`;\n","import * as RegistryContract from \"@airswap/registry/build/contracts/Registry.sol/Registry.json\";\nimport registryDeploys from \"@airswap/registry/deploys.js\";\n\nimport { providers, utils, Contract, Event } from \"ethers\";\n\nconst RegistryInterface = new utils.Interface(\n  JSON.stringify(RegistryContract.abi)\n);\n\nasync function getStakerTokens(chainId: number, provider: providers.Provider) {\n  const registryContract = new Contract(\n    registryDeploys[chainId],\n    RegistryInterface,\n    provider\n  );\n\n  const addTokensEventFilter = registryContract.filters.AddTokens();\n  const removeTokensEventFilter = registryContract.filters.RemoveTokens();\n\n  // Fetch all AddTokens and RemoveTokens events from the registry\n  const [addEvents, removeEvents] = await Promise.all([\n    registryContract.queryFilter(addTokensEventFilter),\n    registryContract.queryFilter(removeTokensEventFilter),\n  ]);\n\n  // Order matters here, so order AddTokens and RemoveTokens chronologically\n  const sortedEvents: Event[] = [...addEvents, ...removeEvents]\n    .filter((log) => !log.removed)\n    .sort((a, b) => {\n      // Sort by oldest first. If they're not in the same block, sort based\n      // on blocknumber\n      if (a.blockNumber !== b.blockNumber) return a.blockNumber - b.blockNumber;\n      // if in the same block, sort by the index of the log in the block\n      return a.logIndex - b.logIndex;\n    });\n\n  // Hold a list of tokens for each staker.\n  const stakerTokens: Record<string, string[]> = {};\n\n  sortedEvents.forEach((log) => {\n    if (!log.args) return;\n    // @ts-ignore (args are not typed)\n    const [staker, tokens] = log.args as [string, string[]];\n    const lowerCasedTokens = tokens.map((t) => t.toLowerCase());\n    if (log.event === \"AddTokens\") {\n      // Adding tokens\n      stakerTokens[staker] = (stakerTokens[staker] || []).concat(\n        lowerCasedTokens\n      );\n    } else {\n      // Removing tokens\n      stakerTokens[staker] = (stakerTokens[staker] || []).filter(\n        (token) => !lowerCasedTokens.includes(token)\n      );\n    }\n  });\n\n  return stakerTokens;\n}\n\nexport { getStakerTokens };\n","import { createAsyncThunk, createSlice, PayloadAction } from \"@reduxjs/toolkit\";\n\nimport { providers } from \"ethers\";\nimport uniqBy from \"lodash.uniqby\";\n\nimport { AppDispatch, RootState } from \"../../app/store\";\nimport { getActiveTokensFromLocalStorage } from \"../metadata/metadataApi\";\nimport { getStakerTokens } from \"./registryAPI\";\n\nexport interface RegistryState {\n  stakerTokens: Record<string, string[]>;\n  allSupportedTokens: string[];\n  status: \"idle\" | \"fetching\" | \"failed\";\n}\n\nconst initialState: RegistryState = {\n  stakerTokens: {},\n  allSupportedTokens: [],\n  status: \"idle\",\n};\n\nexport const fetchSupportedTokens = createAsyncThunk<\n  {\n    allSupportedTokens: string[];\n    stakerTokens: Record<string, string[]>;\n    activeTokens: string[];\n  },\n  {\n    provider: providers.Provider;\n  },\n  {\n    // Optional fields for defining thunkApi field types\n    dispatch: AppDispatch;\n    state: RootState;\n  }\n>(\"registry/fetchSupportedTokens\", async ({ provider }, { getState }) => {\n  const { wallet } = getState();\n  const stakerTokens = await getStakerTokens(wallet.chainId!, provider);\n  // Combine token lists from all makers and flatten them.\n  const allSupportedTokens = uniqBy(\n    Object.values(stakerTokens).flat(),\n    (i) => i\n  );\n  const activeTokensLocalStorage = getActiveTokensFromLocalStorage(\n    wallet.address!,\n    wallet.chainId!\n  );\n  const activeTokens =\n    (activeTokensLocalStorage.length && activeTokensLocalStorage) ||\n    allSupportedTokens ||\n    [];\n  return { stakerTokens, allSupportedTokens, activeTokens };\n});\n\nexport const registrySlice = createSlice({\n  name: \"registry\",\n  initialState,\n  reducers: {\n    setStakerTokens: (\n      state,\n      action: PayloadAction<Record<string, string[]>>\n    ) => {\n      state.stakerTokens = { ...action.payload };\n    },\n    setAllSupportedTokens: (state, action: PayloadAction<string[]>) => {\n      state.allSupportedTokens = [...action.payload];\n    },\n    reset: () => {\n      return { ...initialState };\n    },\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(fetchSupportedTokens.pending, (state) => {\n        state.status = \"fetching\";\n      })\n      .addCase(fetchSupportedTokens.fulfilled, (state, action) => {\n        state.status = \"idle\";\n        state.allSupportedTokens = [...action.payload.allSupportedTokens];\n        state.stakerTokens = { ...action.payload.stakerTokens };\n      })\n      .addCase(fetchSupportedTokens.rejected, (state) => {\n        state.status = \"failed\";\n      });\n  },\n});\n\nexport const {\n  setStakerTokens,\n  setAllSupportedTokens,\n  reset,\n} = registrySlice.actions;\nexport const selectAllSupportedTokens = (state: RootState) =>\n  state.registry.allSupportedTokens;\nexport default registrySlice.reducer;\n","import { fetchTokens } from \"@airswap/metadata\";\nimport {\n  createAsyncThunk,\n  createSelector,\n  createSlice,\n  PayloadAction,\n} from \"@reduxjs/toolkit\";\nimport { TokenInfo } from \"@uniswap/token-lists\";\n\nimport { AppDispatch, RootState } from \"../../app/store\";\nimport { fetchSupportedTokens } from \"../registry/registrySlice\";\nimport {\n  setWalletConnected,\n  setWalletDisconnected,\n} from \"../wallet/walletSlice\";\nimport { getActiveTokensFromLocalStorage } from \"./metadataApi\";\n\nexport interface MetadataState {\n  tokens: {\n    all: {\n      [address: string]: TokenInfo;\n    };\n    active: string[];\n  };\n}\n\nconst initialState: MetadataState = {\n  tokens: {\n    all: {},\n    active: [],\n  },\n};\n\nexport const fetchAllTokens = createAsyncThunk<\n  TokenInfo[],\n  void,\n  {\n    dispatch: AppDispatch;\n    state: RootState;\n  }\n>(\"metadata/fetchTokens\", async (unused, thunkApi) => {\n  const { wallet } = thunkApi.getState();\n  if (!wallet.connected) return [];\n  return await fetchTokens(wallet.chainId!);\n});\n\nexport const metadataSlice = createSlice({\n  name: \"metadata\",\n  initialState,\n  reducers: {\n    addActiveToken: (state, action: PayloadAction<string>) => {\n      const lowerCasedToken = action.payload.trim().toLowerCase();\n      if (!state.tokens.active.includes(lowerCasedToken)) {\n        state.tokens.active.push(lowerCasedToken);\n      }\n    },\n    removeActiveToken: (state, action: PayloadAction<string>) => {\n      if (state.tokens.active.includes(action.payload)) {\n        state.tokens.active = state.tokens.active.filter(\n          (tokenAddress) => tokenAddress !== action.payload\n        );\n      }\n    },\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(fetchAllTokens.pending, (state) => {\n        // TODO: consider whether we need to put a pending state to prevent dupes\n      })\n      .addCase(fetchAllTokens.fulfilled, (state, action) => {\n        const { payload: tokenInfo } = action;\n        state.tokens.all = tokenInfo.reduce(\n          (allTokens: { [address: string]: TokenInfo }, token) => {\n            const { address } = token;\n            if (!allTokens[address]) {\n              allTokens[address] = { ...token };\n            }\n            return allTokens;\n          },\n          {}\n        );\n      })\n      .addCase(fetchAllTokens.rejected, (state) => {\n        // TODO: handle failure?\n      })\n      .addCase(fetchSupportedTokens.fulfilled, (state, action) => {\n        if (!state.tokens.active?.length)\n          state.tokens.active = action.payload.activeTokens || [];\n      })\n      .addCase(setWalletConnected, (state, action) => {\n        const { chainId, address } = action.payload;\n        state.tokens.active =\n          getActiveTokensFromLocalStorage(address, chainId) || [];\n      })\n      .addCase(setWalletDisconnected, (state) => {\n        state.tokens.active = [];\n      });\n  },\n});\n\nexport const { addActiveToken, removeActiveToken } = metadataSlice.actions;\n\nconst selectActiveTokenAddresses = (state: RootState) =>\n  state.metadata.tokens.active;\nexport const selectAllTokenInfo = (state: RootState) =>\n  Object.values(state.metadata.tokens.all);\nexport const selectActiveTokens = createSelector(\n  [selectActiveTokenAddresses, selectAllTokenInfo],\n  (activeTokenAddresses, allTokenInfo) => {\n    return Object.values(allTokenInfo).filter((tokenInfo) =>\n      activeTokenAddresses.includes(tokenInfo.address)\n    );\n  }\n);\n\nexport default metadataSlice.reducer;\n","import styled from \"styled-components/macro\";\n\n// Notice we are overriding background-color with !important\n// this is necessary to override built-in styling of toasts\nexport const Container = styled.div`\n  display: grid;\n  grid-template-columns: 2.5rem auto 2.5rem;\n  grid-gap: 1rem;\n  align-items: center;\n  width: 22.5rem;\n  border-radius: 0.5rem;\n  padding: 0.625rem;\n  color: ${(props) => props.theme.colors.white};\n  background: ${(props) => props.theme.colors.darkGrey} !important;\n`;\n\ntype IconContainerProps = {\n  error?: boolean;\n};\n\n// Notice we are overriding background and border-radius with !important\n// this is necessary to override built-in styling of toasts\nexport const IconContainer = styled.div<IconContainerProps>`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 2.5rem;\n  height: 2.5rem;\n  background: ${(props) =>\n    props.error ? \"rgba(255,0,0,0.17)\" : \"rgba(96,255,102,0.1)\"} !important;\n  border-radius: 50% !important;\n  color: white;\n  color: ${(props) => (props.error ? \"#FF0000\" : \"#60FF66\")};\n`;\n\nexport const HiXContainer = styled.button`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n`;\n\nexport const TextContainer = styled.div`\n  display: block;\n`;\n","import { useTranslation } from \"react-i18next\";\nimport { HiX } from \"react-icons/hi\";\nimport { MdBeenhere, MdError } from \"react-icons/md\";\n\nimport { TokenInfo } from \"@uniswap/token-lists\";\n\nimport { formatUnits } from \"ethers/lib/utils\";\n\nimport {\n  SubmittedOrder,\n  SubmittedTransaction,\n} from \"../../features/transactions/transactionsSlice\";\nimport { InfoHeading, InfoSubHeading } from \"../Typography/Typography\";\nimport {\n  Container,\n  HiXContainer,\n  IconContainer,\n  TextContainer,\n} from \"./TransactionToast.styles\";\n\nexport type TransactionToastProps = {\n  /**\n   * Function to trigger closing of toast\n   */\n  onClose: () => void;\n  /**\n   * Error affects whether the icon colors show up as blue or red;\n   */\n  error: boolean;\n  /**\n   * The parent object of SubmittedOrder and SubmittedApproval\n   */\n  transaction: SubmittedTransaction;\n  /**\n   * Type of transaction the toast will display;\n   */\n  type: \"Order\" | \"Approval\";\n  /**\n   * Token Info of sender token\n   */\n  senderToken?: TokenInfo;\n  /**\n   * Token Info of signer token\n   */\n  signerToken?: TokenInfo;\n  /**\n   * Token Info of approval token\n   */\n  approvalToken?: TokenInfo;\n};\n\nconst TransactionToast = ({\n  onClose,\n  error,\n  transaction,\n  type,\n  senderToken,\n  signerToken,\n  approvalToken,\n}: TransactionToastProps) => {\n  const { t } = useTranslation([\"toast\"]);\n\n  return (\n    <Container>\n      <IconContainer error={error}>\n        {error ? (\n          <MdError style={{ width: \"1.25rem\", height: \"1.25rem\" }} />\n        ) : (\n          <MdBeenhere style={{ width: \"1.25rem\", height: \"1.25rem\" }} />\n        )}\n      </IconContainer>\n      <TextContainer>\n        <InfoHeading>\n          {type === \"Order\"\n            ? error\n              ? t(\"toast:swapFail\")\n              : t(\"toast:swapComplete\")\n            : error\n            ? t(\"toast:approvalFail\")\n            : t(\"toast:approvalComplete\")}\n        </InfoHeading>\n        <InfoSubHeading>\n          {type === \"Order\"\n            ? transaction && senderToken && signerToken\n              ? t(\"toast:transaction\", {\n                  senderAmount: parseFloat(\n                    Number(\n                      formatUnits(\n                        (transaction as SubmittedOrder).order.senderAmount,\n                        senderToken.decimals\n                      )\n                    ).toFixed(5)\n                  ),\n                  senderToken: senderToken.symbol,\n                  signerAmount: parseFloat(\n                    Number(\n                      formatUnits(\n                        (transaction as SubmittedOrder).order.signerAmount,\n                        signerToken.decimals\n                      )\n                    ).toFixed(5)\n                  ),\n                  signerToken: signerToken.symbol,\n                })\n              : null\n            : t(\"toast:approve\", { symbol: approvalToken?.symbol })}\n        </InfoSubHeading>\n      </TextContainer>\n      <HiXContainer>\n        <HiX\n          style={{\n            width: \"1rem\",\n            height: \"1rem\",\n            cursor: \"pointer\",\n          }}\n          onClick={onClose}\n        />\n      </HiXContainer>\n    </Container>\n  );\n};\n\nexport default TransactionToast;\n","import toast from \"react-hot-toast\";\n\nimport { findTokenByAddress } from \"@airswap/metadata\";\nimport { TokenInfo } from \"@uniswap/token-lists\";\n\nimport {\n  SubmittedApproval,\n  SubmittedOrder,\n} from \"../../features/transactions/transactionsSlice\";\nimport TransactionToast from \"./TransactionToast\";\n\ntype typeProps = \"Approval\" | \"Order\";\ntype transactionType = SubmittedOrder | SubmittedApproval;\n\nexport const notifyTransaction = (\n  type: typeProps,\n  transaction: transactionType,\n  tokens: TokenInfo[],\n  error: boolean\n) => {\n  let token: TokenInfo;\n  if (type === \"Order\") {\n    const tx: SubmittedOrder = transaction as SubmittedOrder;\n    const senderToken = findTokenByAddress(tx.order.senderToken, tokens);\n    const signerToken = findTokenByAddress(tx.order.signerToken, tokens);\n    toast(\n      (t) => (\n        <TransactionToast\n          onClose={() => toast.dismiss(t.id)}\n          type={type}\n          transaction={transaction}\n          senderToken={senderToken}\n          signerToken={signerToken}\n          error={error}\n        />\n      ),\n      {\n        duration: 15000,\n      }\n    );\n  } else {\n    const tx: SubmittedApproval = transaction as SubmittedApproval;\n    token = findTokenByAddress(tx.tokenAddress, tokens);\n    toast(\n      (t) => (\n        <TransactionToast\n          onClose={() => toast.dismiss(t.id)}\n          type={type}\n          transaction={transaction}\n          approvalToken={token}\n          error={error}\n        />\n      ),\n      {\n        duration: 15000,\n      }\n    );\n  }\n};\n","import { createAction } from \"@reduxjs/toolkit\";\n\nimport { SubmittedTransaction, SubmittedApproval } from \"./transactionsSlice\";\n\nconst submitTransaction = createAction<\n  SubmittedTransaction | SubmittedApproval\n>(\"transaction/submitTransaction\");\n\nconst declineTransaction = createAction<{\n  hash: string;\n  reason: string;\n}>(\"transactions/declineTransaction\");\n\nconst mineTransaction = createAction<string>(\"transaction/mineTransaction\");\n\nconst revertTransaction = createAction<{\n  hash: string;\n  reason: string;\n}>(\"transactions/revertTransaction\");\n\nexport {\n  submitTransaction,\n  declineTransaction,\n  mineTransaction,\n  revertTransaction,\n};\n","import { Registry, Light, ERC20 } from \"@airswap/protocols\";\nimport { LightOrder } from \"@airswap/types\";\nimport { toAtomicString } from \"@airswap/utils\";\n\nimport { BigNumber, ethers, Transaction } from \"ethers\";\n\nconst REQUEST_ORDER_TIMEOUT_MS = 5000;\n\nexport async function requestOrder(\n  chainId: number,\n  signerToken: string,\n  senderToken: string,\n  senderAmount: string,\n  senderTokenDecimals: number,\n  senderWallet: string,\n  provider: ethers.providers.Web3Provider\n): Promise<LightOrder[]> {\n  // @ts-ignore TODO: type compatability issue with AirSwap lib\n  const servers = await new Registry(chainId, provider).getServers(\n    signerToken,\n    senderToken\n  );\n  if (!servers.length) {\n    throw new Error(\"no peers\");\n  }\n  const orderPromises = servers.map(async (server) => {\n    const order = await Promise.race([\n      server.getSignerSideOrder(\n        toAtomicString(senderAmount, senderTokenDecimals),\n        signerToken,\n        senderToken,\n        senderWallet\n      ),\n      // Servers should respond in a timely manner for orders to be considered\n      new Promise((resolve, reject) =>\n        setTimeout(() => {\n          reject(\"ETIMEDOUT\");\n        }, REQUEST_ORDER_TIMEOUT_MS)\n      ),\n    ]);\n    return (order as any) as LightOrder;\n  });\n  const orders = await Promise.allSettled(orderPromises);\n  const successfulOrders = orders\n    .filter((result) => result.status === \"fulfilled\")\n    .map((result) => (result as PromiseFulfilledResult<LightOrder>).value);\n  return successfulOrders;\n}\n\nexport async function approveToken(\n  senderToken: string,\n  provider: ethers.providers.Web3Provider\n) {\n  const spender = Light.getAddress(provider.network.chainId);\n  const approvalTxHash = await new ERC20(senderToken).approve(\n    spender,\n    // @ts-ignore TODO: type compatability issue with AirSwap lib\n    provider.getSigner()\n  );\n  return (approvalTxHash as any) as Transaction;\n}\n\nexport async function takeOrder(\n  order: LightOrder,\n  provider: ethers.providers.Web3Provider\n) {\n  // @ts-ignore TODO: type compatability issue with AirSwap lib\n  const tx = await new Light(provider.network.chainId, provider).swap(\n    order,\n    // @ts-ignore TODO: type compatability issue with AirSwap lib\n    provider.getSigner()\n  );\n  return (tx as any) as Transaction;\n}\n\nexport function orderSortingFunction(a: LightOrder, b: LightOrder) {\n  // If tokens transferred are the same\n  if (a.signerAmount === b.signerAmount && a.senderAmount === b.senderAmount) {\n    return parseInt(b.expiry) - parseInt(a.expiry);\n  }\n  if (a.signerAmount === b.signerAmount) {\n    // Likely senderSide\n    // Sort orders by amount of senderToken sent (ascending).\n    const aAmount = BigNumber.from(a.senderAmount);\n    const bAmount = BigNumber.from(b.senderAmount);\n    if (bAmount.lt(aAmount)) return 1;\n    else return -1;\n  } else {\n    // Likely signerSide\n    // Sort orders by amount of signerToken received (descending).\n    const aAmount = BigNumber.from(a.signerAmount);\n    const bAmount = BigNumber.from(b.signerAmount);\n    if (bAmount.gt(aAmount)) return 1;\n    else return -1;\n  }\n}\n","import { LightOrder } from \"@airswap/types\";\nimport { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\n\nimport { Transaction } from \"ethers\";\n\nimport { RootState } from \"../../app/store\";\nimport { notifyTransaction } from \"../../components/Toasts/ToastController\";\nimport { allowancesActions } from \"../balances/balancesSlice\";\nimport {\n  submitTransaction,\n  mineTransaction,\n  revertTransaction,\n  declineTransaction,\n} from \"../transactions/transactionActions\";\nimport {\n  SubmittedOrder,\n  SubmittedApproval,\n} from \"../transactions/transactionsSlice\";\nimport {\n  setWalletConnected,\n  setWalletDisconnected,\n} from \"../wallet/walletSlice\";\nimport {\n  requestOrder,\n  takeOrder,\n  approveToken,\n  orderSortingFunction,\n} from \"./orderAPI\";\n\nexport interface OrdersState {\n  orders: LightOrder[];\n  status: \"idle\" | \"requesting\" | \"approving\" | \"taking\" | \"failed\";\n}\n\nconst initialState: OrdersState = {\n  orders: [],\n  status: \"idle\",\n};\n\nexport const request = createAsyncThunk(\n  \"orders/request\",\n  async (params: {\n    chainId: number;\n    signerToken: string;\n    senderToken: string;\n    senderAmount: string;\n    senderTokenDecimals: number;\n    senderWallet: string;\n    provider: any;\n  }) =>\n    await requestOrder(\n      params.chainId,\n      params.signerToken,\n      params.senderToken,\n      params.senderAmount,\n      params.senderTokenDecimals,\n      params.senderWallet,\n      params.provider\n    )\n);\n\nexport const approve = createAsyncThunk(\n  \"orders/approve\",\n  async (params: any, { getState, dispatch }) => {\n    let tx: Transaction;\n    try {\n      tx = await approveToken(params.token, params.library);\n      if (tx.hash) {\n        const transaction: SubmittedApproval = {\n          type: \"Approval\",\n          hash: tx.hash,\n          status: \"processing\",\n          tokenAddress: params.token,\n          timestamp: Date.now(),\n        };\n        dispatch(submitTransaction(transaction));\n        params.library.once(tx.hash, async () => {\n          const receipt = await params.library.getTransactionReceipt(tx.hash);\n          const state: RootState = getState() as RootState;\n          const tokens = Object.values(state.metadata.tokens.all);\n          if (receipt.status === 1) {\n            dispatch(mineTransaction(receipt.transactionHash));\n            // Optimistically update allowance (this is not really optimisitc,\n            // but it pre-empts receiving the event)\n            dispatch(\n              allowancesActions.set({\n                tokenAddress: params.token,\n                amount: \"90071992547409910000000000\",\n              })\n            );\n            notifyTransaction(\"Approval\", transaction, tokens, false);\n          } else {\n            dispatch(revertTransaction(receipt.transactionHash));\n            notifyTransaction(\"Approval\", transaction, tokens, true);\n          }\n        });\n      }\n    } catch (e) {\n      console.error(e);\n      dispatch(declineTransaction(e.message));\n      throw e;\n    }\n  }\n);\n\nexport const take = createAsyncThunk(\n  \"orders/take\",\n  async (\n    params: { order: LightOrder; library: any },\n    { getState, dispatch }\n  ) => {\n    let tx: Transaction;\n    try {\n      tx = await takeOrder(params.order, params.library);\n      if (tx.hash) {\n        const transaction: SubmittedOrder = {\n          type: \"Order\",\n          order: params.order,\n          hash: tx.hash,\n          status: \"processing\",\n          timestamp: Date.now(),\n        };\n        dispatch(submitTransaction(transaction));\n        params.library.once(tx.hash, async () => {\n          const receipt = await params.library.getTransactionReceipt(tx.hash);\n          const state: RootState = getState() as RootState;\n          const tokens = Object.values(state.metadata.tokens.all);\n          if (receipt.status === 1) {\n            dispatch(mineTransaction(receipt.transactionHash));\n            notifyTransaction(\"Order\", transaction, tokens, false);\n          } else {\n            dispatch(revertTransaction(receipt.transactionHash));\n            notifyTransaction(\"Order\", transaction, tokens, true);\n          }\n        });\n      }\n    } catch (e) {\n      console.error(e);\n      dispatch(declineTransaction(e.message));\n      throw e;\n    }\n  }\n);\n\nexport const ordersSlice = createSlice({\n  name: \"orders\",\n  initialState,\n  reducers: {\n    clear: (state) => {\n      state.orders = [];\n      state.status = \"idle\";\n    },\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(request.pending, (state) => {\n        state.status = \"requesting\";\n      })\n      .addCase(request.fulfilled, (state, action) => {\n        state.status = \"idle\";\n        state.orders = action.payload!;\n      })\n      .addCase(request.rejected, (state, action) => {\n        state.status = \"failed\";\n        state.orders = [];\n      })\n      .addCase(take.pending, (state) => {\n        state.status = \"taking\";\n      })\n      .addCase(take.fulfilled, (state, action) => {\n        state.status = \"idle\";\n      })\n      .addCase(take.rejected, (state, action) => {\n        state.status = \"failed\";\n      })\n      .addCase(approve.pending, (state) => {\n        state.status = \"approving\";\n      })\n      .addCase(approve.fulfilled, (state) => {\n        state.status = \"idle\";\n      })\n      .addCase(approve.rejected, (state) => {\n        state.status = \"failed\";\n      })\n      .addCase(setWalletConnected, (state) => {\n        state.status = \"idle\";\n        state.orders = [];\n      })\n      .addCase(setWalletDisconnected, (state) => {\n        state.status = \"idle\";\n        state.orders = [];\n      });\n  },\n});\n\nexport const { clear } = ordersSlice.actions;\n/**\n * Sorts orders and returns the best order based on tokens received or sent\n * then falling back to expiry.\n */\nexport const selectBestOrder = (state: RootState) =>\n  // Note that `.sort` mutates the array, so we need to clone it first to\n  // prevent mutating state.\n  [...state.orders.orders].sort(orderSortingFunction)[0];\n\nexport const selectSortedOrders = (state: RootState) =>\n  [...state.orders.orders].sort(orderSortingFunction);\nexport const selectOrdersStatus = (state: RootState) => state.orders.status;\nexport default ordersSlice.reducer;\n","import { LightOrder } from \"@airswap/types\";\nimport { createSlice } from \"@reduxjs/toolkit\";\n\nimport { RootState } from \"../../app/store\";\nimport {\n  submitTransaction,\n  declineTransaction,\n  revertTransaction,\n  mineTransaction,\n} from \"./transactionActions\";\n\nexport interface SubmittedTransaction {\n  type: \"Approval\" | \"Order\";\n  hash: string;\n  status: \"processing\" | \"succeeded\" | \"reverted\";\n  timestamp: number;\n}\n\nexport interface SubmittedOrder extends SubmittedTransaction {\n  order: LightOrder;\n}\n\nexport interface SubmittedApproval extends SubmittedTransaction {\n  tokenAddress: string;\n}\n\nexport interface TransactionsState {\n  all: SubmittedTransaction[];\n}\n\nconst initialState: TransactionsState = {\n  all: [],\n};\n\nfunction updateTransaction(\n  state: TransactionsState,\n  hash: string,\n  status: \"processing\" | \"succeeded\" | \"reverted\"\n) {\n  for (let i in state.all) {\n    if (state.all[i].hash === hash) {\n      state.all[i] = {\n        ...state.all[i],\n        status,\n      };\n      break;\n    }\n  }\n}\n\nexport const transactionsSlice = createSlice({\n  name: \"transactions\",\n  initialState,\n  reducers: {\n    clear: (state) => {\n      state.all = [];\n    },\n    setTransactions: (state, action) => {\n      try {\n        state.all = action.payload.all;\n      } catch (err) {\n        console.error(err);\n        state.all = [];\n      }\n    },\n  },\n  extraReducers: (builder) => {\n    builder.addCase(submitTransaction, (state, action) => {\n      state.all.unshift(action.payload);\n    });\n    builder.addCase(declineTransaction, (state, action) => {\n      console.error(action.payload);\n    });\n    builder.addCase(revertTransaction, (state, action) => {\n      updateTransaction(state, action.payload.hash, \"reverted\");\n    });\n    builder.addCase(mineTransaction, (state, action) => {\n      updateTransaction(state, action.payload, \"succeeded\");\n    });\n  },\n});\n\nexport const { clear, setTransactions } = transactionsSlice.actions;\nexport const selectTransactions = (state: RootState) => state.transactions.all;\nexport const selectPendingApprovals = (state: RootState) =>\n  state.transactions.all.filter(\n    (tx) => tx.status === \"processing\" && tx.type === \"Approval\"\n  ) as SubmittedApproval[];\nexport default transactionsSlice.reducer;\n","import { MdKeyboardArrowDown } from \"react-icons/md\";\n\nimport styled, { css } from \"styled-components/macro\";\n\nimport {\n  SelectItem,\n  FormLabel,\n  FormInput,\n  Metadata,\n} from \"../Typography/Typography\";\n\nexport const FlexRow = styled.div`\n  display: flex;\n  flex-direction: row;\n`;\n\nexport const AmountAndDetailsContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  min-width: 0;\n  text-align: right;\n`;\n\nexport const InputAndMaxButtonWrapper = styled.div`\n  display: flex;\n  min-width: 0;\n  gap: 0.75rem;\n`;\n\nexport const MaxButton = styled.button`\n  position: relative;\n  bottom: 1px;\n  letter-spacing: 0.07rem;\n  align-self: center;\n  padding: 0.125rem;\n  border-radius: 0.125rem;\n  font-weight: 600;\n  font-size: 0.5rem;\n  line-height: 1;\n  text-transform: uppercase;\n  background-color: ${(props) => props.theme.colors.lightGrey};\n  color: ${(props) => props.theme.colors.black};\n  opacity: 0.6;\n  transition: opacity 0.3s ease-in-out;\n  &:hover {\n    opacity: 1;\n  }\n`;\n\nexport const TokenSelectContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  width: 100%;\n  height: 5rem;\n  padding: 1.25em;\n  margin-bottom: 0.625rem;\n  border: 1px solid ${(props) => props.theme.colors.borderGrey};\n  border-radius: 2px;\n  background-color: ${(props) =>\n    props.theme.name === \"dark\"\n      ? props.theme.colors.darkGrey\n      : props.theme.colors.alwaysWhite};\n`;\n\nconst fadeOutWhenInvisible = css<{ invisible: boolean }>`\n  transition: opacity ease-in-out 0.3s;\n  will-change: opacity;\n  opacity: ${(props) => (props.invisible ? 0 : 1)};\n`;\n\nexport const StyledLabel = styled(FormLabel)<{ invisible: boolean }>`\n  ${fadeOutWhenInvisible}\n`;\n\nexport const StyledSelectButtonContent = styled.span<{ emphasize: boolean }>`\n  transition: transform ease-in-out 0.3s;\n  will-change: transform;\n  transform: ${(props) =>\n    props.emphasize\n      ? \"translateY(-0.625rem) scale(1.111111)\"\n      : \"translateY(0) scale(1)\"};\n`;\n\nexport const StyledDownArrow = styled(MdKeyboardArrowDown)<{\n  invisible: boolean;\n}>`\n  ${fadeOutWhenInvisible}\n`;\n\nexport const StyledSelectButton = styled.button`\n  display: flex;\n  flex-direction: column;\n  margin-left: 0.9375rem;\n  cursor: ${(props) => (props.disabled ? \"initial\" : \"pointer\")};\n`;\n\nexport const StyledSelectItem = styled(SelectItem)`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  gap: 0.5rem;\n`;\n\nexport const AmountInput = styled(FormInput)<{ hasSubtext: boolean }>`\n  padding-right: 0;\n  margin-top: ${(props) => (props.hasSubtext ? \"-0.75rem\" : 0)};\n  text-align: right;\n`;\n\nexport const AmountSubtext = styled(Metadata)`\n  margin-top: -0.25rem;\n`;\n\nexport const PlaceholderContainer = styled.div`\n  display: flex;\n  flex: 1 1 0;\n  flex-direction: column;\n  align-items: flex-end;\n  gap: 0.3125rem;\n  max-width: 50%;\n`;\n\nexport const PlaceholderTop = styled.div`\n  height: 1.25rem;\n  width: 100%;\n  background-image: ${(props) => props.theme.colors.placeholderGradient};\n`;\n\nexport const PlaceholderBottom = styled.div`\n  height: 0.9375rem;\n  width: 75%;\n  background-image: ${(props) => props.theme.colors.placeholderGradient};\n`;\n","import { FC, MouseEventHandler, FormEventHandler } from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { TokenInfo } from \"@uniswap/token-lists\";\n\nimport TokenLogo from \"../TokenLogo/TokenLogo\";\nimport {\n  AmountInput,\n  AmountAndDetailsContainer,\n  AmountSubtext,\n  FlexRow,\n  TokenSelectContainer,\n  StyledSelectItem,\n  StyledSelectButton,\n  PlaceholderContainer,\n  PlaceholderTop,\n  PlaceholderBottom,\n  StyledLabel,\n  StyledDownArrow,\n  StyledSelectButtonContent,\n  InputAndMaxButtonWrapper,\n  MaxButton,\n} from \"./TokenSelect.styles\";\n\nexport type TokenSelectProps = {\n  /**\n   * Whether or not the token selector is read only, e.g. when used to display\n   * a quote.\n   */\n  readOnly: boolean;\n  /**\n   * Whether or not to display an amount input with the token select, or to\n   * display a placeholder, e.g. when used to select received token where amount\n   * isn't known yet.\n   */\n  includeAmountInput: boolean;\n  /**\n   * Label - note that this is not shown if the field is readOnly.\n   */\n  label: string;\n  /**\n   * Metadata for currently selected token\n   */\n  selectedToken: TokenInfo | null;\n  /**\n   * Called when the user has clicked on the token dropdown to change token\n   */\n  onChangeTokenClicked: MouseEventHandler<HTMLButtonElement>;\n  /**\n   * Called when user clicks the 'use max' button. Presence of this prop is used\n   * to imply presence of use max button in DOM.\n   */\n  onMaxClicked?: MouseEventHandler<HTMLButtonElement>;\n  /**\n   * Currently selected amount. Not used if `includeAmountInput` is false.\n   */\n  amount?: string | null;\n  /**\n   * Called when the amount is changed. Input change event is passed.\n   */\n  onAmountChange?: FormEventHandler<HTMLInputElement>;\n  /**\n   * Text to include beneath the amount. Currently used for fee information.\n   */\n  amountDetails?: string;\n};\n\nconst TokenSelect: FC<TokenSelectProps> = ({\n  readOnly,\n  includeAmountInput,\n  label,\n  selectedToken,\n  onChangeTokenClicked,\n  onMaxClicked,\n  amount,\n  onAmountChange,\n  amountDetails,\n}) => {\n  const { t } = useTranslation([\"common\"]);\n  return (\n    <TokenSelectContainer>\n      <FlexRow>\n        <TokenLogo size=\"large\" tokenInfo={selectedToken} />\n        <StyledSelectButton onClick={onChangeTokenClicked} disabled={readOnly}>\n          <StyledLabel invisible={readOnly}>{label}</StyledLabel>\n          <StyledSelectItem>\n            <StyledSelectButtonContent emphasize={readOnly}>\n              {selectedToken ? selectedToken.symbol : t(\"common:select\")}\n            </StyledSelectButtonContent>\n            <StyledDownArrow invisible={readOnly} />\n          </StyledSelectItem>\n        </StyledSelectButton>\n      </FlexRow>\n      {includeAmountInput ? (\n        <InputAndMaxButtonWrapper>\n          <AmountAndDetailsContainer>\n            <AmountInput\n              // @ts-ignore\n              inputMode=\"decimal\"\n              autoComplete=\"off\"\n              pattern=\"^[0-9]*[.,]?[0-9]*$\"\n              minLength={1}\n              maxLength={79}\n              spellCheck={false}\n              value={amount}\n              disabled={readOnly}\n              onChange={onAmountChange}\n              placeholder=\"0.00\"\n              hasSubtext={!!amountDetails}\n            />\n            {amountDetails && <AmountSubtext>{amountDetails}</AmountSubtext>}\n          </AmountAndDetailsContainer>\n          {onMaxClicked && !readOnly && (\n            <MaxButton onClick={onMaxClicked}>{t(\"common:max\")}</MaxButton>\n          )}\n        </InputAndMaxButtonWrapper>\n      ) : (\n        <PlaceholderContainer>\n          <PlaceholderTop />\n          <PlaceholderBottom />\n        </PlaceholderContainer>\n      )}\n    </TokenSelectContainer>\n  );\n};\n\nexport default TokenSelect;\n","import { AbstractConnector } from \"@web3-react/abstract-connector\";\nimport { InjectedConnector } from \"@web3-react/injected-connector\";\nimport { WalletConnectConnector } from \"@web3-react/walletconnect-connector\";\n\nimport metamaskLogo from \"../assets/wallet-provider-logos/metamask.svg\";\nimport walletconnectLogo from \"../assets/wallet-provider-logos/walletconnect.svg\";\n\nexport type WalletProvider = {\n  name: string;\n  logo: string;\n  getConnector: () => AbstractConnector;\n};\n\nconst SUPPORTED_WALLET_PROVIDERS: WalletProvider[] = [\n  {\n    name: \"MetaMask\",\n    logo: metamaskLogo,\n    getConnector: () =>\n      new InjectedConnector({\n        supportedChainIds: [\n          1, // Mainet\n          3, // Ropsten\n          4, // Rinkeby\n          5, // Goerli\n          42, // Kovan\n        ],\n      }),\n  },\n  {\n    name: \"WalletConnect\",\n    logo: walletconnectLogo,\n    getConnector: () =>\n      new WalletConnectConnector({\n        rpc: {\n          1: process.env.REACT_APP_RPC_URL_1 || \"\",\n          4: process.env.REACT_APP_RPC_URL_4 || \"\",\n        },\n      }),\n  },\n];\n\nexport default SUPPORTED_WALLET_PROVIDERS;\n\nexport { AbstractConnector };\n","export default __webpack_public_path__ + \"static/media/metamask.45038d58.svg\";","export default __webpack_public_path__ + \"static/media/walletconnect.dfa25e47.svg\";","import styled from \"styled-components/macro\";\n\nexport const StyledWalletProviderList = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\nexport const StyledButton = styled.button`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  position: relative;\n  padding: 0.5rem;\n  height: 3.5rem;\n  background: ${(props) => props.theme.colors.black};\n\n  &:hover {\n    background: ${(props) => props.theme.colors.darkGrey};\n  }\n\n  & + & {\n    margin-top: 0.75em;\n  }\n`;\n\nexport const ButtonIconContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  position: relative;\n  width: 3.5rem;\n  height: 100%;\n`;\n\nexport const ButtonIcon = styled.img`\n  width: 100%;\n  height: auto;\n`;\n\nexport const ButtonText = styled.h4`\n  margin-left: 1rem;\n  width: 100%;\n  height: auto;\n  font-weight: 600;\n  text-align: left;\n  text-transform: uppercase;\n`;\n","import SUPPORTED_WALLET_PROVIDERS, {\n  WalletProvider,\n} from \"../../constants/supportedWalletProviders\";\nimport {\n  StyledButton,\n  ButtonIconContainer,\n  StyledWalletProviderList,\n  ButtonIcon,\n  ButtonText,\n} from \"./WalletProviderList.styles\";\n\nexport type WalletProviderListProps = {\n  onProviderSelected: (provider: WalletProvider) => void;\n};\n\nconst WalletProviderList = ({\n  onProviderSelected,\n}: WalletProviderListProps) => {\n  return (\n    <StyledWalletProviderList>\n      {SUPPORTED_WALLET_PROVIDERS.map((provider) => (\n        <StyledButton\n          key={provider.name}\n          onClick={() => {\n            onProviderSelected(provider);\n          }}\n        >\n          <ButtonIconContainer>\n            <ButtonIcon\n              src={provider.logo}\n              alt={`${provider.name} logo`}\n              className=\"w-12 h-12\"\n            />\n          </ButtonIconContainer>\n          <ButtonText>{provider.name}</ButtonText>\n        </StyledButton>\n      ))}\n    </StyledWalletProviderList>\n  );\n};\n\nexport default WalletProviderList;\n","import { useState, useEffect } from \"react\";\n\nexport type TimerProps = {\n  className?: string;\n  /**\n   * Expiration time in unix timestamp (s)\n   */\n  expiryTime: number;\n  onTimerComplete: () => void;\n};\n\nexport const Timer = ({\n  expiryTime = Date.now() / 1000 + 300,\n  onTimerComplete,\n}: TimerProps) => {\n  const [distance, setDistance] = useState<number>(\n    Math.floor(expiryTime - Date.now() / 1000)\n  );\n\n  useEffect(() => {\n    let interval = setInterval(() => {\n      const dist: number = Math.floor(expiryTime - Date.now() / 1000);\n\n      if (dist <= 0) {\n        setDistance(0);\n        clearInterval(interval);\n        onTimerComplete();\n        return;\n      }\n\n      setDistance(dist);\n    }, 1000);\n    return () => {\n      clearInterval(interval);\n    };\n  }, [expiryTime, onTimerComplete]);\n\n  return distance !== undefined ? (\n    <span>\n      {Math.floor(distance / 60)}:\n      {Math.floor(distance % 60) < 10\n        ? `0${Math.floor(distance % 60)}`\n        : Math.floor(distance % 60)}\n    </span>\n  ) : null;\n};\n\nexport default Timer;\n","import { IoMdSwap } from \"react-icons/io\";\n\nimport styled from \"styled-components/macro\";\n\nexport const StyledInvertPriceButton = styled.button`\n  margin-left: 0.5rem;\n`;\n\nexport const StyledInvertPriceIcon = styled(IoMdSwap)`\n  position: relative;\n  top: 0.4rem;\n  margin-top: -0.5rem;\n  font-size: 1.5rem;\n`;\n\nexport const TimerContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: 0.25rem 1.5rem;\n  margin-top: 0.875rem;\n  border: 1px solid ${(props) => props.theme.colors.borderGrey};\n  border-radius: 1rem;\n`;\n\nexport const NewQuoteText = styled.span`\n  font-size: 0.75rem;\n  line-height: 2;\n  font-weight: 700;\n  text-transform: uppercase;\n`;\n\nexport const TimerText = styled(NewQuoteText)`\n  /* Fixed width to prevent jumping around as timer reduces */\n  width: 2rem;\n  color: ${(props) =>\n    props.theme.name === \"dark\"\n      ? props.theme.colors.white\n      : props.theme.colors.primary};\n  margin-left: 0.25rem;\n`;\n","import { FC, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { LightOrder } from \"@airswap/types\";\nimport { TokenInfo } from \"@uniswap/token-lists\";\n\nimport { BigNumber } from \"bignumber.js\";\n\nimport Timer from \"../../components/Timer/Timer\";\nimport stringToSignificantDecimals from \"../../helpers/stringToSignificantDecimals\";\nimport { InfoHeading, InfoSubHeading } from \"../Typography/Typography\";\nimport {\n  StyledInvertPriceButton,\n  StyledInvertPriceIcon,\n  TimerContainer,\n  NewQuoteText,\n  TimerText,\n} from \"./InfoSection.styles\";\n\nexport type InfoSectionProps = {\n  isConnected: boolean;\n  isPairUnavailable: boolean;\n  orderSubmitted: boolean;\n  isFetchingOrders: boolean;\n  isApproving: boolean;\n  isSwapping: boolean;\n  order: LightOrder | null;\n  requiresApproval: boolean;\n  signerTokenInfo: TokenInfo | null;\n  senderTokenInfo: TokenInfo | null;\n  timerExpiry: number | null;\n  onTimerComplete: () => void;\n};\n\nconst InfoSection: FC<InfoSectionProps> = ({\n  isConnected,\n  isPairUnavailable,\n  orderSubmitted,\n  isApproving,\n  isSwapping,\n  order,\n  isFetchingOrders,\n  requiresApproval,\n  senderTokenInfo,\n  signerTokenInfo,\n  timerExpiry,\n  onTimerComplete,\n}) => {\n  const { t } = useTranslation([\"orders\", \"marketing\"]);\n  const [invertPrice, setInvertPrice] = useState<boolean>(false);\n  // Wallet not connected.\n  if (!isConnected) {\n    return (\n      <>\n        <InfoHeading>{t(\"marketing:useAtOwnRisk\")}</InfoHeading>\n        <InfoSubHeading>{t(\"marketing:alphaPreview\")}</InfoSubHeading>\n      </>\n    );\n  }\n\n  if (isFetchingOrders) {\n    return (\n      <>\n        <InfoHeading>{t(\"orders:findingBestPrice\")}</InfoHeading>\n        <InfoSubHeading>{t(\"orders:scanningPeers\")}</InfoSubHeading>\n      </>\n    );\n  }\n\n  if (isPairUnavailable) {\n    return (\n      <>\n        <InfoHeading>{t(\"orders:tokenPairUnavailable\")}</InfoHeading>\n        <InfoSubHeading>{t(\"orders:retryOrCancel\")}</InfoSubHeading>\n      </>\n    );\n  }\n\n  if (orderSubmitted) {\n    return (\n      <>\n        <InfoHeading>{t(\"orders:submitted\")}</InfoHeading>\n        <InfoSubHeading>{t(\"orders:trackTransaction\")}</InfoSubHeading>\n      </>\n    );\n  }\n\n  if (isApproving) {\n    return (\n      <>\n        <InfoHeading>\n          {t(\"orders:approvePending\", { symbol: senderTokenInfo!.symbol })}\n        </InfoHeading>\n        <InfoSubHeading>{t(\"orders:approveMessage\")}</InfoSubHeading>\n      </>\n    );\n  }\n\n  if (isSwapping) {\n    return (\n      <>\n        <InfoHeading>{t(\"orders:swapPending\")}</InfoHeading>\n        <InfoSubHeading>{t(\"orders:swapMessage\")}</InfoSubHeading>\n      </>\n    );\n  }\n\n  if (!!order) {\n    // TODO: ideally refactor out bignumber.js\n    let price = new BigNumber(order.signerAmount)\n      .dividedBy(new BigNumber(order.senderAmount))\n      .dividedBy(10 ** (signerTokenInfo!.decimals - senderTokenInfo!.decimals));\n\n    if (invertPrice) {\n      price = new BigNumber(1).dividedBy(price);\n    }\n\n    return (\n      <>\n        <InfoHeading>\n          1 {invertPrice ? signerTokenInfo!.symbol : senderTokenInfo!.symbol} ={\" \"}\n          {stringToSignificantDecimals(price.toString())}{\" \"}\n          {invertPrice ? senderTokenInfo!.symbol : signerTokenInfo!.symbol}\n          <StyledInvertPriceButton onClick={() => setInvertPrice((p) => !p)}>\n            <StyledInvertPriceIcon />\n          </StyledInvertPriceButton>\n        </InfoHeading>\n        {requiresApproval ? (\n          <InfoSubHeading>\n            {t(\"orders:approvalRequired\", { symbol: senderTokenInfo!.symbol })}\n          </InfoSubHeading>\n        ) : (\n          <InfoSubHeading>\n            <TimerContainer>\n              <NewQuoteText>{t(\"orders:newQuoteIn\")}</NewQuoteText>\n              {order && (\n                <TimerText>\n                  <Timer\n                    expiryTime={timerExpiry!}\n                    onTimerComplete={onTimerComplete}\n                  ></Timer>\n                </TimerText>\n              )}\n            </TimerContainer>\n          </InfoSubHeading>\n        )}\n      </>\n    );\n  }\n\n  // No order & not fetching, but wallet connected.\n  return (\n    <>\n      <InfoHeading>{t(\"marketing:useAtOwnRisk\")}</InfoHeading>\n      <InfoSubHeading>{t(\"marketing:alphaPreview\")}</InfoSubHeading>\n    </>\n  );\n};\n\nexport default InfoSection;\n","import { AiOutlineLoading } from \"react-icons/ai\";\n\nimport styled, { keyframes } from \"styled-components/macro\";\n\nconst LoadingSpinnerContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n`;\n\nconst spin = keyframes`\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n`;\n\nconst SpinningIcon = styled(AiOutlineLoading)`\n  animation: ${spin} 1s linear infinite;\n`;\n\nconst LoadingSpinner = () => {\n  return (\n    <LoadingSpinnerContainer>\n      <SpinningIcon />\n    </LoadingSpinnerContainer>\n  );\n};\n\nexport default LoadingSpinner;\n","import styled, { DefaultTheme } from \"styled-components/macro\";\n\nimport { ButtonIntent, ButtonProps } from \"./Button\";\n\nfunction getButtonBackground(\n  theme: DefaultTheme,\n  intent?: ButtonIntent\n): string {\n  switch (intent) {\n    case \"destructive\":\n      return theme.colors.red;\n    case \"positive\":\n      return theme.colors.green;\n    case \"neutral\":\n      return theme.colors.black;\n    default:\n      return theme.colors.primary;\n  }\n}\n\nexport const Text = styled.div`\n  transition: opacity 0.3s ease-out;\n`;\n\nexport const StyledButton = styled.button<ButtonProps>`\n  display: flex;\n  align-items: center;\n  justify-content: ${(props) => props.justifyContent || \"center\"};\n  width: 100%;\n  height: 3.125rem;\n  padding: 0 1rem;\n  font-size: 1rem;\n  font-weight: 600;\n  text-transform: uppercase;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  border-radius: 2px;\n  border-style: ${(props) => (props.intent === \"neutral\" ? \"solid\" : \"none\")};\n  border-width: 1px;\n  border-color: ${(props) => props.theme.colors.borderGrey};\n  /* Use blue text on a netral light mode button, otherwise white. */\n  color: ${(props) =>\n    props.intent === \"neutral\" && props.theme.name === \"light\"\n      ? props.theme.colors.primary\n      : props.theme.colors.alwaysWhite};\n  background: ${(props) => getButtonBackground(props.theme, props.intent)};\n  pointer-events: ${(props) => (props.disabled ? \"none\" : \"visible\")};\n  cursor: ${(props) => (props.disabled ? \"none\" : \"pointer\")};\n\n  ${Text} {\n    margin-right: ${(props) => (props.loading ? \"1rem\" : 0)};\n    opacity: ${(props) => (props.disabled ? 0.5 : 1)};\n  }\n`;\n","import React from \"react\";\n\nimport LoadingSpinner from \"../LoadingSpinner/LoadingSpinner\";\nimport { StyledButton, Text } from \"./Button.styles\";\n\nexport type ButtonIntent = \"neutral\" | \"primary\" | \"positive\" | \"destructive\";\ntype ButtonJustifyContent = \"center\" | \"flex-start\" | \"flex-end\";\n\nexport type ButtonProps = {\n  children: React.ReactNode;\n  className?: string;\n  /**\n   * Intent affects the appearance of the button\n   */\n  intent?: ButtonIntent;\n  /**\n   * Intent affects the appearance of the button\n   */\n  justifyContent?: ButtonJustifyContent;\n  /**\n   * Whether or not the button should be disabled. Clicking a disabled button\n   * has no effect.\n   */\n  disabled?: boolean;\n  /**\n   * Whether or not to show a loading spinner within the button. This also\n   * prevents further clicks on the button\n   */\n  loading?: boolean;\n} & React.ButtonHTMLAttributes<HTMLButtonElement>;\n\nexport const Button = ({\n  children,\n  className = \"\",\n  intent = \"neutral\",\n  justifyContent = \"center\",\n  disabled = false,\n  loading = false,\n  onClick,\n  ...rest\n}: ButtonProps) => {\n  return (\n    <StyledButton\n      className={className}\n      loading={loading}\n      intent={intent}\n      disabled={disabled || loading}\n      justifyContent={justifyContent}\n      onClick={(e) => {\n        !loading && onClick && onClick(e);\n      }}\n      {...rest}\n    >\n      <Text>{children}</Text>\n      {loading && <LoadingSpinner />}\n    </StyledButton>\n  );\n};\n\nexport default Button;\n","import { MdDoneAll } from \"react-icons/md\";\n\nimport styled from \"styled-components/macro\";\n\nimport Button from \"../Button/Button\";\n\nexport const Header = styled.div`\n  margin-bottom: 1.875rem;\n`;\n\nexport const QuoteAndTimer = styled.div`\n  display: flex;\n  margin-bottom: 1rem;\n`;\n\nexport const BackButton = styled(Button)`\n  flex: 1 0 0;\n`;\nexport const SubmitButton = styled(Button)`\n  flex: 2.33333333 0 0;\n`;\n\nexport const InfoContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  height: 11.25rem;\n  margin-top: -0.625rem;\n`;\n\nexport const ButtonContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  gap: 1.25rem;\n  margin-bottom: 2.75rem;\n`;\n\nexport const SwapIconContainer = styled.div`\n  position: absolute;\n  /* right: 3.75rem; */\n  right: 14.125rem;\n  top: 10rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 1.75rem;\n  height: 1.75rem;\n  /* margin-top: -1rem; */\n  /* margin-bottom: -0.875rem; */\n  border: 1px solid ${(props) => props.theme.colors.borderGrey};\n  background-color: ${(props) => props.theme.colors.black};\n  font-size: 1.25rem;\n`;\n\nexport const HugeTicks = styled(MdDoneAll)`\n  font-size: 8rem;\n  margin: 5rem auto 2px auto;\n`;\n\nexport const Placeholder = styled.div`\n  height: 5rem;\n`;\n\nexport const StyledSwapWidget = styled.div`\n  height: 100%;\n`;\n\nexport default StyledSwapWidget;\n","import { useState, FormEvent, useMemo, useEffect } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { MdArrowDownward, MdBlock } from \"react-icons/md\";\nimport Modal from \"react-modal\";\nimport { useHistory, useRouteMatch } from \"react-router-dom\";\n\nimport { findTokenByAddress } from \"@airswap/metadata\";\nimport { toDecimalString } from \"@airswap/utils\";\nimport { toAtomicString } from \"@airswap/utils\";\nimport { Web3Provider } from \"@ethersproject/providers\";\nimport { unwrapResult } from \"@reduxjs/toolkit\";\nimport { useWeb3React } from \"@web3-react/core\";\n\nimport { BigNumber } from \"ethers\";\nimport { parseUnits, formatUnits } from \"ethers/lib/utils\";\n\nimport { useAppSelector, useAppDispatch } from \"../../app/hooks\";\nimport TokenSelection from \"../../components/TokenSelection/TokenSelection\";\nimport { Title } from \"../../components/Typography/Typography\";\nimport {\n  requestActiveTokenAllowances,\n  requestActiveTokenBalances,\n} from \"../../features/balances/balancesSlice\";\nimport {\n  selectBalances,\n  selectAllowances,\n} from \"../../features/balances/balancesSlice\";\nimport {\n  selectActiveTokens,\n  selectAllTokenInfo,\n  addActiveToken,\n  removeActiveToken,\n} from \"../../features/metadata/metadataSlice\";\nimport {\n  approve,\n  request,\n  take,\n  selectBestOrder,\n  selectOrdersStatus,\n  clear,\n} from \"../../features/orders/ordersSlice\";\nimport { selectAllSupportedTokens } from \"../../features/registry/registrySlice\";\nimport { selectPendingApprovals } from \"../../features/transactions/transactionsSlice\";\nimport { setActiveProvider } from \"../../features/wallet/walletSlice\";\nimport stringToSignificantDecimals from \"../../helpers/stringToSignificantDecimals\";\nimport { AppRoutes } from \"../../routes\";\nimport TokenSelect from \"../TokenSelect/TokenSelect\";\nimport WalletProviderList from \"../WalletProviderList/WalletProviderList\";\nimport InfoSection from \"./InfoSection\";\nimport StyledSwapWidget, {\n  Header,\n  InfoContainer,\n  SubmitButton,\n  BackButton,\n  SwapIconContainer,\n  ButtonContainer,\n  HugeTicks,\n  Placeholder,\n} from \"./SwapWidget.styles\";\nimport findTokenFromAndTokenToAddress from \"./helpers/findTokenFromAndTokenToAddress\";\n\nconst floatRegExp = new RegExp(\"^([0-9])*[.,]?([0-9])*$\");\n\ntype TokenSelectType = \"senderToken\" | \"signerToken\";\n\nconst SwapWidget = () => {\n  const [senderToken, setSenderToken] = useState<string>();\n  const [signerToken, setSignerToken] = useState<string>();\n  const [senderAmount, setSenderAmount] = useState(\"0.01\");\n  const [showWalletList, setShowWalletList] = useState<boolean>(false);\n  const [showTokenSelection, setShowTokenSelection] = useState<boolean>(false);\n  const [isApproving, setIsApproving] = useState<boolean>(false);\n  const [isSwapping, setIsSwapping] = useState<boolean>(false);\n  const [isConnecting, setIsConnecting] = useState<boolean>(false);\n  const [pairUnavailable, setPairUnavailable] = useState<boolean>(false);\n  const [showOrderSubmitted, setShowOrderSubmitted] = useState<boolean>(false);\n  const [tokenSelectType, setTokenSelectType] = useState<TokenSelectType>(\n    \"senderToken\"\n  );\n\n  const dispatch = useAppDispatch();\n  const history = useHistory();\n  const { tokenFrom, tokenTo } = useRouteMatch<AppRoutes>().params;\n  const balances = useAppSelector(selectBalances);\n  const allowances = useAppSelector(selectAllowances);\n  const order = useAppSelector(selectBestOrder);\n  const ordersStatus = useAppSelector(selectOrdersStatus);\n  const activeTokens = useAppSelector(selectActiveTokens);\n  const allTokens = useAppSelector(selectAllTokenInfo);\n  const supportedTokens = useAppSelector(selectAllSupportedTokens);\n  const { t } = useTranslation([\n    \"orders\",\n    \"common\",\n    \"wallet\",\n    \"balances\",\n    \"toast\",\n  ]);\n  const {\n    chainId,\n    account,\n    library,\n    active,\n    activate,\n  } = useWeb3React<Web3Provider>();\n\n  const senderTokenInfo = useMemo(\n    () => (senderToken ? findTokenByAddress(senderToken, activeTokens) : null),\n    [senderToken, activeTokens]\n  );\n\n  const signerTokenInfo = useMemo(\n    () => (signerToken ? findTokenByAddress(signerToken, activeTokens) : null),\n    [signerToken, activeTokens]\n  );\n\n  const pendingApprovals = useAppSelector(selectPendingApprovals);\n\n  useEffect(() => {\n    setSenderToken(\"\");\n    setSignerToken(\"\");\n    setSenderAmount(\"\");\n  }, [chainId]);\n\n  useEffect(() => {\n    if (allTokens.length) {\n      const { fromAddress, toAddress } = findTokenFromAndTokenToAddress(\n        allTokens,\n        \"USDT\",\n        \"WETH\",\n        tokenFrom,\n        tokenTo\n      );\n\n      setSenderToken(fromAddress);\n      setSignerToken(toAddress);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [allTokens.length]);\n\n  const getTokenDecimals = (tokenAddress: string) => {\n    for (const token of activeTokens) {\n      if (token.address === tokenAddress) return token.decimals;\n    }\n    return null;\n  };\n\n  const hasApprovalPending = (tokenId: string | undefined) => {\n    if (tokenId === undefined) return false;\n    return pendingApprovals.some((tx) => tx.tokenAddress === tokenId);\n  };\n\n  const hasSufficientAllowance = (tokenAddress: string | undefined) => {\n    if (!tokenAddress) return false;\n    if (!allowances.values[tokenAddress]) return false;\n    return allowances.values[tokenAddress]! >= senderAmount;\n  };\n\n  // function to only allow numerical and dot values to be inputted\n  const handleTokenAmountChange = (e: FormEvent<HTMLInputElement>) => {\n    let value = e.currentTarget.value;\n    if (value === \"\" || floatRegExp.test(value)) {\n      if (value[value.length - 1] === \",\")\n        value = value.slice(0, value.length - 1) + \".\";\n      setSenderAmount(value);\n    }\n  };\n\n  const handleSetToken = (value: string, type: TokenSelectType) => {\n    if (type === \"senderToken\") {\n      history.push({ pathname: `/${value}/${signerToken}` });\n      setSenderToken(value);\n    } else {\n      history.push({ pathname: `/${senderToken}/${value}` });\n      setSignerToken(value);\n    }\n  };\n\n  const DisplayedButtons = () => {\n    if (!active || !chainId) {\n      return (\n        <SubmitButton\n          intent=\"primary\"\n          loading={isConnecting}\n          onClick={() => setShowWalletList(true)}\n        >\n          {t(\"wallet:connectWallet\")}\n        </SubmitButton>\n      );\n    } else if (isApproving || isSwapping) {\n      return <></>;\n    } else if (pairUnavailable) {\n      return (\n        <>\n          <BackButton\n            onClick={() => {\n              dispatch(clear());\n              setPairUnavailable(false);\n            }}\n          >\n            {t(\"common:back\")}\n          </BackButton>\n        </>\n      );\n    } else if (showOrderSubmitted) {\n      return (\n        <SubmitButton\n          intent=\"primary\"\n          onClick={() => {\n            dispatch(clear());\n            setShowOrderSubmitted(false);\n          }}\n        >\n          {t(\"orders:newSwap\")}\n        </SubmitButton>\n      );\n    } else if (\n      signerAmount &&\n      hasSufficientAllowance(senderToken) &&\n      signerToken &&\n      senderToken\n    ) {\n      return (\n        <>\n          <BackButton\n            onClick={() => {\n              dispatch(clear());\n            }}\n          >\n            {t(\"common:back\")}\n          </BackButton>\n          <SubmitButton\n            intent=\"primary\"\n            aria-label={t(\"orders:take\", { context: \"aria\" })}\n            disabled={isNaN(parseFloat(signerAmount))}\n            loading={ordersStatus === \"taking\"}\n            onClick={async () => {\n              try {\n                setIsSwapping(true);\n                const result = await dispatch(take({ order, library }));\n                setIsSwapping(false);\n                await unwrapResult(result);\n                setShowOrderSubmitted(true);\n              } catch (e) {\n                if (e.code && e.code === 4001) {\n                  // 4001 is metamask user declining transaction sig, do nothing\n                } else {\n                  // FIXME: notify user - toast?\n                }\n              }\n            }}\n          >\n            {t(\"orders:take\")}\n          </SubmitButton>\n        </>\n      );\n    } else if (signerAmount && signerToken && senderToken) {\n      return (\n        <>\n          <BackButton\n            onClick={() => {\n              dispatch(clear());\n            }}\n          >\n            {t(\"common:back\")}\n          </BackButton>\n          <SubmitButton\n            intent=\"primary\"\n            aria-label={t(\"orders:approve\", { context: \"aria\" })}\n            loading={\n              ordersStatus === \"approving\" || hasApprovalPending(senderToken)\n            }\n            onClick={async () => {\n              setIsApproving(true);\n              await dispatch(approve({ token: senderToken, library }));\n              setIsApproving(false);\n            }}\n          >\n            {t(\"orders:approve\")}\n          </SubmitButton>\n        </>\n      );\n    } else {\n      return (\n        <SubmitButton\n          intent=\"primary\"\n          disabled={\n            !decimalsFound ||\n            !senderToken ||\n            !signerToken ||\n            !senderAmount ||\n            insufficientBalance ||\n            parseFloat(senderAmount) === 0 ||\n            senderAmount === \".\"\n          }\n          loading={ordersStatus === \"requesting\"}\n          onClick={async () => {\n            try {\n              const result = await dispatch(\n                request({\n                  chainId: chainId!,\n                  senderToken: senderToken!,\n                  senderAmount,\n                  senderTokenDecimals: senderTokenInfo!.decimals,\n                  signerToken: signerToken!,\n                  senderWallet: account!,\n                  provider: library,\n                })\n              );\n              const orders = await unwrapResult(result);\n              if (!orders.length) throw new Error(\"no valid orders\");\n            } catch (e) {\n              switch (e.message) {\n                // may want to handle no peers differently in future.\n                // case \"no peers\": {\n                //   break;\n                // }\n                // case \"no valid orders\": {\n                //   break;\n                // }\n                default: {\n                  setPairUnavailable(true);\n                }\n              }\n            }\n          }}\n        >\n          {!insufficientBalance\n            ? !senderAmount ||\n              parseFloat(senderAmount) === 0 ||\n              senderAmount === \".\"\n              ? t(\"orders:enterAmount\")\n              : decimalsFound\n              ? t(\"orders:continue\")\n              : t(\"orders:decimalsNotFound\")\n            : t(\"orders:insufficentBalance\", {\n                symbol: senderTokenInfo?.symbol,\n              })}\n        </SubmitButton>\n      );\n    }\n  };\n\n  let signerAmount: string | null = null;\n  if (order) {\n    const signerDecimals = getTokenDecimals(order.signerToken);\n    if (signerDecimals) {\n      signerAmount = toDecimalString(order.signerAmount, signerDecimals);\n    } else {\n      signerAmount = t(\"orders:decimalsNotFound\");\n    }\n  }\n\n  let parsedSenderAmount = null;\n  let insufficientBalance: boolean = false;\n  let decimalsFound: boolean = true;\n  if (senderAmount && senderToken && Object.keys(balances.values).length) {\n    if (parseFloat(senderAmount) === 0 || senderAmount === \".\") {\n      insufficientBalance = false;\n    } else {\n      const senderDecimals = getTokenDecimals(senderToken);\n      if (senderDecimals) {\n        parsedSenderAmount = parseUnits(senderAmount, senderDecimals);\n        insufficientBalance = BigNumber.from(\n          balances.values[senderToken!] || toAtomicString(\"0\", 18)\n        ).lt(parsedSenderAmount);\n      } else decimalsFound = false;\n    }\n  }\n\n  const handleAddActiveToken = (address: string) => {\n    if (library) {\n      dispatch(addActiveToken(address));\n      dispatch(requestActiveTokenBalances({ provider: library! }));\n      dispatch(requestActiveTokenAllowances({ provider: library! }));\n    }\n  };\n\n  const handleRemoveActiveToken = (address: string) => {\n    if (library) {\n      if (address === senderToken) {\n        setSenderToken(\"\");\n        setSenderAmount(\"0.01\");\n      } else if (address === signerToken) setSignerToken(\"\");\n      dispatch(removeActiveToken(address));\n      dispatch(requestActiveTokenBalances({ provider: library! }));\n      dispatch(requestActiveTokenAllowances({ provider: library! }));\n    }\n  };\n\n  return (\n    <>\n      <StyledSwapWidget>\n        <Header>\n          <Title type=\"h2\">\n            {isApproving ? t(\"orders:approve\") : t(\"common:swap\")}\n          </Title>\n        </Header>\n        {showOrderSubmitted ? (\n          <HugeTicks />\n        ) : isApproving || isSwapping ? (\n          <Placeholder />\n        ) : (\n          <>\n            <TokenSelect\n              label={t(\"orders:from\")}\n              amount={senderAmount}\n              onAmountChange={(e) => handleTokenAmountChange(e)}\n              onChangeTokenClicked={() => {\n                setTokenSelectType(\"senderToken\");\n                setShowTokenSelection(true);\n              }}\n              onMaxClicked={(e) => {\n                if (senderToken) {\n                  setSenderAmount(\n                    formatUnits(\n                      balances.values[senderToken] || \"0\",\n                      senderTokenInfo?.decimals\n                    )\n                  );\n                }\n              }}\n              readOnly={!!signerAmount || pairUnavailable}\n              includeAmountInput={true}\n              selectedToken={senderTokenInfo}\n            />\n            <SwapIconContainer>\n              {pairUnavailable ? <MdBlock /> : <MdArrowDownward />}\n            </SwapIconContainer>\n            <TokenSelect\n              label={t(\"orders:to\")}\n              amount={signerAmount && stringToSignificantDecimals(signerAmount)}\n              onAmountChange={(e) => handleTokenAmountChange(e)}\n              onChangeTokenClicked={() => {\n                setTokenSelectType(\"signerToken\");\n                setShowTokenSelection(true);\n              }}\n              readOnly={!!signerAmount || pairUnavailable}\n              includeAmountInput={!!signerAmount}\n              amountDetails={\n                !!signerAmount ? t(\"orders:afterFee\", { fee: \"0.3%\" }) : \"\"\n              }\n              selectedToken={signerTokenInfo}\n            />\n          </>\n        )}\n        <InfoContainer>\n          <InfoSection\n            orderSubmitted={showOrderSubmitted}\n            isConnected={active}\n            isPairUnavailable={pairUnavailable}\n            isFetchingOrders={ordersStatus === \"requesting\"}\n            isApproving={isApproving}\n            isSwapping={isSwapping}\n            order={order}\n            requiresApproval={order && !hasSufficientAllowance(senderToken)}\n            senderTokenInfo={senderTokenInfo}\n            signerTokenInfo={signerTokenInfo}\n            timerExpiry={order ? parseInt(order.expiry) - 60 : null}\n            onTimerComplete={() => {\n              dispatch(\n                request({\n                  chainId: chainId!,\n                  senderToken: senderToken!,\n                  senderAmount,\n                  senderTokenDecimals: senderTokenInfo!.decimals,\n                  signerToken: signerToken!,\n                  senderWallet: account!,\n                  provider: library,\n                })\n              );\n            }}\n          />\n        </InfoContainer>\n        <ButtonContainer>\n          <DisplayedButtons />\n        </ButtonContainer>\n      </StyledSwapWidget>\n\n      <Modal\n        isOpen={showWalletList}\n        onRequestClose={() => setShowWalletList(false)}\n        className=\"modal\"\n        overlayClassName=\"overlay\"\n      >\n        {/* need to come back and fill out onProviderSelected */}\n        <WalletProviderList\n          onProviderSelected={(provider) => {\n            dispatch(setActiveProvider(provider.name));\n            setIsConnecting(true);\n            activate(provider.getConnector()).finally(() =>\n              setIsConnecting(false)\n            );\n            setShowWalletList(false);\n          }}\n        />\n      </Modal>\n      <TokenSelection\n        signerToken={signerToken!}\n        senderToken={senderToken!}\n        setSignerToken={(value) => handleSetToken(value, \"signerToken\")}\n        setSenderToken={(value) => handleSetToken(value, \"senderToken\")}\n        tokenSelectType={tokenSelectType}\n        balances={balances}\n        allTokens={allTokens}\n        activeTokens={activeTokens}\n        supportedTokenAddresses={supportedTokens}\n        addActiveToken={handleAddActiveToken}\n        removeActiveToken={handleRemoveActiveToken}\n        onClose={() => setShowTokenSelection(false)}\n        chainId={chainId!}\n        isHidden={!showTokenSelection}\n      />\n    </>\n  );\n};\n\nexport default SwapWidget;\n","import { findTokenByAddress, findTokensBySymbol } from \"@airswap/metadata\";\nimport { TokenInfo } from \"@uniswap/token-lists\";\n\nexport default function findTokenFromAndTokenToAddress(\n  allTokens: TokenInfo[],\n  fromSymbol: string,\n  toSymbol: string,\n  fromAddress?: string,\n  toAddress?: string\n): { fromAddress: string | undefined; toAddress: string | undefined } {\n  let fromToken: TokenInfo | undefined;\n  let toToken: TokenInfo | undefined;\n\n  if (fromAddress) {\n    fromToken = fromAddress\n      ? findTokenByAddress(fromAddress, allTokens)\n      : undefined;\n    toToken = toAddress ? findTokenByAddress(toAddress, allTokens) : undefined;\n\n    return {\n      fromAddress: fromToken ? fromToken.address : undefined,\n      toAddress: toToken ? toToken.address : undefined,\n    };\n  }\n\n  fromToken = findTokensBySymbol(fromSymbol, allTokens)[0];\n  toToken = findTokensBySymbol(toSymbol, allTokens)[0];\n\n  return {\n    fromAddress: fromToken ? fromToken.address : undefined,\n    toAddress: toToken ? toToken.address : undefined,\n  };\n}\n","import SwapWidget from \"../../components/SwapWidget/SwapWidget\";\n\nexport function Orders() {\n  return <SwapWidget />;\n}\n","import { createSlice } from \"@reduxjs/toolkit\";\n\nimport { ThemeType } from \"styled-components/macro\";\n\nimport { RootState } from \"../../app/store\";\nimport getInitialThemeValue from \"./helpers/getInitialThemeValue\";\n\nexport interface UserSettingsState {\n  theme: ThemeType;\n}\n\nexport const THEME_LOCAL_STORAGE_KEY = \"airswap/theme\";\n\nconst initialState: UserSettingsState = {\n  theme: getInitialThemeValue(),\n};\n\nconst userSettingsSlice = createSlice({\n  name: \"userSettings\",\n  initialState,\n  reducers: {\n    toggleTheme: (state) => {\n      const theme: ThemeType = state.theme === \"dark\" ? \"light\" : \"dark\";\n      localStorage[THEME_LOCAL_STORAGE_KEY] = theme;\n      state.theme = theme;\n    },\n  },\n});\n\nexport const selectUserSettings = (state: RootState) => state.userSettings;\n\nexport const { toggleTheme } = userSettingsSlice.actions;\n\nexport default userSettingsSlice.reducer;\n","import { ThemeType } from \"styled-components/macro\";\n\nimport { THEME_LOCAL_STORAGE_KEY } from \"../userSettingsSlice\";\n\nexport default function getInitialThemeValue(): ThemeType {\n  if (localStorage[THEME_LOCAL_STORAGE_KEY] === \"dark\") {\n    return \"dark\";\n  }\n\n  if (localStorage[THEME_LOCAL_STORAGE_KEY] === \"light\") {\n    return \"light\";\n  }\n\n  return \"dark\";\n}\n","import styled from \"styled-components\";\n\nexport const Container = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: row;\n  gap: 1rem;\n  padding: 1rem 0;\n`;\n\nexport const Link = styled.a`\n  text-decoration: underline;\n  color: ${(props) => props.theme.colors.primary};\n  cursor: pointer;\n`;\n","import { Paragraph, Title } from \"../Typography/Typography\";\nimport { Container, Link } from \"./Content.style\";\n\nconst Introduction = () => {\n  return (\n    <>\n      <Container>\n        <Title type=\"h1\">Welcome to AirSwap</Title>\n        <Paragraph>\n          We are an open developer community building decentralized trading\n          systems.\n          <br />\n          <br />\n          More content will be displayed here soon.\n        </Paragraph>\n        <Link href=\"https://chat.airswap.io/\">Join the Discord </Link>\n      </Container>\n    </>\n  );\n};\n\nexport default Introduction;\n","import { Paragraph, Title } from \"../Typography/Typography\";\nimport { Container, Link } from \"./Content.style\";\n\nconst Organization = () => {\n  return (\n    <>\n      <Container>\n        <Title type=\"h1\">Stake to Join</Title>\n        <Paragraph>\n          We are an open developer community building decentralized trading\n          systems.\n          <br />\n          <br />\n          More content will be displayed here soon.\n        </Paragraph>\n        <Link href=\"https://activate.codefi.network/staking/airswap/governance\">\n          Stake your tokens \n        </Link>\n      </Container>\n    </>\n  );\n};\n\nexport default Organization;\n","import { Paragraph, Title } from \"../Typography/Typography\";\nimport { Container, Link } from \"./Content.style\";\n\nconst Products = () => {\n  return (\n    <>\n      <Container>\n        <Title type=\"h1\">Peer-to-peer Trading</Title>\n        <Paragraph>\n          We are an open developer community building decentralized trading\n          systems.\n          <br />\n          <br />\n          More content will be displayed here soon.\n        </Paragraph>\n        <Link href=\"https://docs.airswap.io/\">Check the docs </Link>\n      </Container>\n    </>\n  );\n};\n\nexport default Products;\n","import Blockies from \"react-blockies\";\n\nimport styled from \"styled-components\";\n\nexport const StyledWalletAddress = styled.div`\n  display: flex;\n  align-items: center;\n`;\n\nexport const Button = styled.div`\n  border: 0;\n  margin: 0;\n  padding: 1rem;\n  cursor: pointer;\n  background: none;\n`;\n\nexport const BlockiesContainer = styled.div`\n  position: relative;\n  margin-right: 1.25rem;\n\n  &::after {\n    display: block;\n    content: \"\";\n    position: absolute;\n    background-color: ${(props) => props.theme.colors.green};\n    border-radius: 50%;\n    z-index: 5;\n    width: 0.5rem;\n    height: 0.5rem;\n    top: 1rem;\n    left: 1rem;\n  }\n`;\n\nexport const StyledBlockies = styled(Blockies)`\n  border-radius: 50%;\n  overflow: hidden;\n`;\n\nexport const GreenCircle = styled.div`\n  margin-right: 0.5rem;\n  width: 0.5rem;\n  height: 0.5rem;\n  background-color: ${(props) => props.theme.colors.green};\n  border-radius: 50%;\n`;\n","import truncateEthAddress from \"truncate-eth-address\";\n\nimport { InfoHeading } from \"../../../Typography/Typography\";\nimport {\n  StyledWalletAddress,\n  BlockiesContainer,\n  GreenCircle,\n  Button,\n  StyledBlockies,\n} from \"./WalletAddress.styles\";\n\ntype WalletBlockiesProps = {\n  address: string;\n  isButton?: boolean;\n  showBlockies?: boolean;\n  onClick?: () => void;\n  className?: string;\n};\n\nconst WalletAddress = ({\n  address,\n  isButton = false,\n  showBlockies = false,\n  className = \"\",\n  onClick,\n}: WalletBlockiesProps) => {\n  const renderContent = () => (\n    <StyledWalletAddress className={className}>\n      {showBlockies ? (\n        <BlockiesContainer>\n          <StyledBlockies\n            size={8}\n            scale={3}\n            seed={address}\n            bgColor=\"black\"\n            color=\"#2b72ff\"\n          />\n        </BlockiesContainer>\n      ) : (\n        <GreenCircle />\n      )}\n      <InfoHeading>{truncateEthAddress(address)}</InfoHeading>\n    </StyledWalletAddress>\n  );\n\n  if (isButton) {\n    return <Button onClick={onClick}>{renderContent()}</Button>;\n  }\n\n  return renderContent();\n};\n\nexport default WalletAddress;\n","import styled from \"styled-components/macro\";\n\nimport Button from \"../Button/Button\";\nimport IconButton from \"../IconButton/IconButton\";\nimport { InfoHeading } from \"../Typography/Typography\";\nimport WalletAddress from \"./subcomponents/WalletAddress/WalletAddress\";\n\nexport const OpenWallet = styled.div`\n  display: flex;\n  flex-direction: column;\n  border-radius: 2px;\n  padding: 1.375rem 1.5rem;\n  width: 21.5rem;\n  min-height: 21.5rem;\n  background: ${(props) => props.theme.colors.darkGrey};\n  overflow: hidden;\n`;\n\nexport const OpenWalletTopContainer = styled.div`\n  display: flex;\n  position: relative;\n  border-bottom: 1px solid ${(props) => props.theme.colors.borderGrey};\n  width: 100%;\n  padding-bottom: 1.1875rem;\n`;\n\nexport const StyledWalletButton = styled.div`\n  display: flex;\n  justify-content: space-between;\n`;\n\nexport const StyledWalletAddress = styled(WalletAddress)`\n  ${InfoHeading} {\n    font-size: 1.125rem;\n    font-weight: 700;\n  }\n`;\n\nexport const NoTransactions = styled.span`\n  color: ${(props) => props.theme.colors.lightGrey};\n`;\n\nexport const ExitButton = styled(IconButton)`\n  position: absolute;\n  top: -0.5rem;\n  right: -0.5rem;\n  padding: 0.5rem;\n  color: ${(props) => props.theme.colors.lightGrey};\n\n  &:hover {\n    color: ${(props) => props.theme.colors.alwaysWhite};\n  }\n`;\n\ntype TransactionContainerProps = {\n  flex: boolean;\n};\n\nexport const TransactionContainer = styled.div<TransactionContainerProps>`\n  display: ${(props) => (props.flex ? \"flex\" : \"block\")};\n  flex-wrap: wrap;\n  align-items: center;\n  justify-content: center;\n  flex-grow: 2;\n  padding: 1.25rem 0 1.5rem;\n  width: 100%;\n`;\n\nexport const DisconnectButton = styled(Button)`\n  margin-top: auto;\n  justify-self: flex-end;\n  border: 1px solid ${(props) => props.theme.colors.borderGrey};\n  border-radius: 2px;\n  height: 2.875rem;\n  padding: 1rem 3rem;\n  font-size: 0.875rem;\n  font-weight: 700;\n  background-color: transparent;\n  color: ${(props) => props.theme.colors.lightGrey};\n\n  &:hover {\n    color: ${(props) => props.theme.colors.black};\n    background-color: ${(props) => props.theme.colors.white};\n  }\n`;\n","const MS_PER_MINUTE = 60000;\nconst MS_PER_HOUR = 3600000;\nconst MS_PER_DAY = 86400000;\nconst MS_PER_MONTH = 2592000000;\nconst MS_PER_YEAR = 31536000000;\n\nexport default function getTimeBetweenTwoDates(date: Date): string {\n  const currentDate = new Date();\n\n  // if date is past the current date;\n  if (currentDate < date) return \"undefined\";\n\n  // convert to seconds\n  const timeDiff = currentDate.getTime() - date.getTime();\n\n  // use increasing denominations based on how recent the comparison between dates are\n  // e.g. x mins (< 1 hour), x hours (< 1 day), x days(< 1 month), x months(< 1 year), x years(> 1 year)\n  if (timeDiff < MS_PER_HOUR) {\n    // if time difference is less than 1 hour\n    const minutes = Math.floor((timeDiff % MS_PER_HOUR) / MS_PER_MINUTE);\n    return `${minutes} min${minutes > 1 ? \"s\" : \"\"}`;\n  } else if (timeDiff < MS_PER_DAY) {\n    // if time difference is less than 1 day\n    const hours = Math.floor(timeDiff / MS_PER_HOUR);\n    return `${hours} hour${hours > 1 ? \"s\" : \"\"}`;\n  } else if (timeDiff < MS_PER_MONTH) {\n    // if time difference is less than 1 month\n    const days = Math.floor(timeDiff / MS_PER_DAY);\n    return `${days} day${days > 1 ? \"s\" : \"\"}`;\n  } else if (timeDiff < MS_PER_YEAR) {\n    // if time difference is less than 1 year\n    const months = Math.floor(timeDiff / MS_PER_MONTH);\n    return `${months} month${months > 1 ? \"s\" : \"\"}`;\n  } else {\n    const years = Math.floor(timeDiff / MS_PER_YEAR);\n    return `${years} year${years > 1 ? \"s\" : \"\"}`;\n  }\n}\n","import styled from \"styled-components\";\n\nexport const Link = styled.a`\n  transform: translate(0.5rem, -0.5rem);\n  padding: 0.5rem;\n  color: ${(props) => props.theme.colors.lightGrey};\n\n  &:hover {\n    color: ${(props) => props.theme.colors.white};\n  }\n`;\n","import { getEtherscanURL } from \"@airswap/utils\";\n\nimport Icon from \"../../../Icon/Icon\";\nimport { Link } from \"./TransactionLink.style\";\n\ntype TransactionLinkProps = {\n  chainId: number;\n  hash: string;\n  className?: string;\n};\n\nconst TransactionLink = ({\n  chainId,\n  hash,\n  className = \"\",\n}: TransactionLinkProps) => {\n  return (\n    <Link\n      className={className}\n      target=\"_blank\"\n      rel=\"noreferrer\"\n      href={`${getEtherscanURL(chainId, hash)}`}\n    >\n      <Icon iconSize={1} name=\"transaction-link\" />\n    </Link>\n  );\n};\n\nexport default TransactionLink;\n","import styled from \"styled-components\";\n\nimport Icon from \"../../../Icon/Icon\";\n\nexport const IconContainer = styled.div`\n  width: 1.75rem;\n`;\n\nexport const SucceedIcon = styled(Icon)`\n  transform: translate(-0.25rem, -0.25rem);\n`;\n\nexport const ProcessingIcon = styled(Icon)`\n  transform: translate(-0.125rem, 0.0625rem);\n`;\n\nexport const FailedIcon = styled(Icon)`\n  transform: translate(-0.125rem, 0);\n`;\n","import {\n  FailedIcon,\n  IconContainer,\n  ProcessingIcon,\n  SucceedIcon,\n} from \"./WalletTransactionStatus.styles\";\n\ntype WalletTransactionStatusProps = {\n  status: \"succeeded\" | \"processing\" | \"reverted\";\n  className?: string;\n};\n\nconst WalletTransactionStatus = ({\n  status,\n  className = \"\",\n}: WalletTransactionStatusProps) => {\n  return (\n    <IconContainer>\n      {status === \"succeeded\" ? (\n        <SucceedIcon\n          className={className}\n          iconSize={1.875}\n          name=\"transaction-completed\"\n        />\n      ) : status === \"processing\" ? (\n        <ProcessingIcon\n          className={className}\n          iconSize={1.5}\n          name=\"transaction-pending\"\n        />\n      ) : (\n        <FailedIcon\n          className={className}\n          iconSize={1.5}\n          name=\"transaction-failed\"\n        />\n      )}\n    </IconContainer>\n  );\n};\n\nexport default WalletTransactionStatus;\n","import styled from \"styled-components\";\n\nimport TransactionLink from \"../TransactionLink/TransactionLink\";\nimport WalletTransactionStatus from \"../WalletTransactionStatus/WalletTransactionStatus\";\n\nexport const Container = styled.div`\n  display: flex;\n  align-items: flex-start;\n  width: 100%;\n\n  & + & {\n    margin-top: 1.25rem;\n  }\n`;\n\nexport const StyledWalletTransactionStatus = styled(WalletTransactionStatus)``;\n\nexport const TextContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  flex-wrap: wrap;\n`;\n\nexport const SpanTitle = styled.span`\n  font-size: 0.875rem;\n  font-weight: 700;\n`;\n\nexport const SpanSubtitle = styled.span`\n  line-height: 1.3;\n  font-size: 1rem;\n  font-weight: 400;\n  color: ${(props) => props.theme.colors.lightGrey};\n`;\n\nexport const StyledTransactionLink = styled(TransactionLink)`\n  justify-self: flex-end;\n  margin-left: auto;\n\n  &:hover {\n    color: ${(props) => props.theme.colors.alwaysWhite};\n  }\n`;\n","import { useTranslation } from \"react-i18next\";\n\nimport { formatUnits } from \"@ethersproject/units\";\nimport { TokenInfo } from \"@uniswap/token-lists\";\n\nimport {\n  SubmittedApproval,\n  SubmittedOrder,\n  SubmittedTransaction,\n} from \"../../../../features/transactions/transactionsSlice\";\nimport getTimeBetweenTwoDates from \"../../../../helpers/getTimeBetweenTwoDates\";\nimport {\n  Container,\n  TextContainer,\n  SpanTitle,\n  SpanSubtitle,\n  StyledTransactionLink,\n  StyledWalletTransactionStatus,\n} from \"./WalletTransaction.styles\";\n\ntype WalletTransactionProps = {\n  /**\n   * The parent object of SubmittedOrder and SubmittedApproval\n   */\n  transaction: SubmittedTransaction;\n  /**\n   * the type of transaction\n   * @type \"Approval\" | \"Order\"\n   */\n  type: \"Approval\" | \"Order\";\n  /**\n   * chainId of current Ethereum net\n   */\n  chainId: number;\n  /**\n   * Token Info of sender token\n   */\n  senderToken?: TokenInfo;\n  /**\n   * Token Info of signer token\n   */\n  signerToken?: TokenInfo;\n  /**\n   * Token Info of approval token\n   */\n  approvalToken?: TokenInfo;\n};\n\nexport const WalletTransaction = ({\n  transaction,\n  type,\n  chainId,\n  senderToken,\n  signerToken,\n  approvalToken,\n}: WalletTransactionProps) => {\n  const { t } = useTranslation([\"common\", \"wallet\"]);\n\n  if (type === \"Order\") {\n    const tx: SubmittedOrder = transaction as SubmittedOrder;\n    return (\n      <Container>\n        <StyledWalletTransactionStatus status={tx.status} />\n        <TextContainer>\n          {tx && senderToken && signerToken && (\n            <>\n              <SpanTitle>\n                {t(\"wallet:transaction\", {\n                  senderAmount: parseFloat(\n                    Number(\n                      formatUnits(tx.order.senderAmount, senderToken.decimals)\n                    ).toFixed(5)\n                  ),\n                  senderToken: senderToken.symbol,\n                  signerAmount: parseFloat(\n                    Number(\n                      formatUnits(tx.order.signerAmount, signerToken.decimals)\n                    ).toFixed(5)\n                  ),\n                  signerToken: signerToken.symbol,\n                })}\n              </SpanTitle>\n              <SpanSubtitle>\n                {tx.status === \"succeeded\"\n                  ? t(\"common:success\")\n                  : tx.status === \"processing\"\n                  ? t(\"common:processing\")\n                  : t(\"common:failed\")}{\" \"}\n                {\" \"}\n                {tx.timestamp\n                  ? t(\"wallet:transactionTimeAgo\", {\n                      time: getTimeBetweenTwoDates(new Date(tx.timestamp)),\n                    })\n                  : t(\"common:undefined\")}\n              </SpanSubtitle>\n            </>\n          )}\n        </TextContainer>\n        <StyledTransactionLink chainId={chainId} hash={tx.hash} />\n      </Container>\n    );\n  } else {\n    const tx: SubmittedApproval = transaction as SubmittedApproval;\n    return (\n      <Container>\n        <StyledWalletTransactionStatus status={tx.status} />\n        <TextContainer>\n          {approvalToken && (\n            <>\n              <SpanTitle>\n                {t(\"wallet:approve\", { symbol: approvalToken.symbol })}\n              </SpanTitle>\n              <SpanSubtitle>\n                {tx.status === \"succeeded\"\n                  ? t(\"common:success\")\n                  : tx.status === \"processing\"\n                  ? t(\"common:processing\")\n                  : t(\"common:failed\")}{\" \"}\n                {\" \"}\n                {tx.timestamp\n                  ? t(\"wallet:transactionTimeAgo\", {\n                      time: getTimeBetweenTwoDates(new Date(tx.timestamp)),\n                    })\n                  : t(\"common:undefined\")}\n              </SpanSubtitle>\n            </>\n          )}\n        </TextContainer>\n        <StyledTransactionLink chainId={chainId} hash={tx.hash} />\n      </Container>\n    );\n  }\n};\n","import { useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { findTokenByAddress } from \"@airswap/metadata\";\nimport { TokenInfo } from \"@uniswap/token-lists\";\n\nimport {\n  SubmittedApproval,\n  SubmittedOrder,\n  SubmittedTransaction,\n} from \"../../features/transactions/transactionsSlice\";\nimport {\n  OpenWallet,\n  ExitButton,\n  DisconnectButton,\n  TransactionContainer,\n  OpenWalletTopContainer,\n  StyledWalletAddress,\n  NoTransactions,\n} from \"./WalletButton.styles\";\nimport WalletAddress from \"./subcomponents/WalletAddress/WalletAddress\";\nimport { WalletTransaction } from \"./subcomponents/WalletTransaction/WalletTransaction\";\n\nexport type WalletButtonProps = {\n  /**\n   * Address of currenlty connected wallet, if any\n   */\n  address?: string | null;\n  /**\n   * Boolean to indicate if wallet is currently connecting. (Ignored if address\n   * is set)\n   */\n  isConnecting?: boolean;\n  /**\n   * Callback function for when connect button is clicked\n   */\n  onConnectWalletClicked: () => void;\n  /**\n   * Callback function for when disconnect button is clicked\n   */\n  onDisconnectWalletClicked: () => void;\n  /**\n   * List of transactions that have been submitted\n   */\n  transactions: SubmittedTransaction[];\n  /**\n   * Number representing chainId of ETH network\n   */\n  chainId: number;\n  /**\n   * List of all tokens in metadata\n   */\n  tokens: TokenInfo[];\n};\n\nexport const WalletButton = ({\n  address,\n  isConnecting,\n  onConnectWalletClicked,\n  onDisconnectWalletClicked,\n  transactions = [],\n  chainId,\n  tokens,\n}: WalletButtonProps) => {\n  const { t } = useTranslation([\"wallet\"]);\n\n  const [walletOpen, setWalletOpen] = useState<boolean>(false);\n\n  if (address && !walletOpen) {\n    return (\n      <WalletAddress\n        isButton\n        address={address}\n        onClick={() => setWalletOpen(!walletOpen)}\n      />\n    );\n  }\n\n  if (address && walletOpen) {\n    return (\n      <OpenWallet>\n        <OpenWalletTopContainer>\n          <StyledWalletAddress\n            showBlockies\n            address={address}\n            onClick={() => setWalletOpen(!walletOpen)}\n          />\n          <ExitButton\n            iconSize={1.25}\n            icon=\"exit-modal\"\n            onClick={() => setWalletOpen(!walletOpen)}\n          />\n        </OpenWalletTopContainer>\n        <TransactionContainer flex={transactions.length === 0}>\n          {transactions.length > 0 ? (\n            transactions.slice(0, 3).map((transaction) => {\n              let token;\n              if (transaction.type === \"Order\") {\n                const tx: SubmittedOrder = transaction as SubmittedOrder;\n                const senderToken = findTokenByAddress(\n                  tx.order.senderToken,\n                  tokens\n                );\n                const signerToken = findTokenByAddress(\n                  tx.order.signerToken,\n                  tokens\n                );\n                return (\n                  <WalletTransaction\n                    transaction={transaction}\n                    senderToken={senderToken}\n                    signerToken={signerToken}\n                    type={transaction.type}\n                    chainId={chainId!}\n                    key={transaction.hash}\n                  />\n                );\n              } else {\n                const tx: SubmittedApproval = transaction as SubmittedApproval;\n                token = findTokenByAddress(tx.tokenAddress, tokens);\n                return (\n                  <WalletTransaction\n                    transaction={transaction}\n                    approvalToken={token}\n                    type={transaction.type}\n                    chainId={chainId!}\n                    key={transaction.hash}\n                  />\n                );\n              }\n            })\n          ) : (\n            <NoTransactions>{t(\"wallet:noTransactions\")}</NoTransactions>\n          )}\n        </TransactionContainer>\n\n        <DisconnectButton\n          aria-label={t(\"wallet:disconnectWallet\")}\n          onClick={onDisconnectWalletClicked}\n        >\n          {t(\"wallet:disconnectWallet\")}\n        </DisconnectButton>\n      </OpenWallet>\n    );\n  }\n\n  return null;\n};\n\nexport default WalletButton;\n","import SUPPORTED_WALLET_PROVIDERS, {\n  WalletProvider,\n} from \"../../constants/supportedWalletProviders\";\n\nconst LAST_ACCOUNT_LOCAL_STORAGE_KEY = `airswap/lastConnectedAccount`;\n\nconst saveLastAccount = (address: string, provider: WalletProvider) => {\n  localStorage.setItem(\n    LAST_ACCOUNT_LOCAL_STORAGE_KEY,\n    `${provider.name}/${address}`\n  );\n};\n\nconst clearLastAccount = () => {\n  localStorage.setItem(LAST_ACCOUNT_LOCAL_STORAGE_KEY, \"\");\n};\n\nconst loadLastAccount = () => {\n  try {\n    const storedString = localStorage.getItem(LAST_ACCOUNT_LOCAL_STORAGE_KEY);\n    if (!storedString) throw new Error(\"No connected accounts saved\");\n    const [providerName, address] = storedString.split(\"/\");\n    const provider = SUPPORTED_WALLET_PROVIDERS.find(\n      (p) => p.name === providerName\n    );\n    if (!provider) throw new Error(`Could not find provider: ${providerName}`);\n    return {\n      provider,\n      address,\n    };\n  } catch (e) {\n    return null;\n  }\n};\n\nexport { loadLastAccount, saveLastAccount, clearLastAccount };\n","const sizes = {\n  tinyScreen: \"320px\",\n  phone: \"480px\",\n  tabletPortrait: \"768px\",\n  tabletLandscape: \"1024px\",\n  desktop: \"1448px\",\n  bigDesktop: \"1800px\",\n};\n\nconst breakPoints = {\n  tinyScreenOnly: `(max-width: ${sizes.tinyScreen})`,\n  phoneOnly: `(max-width: ${sizes.phone})`,\n  tabletPortraitUp: `(min-width: ${sizes.tabletPortrait})`,\n  tabletLandscapeUp: `(min-width: ${sizes.tabletLandscape})`,\n  desktopUp: `(min-width: ${sizes.desktop})`,\n  bigDesktopUp: `(min-width: ${sizes.bigDesktop})`,\n};\n\nexport default breakPoints;\n","import styled from \"styled-components/macro\";\n\nimport IconButton from \"../IconButton/IconButton\";\n\nexport const StyledDarkModeSwitch = styled(IconButton)`\n  width: 1.5rem;\n  height: 1.5rem;\n\n  &:hover {\n    opacity: 0.5;\n  }\n`;\n","import { StyledDarkModeSwitch } from \"./DarkModeSwitch.styles\";\n\ntype DarkModeProps = {\n  className?: string;\n  onClick?: () => void;\n};\n\nconst DarkModeSwitch = ({ className, onClick }: DarkModeProps): JSX.Element => {\n  return (\n    <StyledDarkModeSwitch\n      className={className}\n      iconSize={1.5}\n      icon=\"dark-mode-switch\"\n      onClick={onClick}\n    />\n  );\n};\n\nexport default DarkModeSwitch;\n","import { motion } from \"framer-motion\";\nimport styled from \"styled-components\";\n\nimport { Wallet } from \"../../features/wallet/Wallet\";\nimport breakPoints from \"../../style/breakpoints\";\nimport { sizes } from \"../../style/sizes\";\nimport DarkModeSwitch from \"../DarkModeSwitch/DarkModeSwitch\";\n\nexport const StyledDarkModeSwitch = styled(DarkModeSwitch)`\n  position: absolute;\n  bottom: 1rem;\n  right: 1rem;\n`;\n\ntype StyledWalletProps = {\n  isOpen?: boolean;\n};\n\nexport const StyledWallet = styled(Wallet)<StyledWalletProps>`\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  position: absolute;\n  top: 2rem;\n  right: 2rem;\n  transform: translateX(\n    ${(props) =>\n      props.isOpen ? \"-2.5rem\" : `calc(-4rem - ${sizes.sideBarWidth})`}\n  );\n  transition: transform 0.3s ease-in-out;\n  z-index: 1001;\n\n  @media (prefers-reduced-motion: reduce) {\n    transition: none;\n  }\n`;\n\ntype ContainerProps = {\n  isOpen: boolean;\n};\n\nexport const StyledSideBar = styled.div<ContainerProps>`\n  position: absolute;\n  top: 0;\n  right: 0;\n  height: 100%;\n  width: 32rem;\n  padding: 4rem;\n  transform: translateX(${(props) => (props.isOpen ? \"28rem\" : \"0\")});\n  transition: transform 0.3s ease-in-out;\n  background-color: ${(props) => props.theme.colors.darkGrey};\n\n  @media (prefers-reduced-motion: reduce) {\n    transition: none;\n  }\n\n  @media ${breakPoints.phoneOnly} {\n    display: none;\n  }\n`;\n\nexport const ToggleButton = styled.button`\n  position: absolute;\n  top: 50%;\n  left: -1rem;\n  width: 2rem;\n  height: 2rem;\n  border-radius: 50%;\n  background-color: ${(props) => props.theme.colors.darkGrey};\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: ${(props) => props.theme.colors.white};\n`;\n\nexport const Navigation = styled.nav`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n`;\n\ntype StyledNavButtonProps = {\n  primary: boolean;\n};\n\nexport const StyledNavButton = styled.button<StyledNavButtonProps>`\n  font-weight: ${(props) => (props.primary ? 700 : 500)};\n  color: ${(props) => props.theme.colors.white};\n`;\n\nexport const ContentContainer = styled(motion.div)`\n  padding: 1rem 0;\n\n  .hidden {\n    color: purple;\n  }\n`;\n","import { FC, useEffect, useState } from \"react\";\nimport Modal from \"react-modal\";\n\nimport { Light } from \"@airswap/protocols\";\nimport { Web3Provider } from \"@ethersproject/providers\";\nimport { useWeb3React } from \"@web3-react/core\";\nimport { WalletConnectConnector } from \"@web3-react/walletconnect-connector\";\n\nimport { useAppDispatch, useAppSelector } from \"../../app/hooks\";\nimport WalletButton from \"../../components/WalletButton/WalletButton\";\nimport WalletProviderList from \"../../components/WalletProviderList/WalletProviderList\";\nimport {\n  AbstractConnector,\n  WalletProvider,\n} from \"../../constants/supportedWalletProviders\";\nimport SUPPORTED_WALLET_PROVIDERS from \"../../constants/supportedWalletProviders\";\nimport { subscribeToTransfersAndApprovals } from \"../balances/balancesApi\";\nimport {\n  decrementBalanceBy,\n  incrementBalanceBy,\n  requestActiveTokenAllowances,\n  requestActiveTokenBalances,\n  selectBalances,\n  setAllowance,\n} from \"../balances/balancesSlice\";\nimport { getTransactionsLocalStorageKey } from \"../metadata/metadataApi\";\nimport {\n  fetchAllTokens,\n  selectActiveTokens,\n  selectAllTokenInfo,\n} from \"../metadata/metadataSlice\";\nimport { fetchSupportedTokens } from \"../registry/registrySlice\";\nimport {\n  revertTransaction,\n  mineTransaction,\n} from \"../transactions/transactionActions\";\nimport {\n  selectTransactions,\n  setTransactions,\n  TransactionsState,\n} from \"../transactions/transactionsSlice\";\nimport {\n  clearLastAccount,\n  loadLastAccount,\n  saveLastAccount,\n} from \"./walletAPI\";\nimport {\n  setWalletConnected,\n  setWalletDisconnected,\n  selectWallet,\n} from \"./walletSlice\";\n\ntype WalletProps = {\n  className?: string;\n};\n\nexport const Wallet: FC<WalletProps> = ({ className = \"\" }) => {\n  const {\n    chainId,\n    account,\n    activate,\n    deactivate,\n    active,\n    library,\n  } = useWeb3React<Web3Provider>();\n\n  // Redux\n  const dispatch = useAppDispatch();\n  const activeTokens = useAppSelector(selectActiveTokens);\n  const balances = useAppSelector(selectBalances);\n  const { providerName } = useAppSelector(selectWallet);\n  const transactions = useAppSelector(selectTransactions);\n  const allTokens = useAppSelector(selectAllTokenInfo);\n\n  // Local component state\n  const [showConnectorList, setShowConnectorList] = useState<boolean>(false);\n  const [isActivating, setIsActivating] = useState<boolean>(false);\n  const [connector, setConnector] = useState<AbstractConnector>();\n  const [provider, setProvider] = useState<WalletProvider>();\n\n  // Auto-activate if user has connected before on (first render)\n  useEffect(() => {\n    const lastConnectedAccount = loadLastAccount();\n    if (lastConnectedAccount) {\n      setIsActivating(true);\n      const connector = lastConnectedAccount.provider.getConnector();\n      setConnector(connector);\n      setProvider(lastConnectedAccount.provider);\n      activate(connector).finally(() => setIsActivating(false));\n    }\n  }, [activate]);\n\n  // Side effects for connecting a wallet from SwapWidget\n\n  useEffect(() => {\n    if (providerName) {\n      const provider = SUPPORTED_WALLET_PROVIDERS.find(\n        (provider) => provider.name === providerName\n      );\n      setProvider(provider);\n      setConnector(provider!.getConnector());\n    }\n  }, [providerName]);\n\n  // Trigger request for balances and allowances once account is connected\n  useEffect(() => {\n    if (active && account && chainId && library && connector && provider) {\n      // Dispatch a general action to indicate wallet has changed\n      dispatch(\n        setWalletConnected({\n          chainId,\n          address: account,\n        })\n      );\n      saveLastAccount(account, provider);\n      dispatch(fetchAllTokens());\n      dispatch(\n        requestActiveTokenAllowances({\n          provider: library,\n        })\n      );\n      dispatch(\n        requestActiveTokenBalances({\n          provider: library,\n        })\n      );\n      dispatch(\n        fetchSupportedTokens({\n          provider: library,\n        })\n      );\n    } else {\n      dispatch(setWalletDisconnected());\n    }\n  }, [active, account, chainId, dispatch, library, connector, provider]);\n\n  // Subscribe to changes in balance\n  useEffect(() => {\n    if (\n      !library ||\n      !account ||\n      !connector ||\n      chainId === undefined ||\n      !activeTokens.length ||\n      balances.lastFetch === null ||\n      balances.status !== \"idle\"\n    )\n      return;\n\n    let teardownTransferListener: () => void;\n    if (activeTokens.length) {\n      teardownTransferListener = subscribeToTransfersAndApprovals({\n        activeTokenAddresses: activeTokens.map((t) => t.address),\n        provider: library,\n        walletAddress: account,\n        spenderAddress: Light.getAddress(),\n        onBalanceChange: (tokenAddress, amount, direction) => {\n          const actionCreator =\n            direction === \"in\" ? incrementBalanceBy : decrementBalanceBy;\n          dispatch(\n            actionCreator({\n              tokenAddress,\n              amount: amount.toString(),\n            })\n          );\n        },\n        onApproval: (tokenAddress, amount) => {\n          dispatch(\n            setAllowance({\n              tokenAddress,\n              amount: amount.toString(),\n            })\n          );\n        },\n      });\n    }\n    return () => {\n      if (teardownTransferListener) {\n        teardownTransferListener();\n      }\n    };\n  }, [\n    activeTokens,\n    account,\n    library,\n    connector,\n    dispatch,\n    chainId,\n    balances.lastFetch,\n    balances.status,\n  ]);\n\n  useEffect(() => {\n    // Create a flag we can set to handle wallet changing between async operations\n    let walletHasChanged = false;\n\n    // get transaction state from local storage and update the transactions\n    if (chainId && account && library) {\n      const transactionsLocalStorage: TransactionsState = JSON.parse(\n        localStorage.getItem(\n          getTransactionsLocalStorageKey(account!, chainId!)\n        )!\n      ) || { all: [] };\n      dispatch(setTransactions(transactionsLocalStorage));\n\n      // check from all responses if one is pending... if pending, call getTransaction\n      // to see if it was a success/failure/pending. update accordingly. if pending: wait()\n      // and poll at a sensible interval.\n      transactionsLocalStorage.all.forEach(async (tx) => {\n        if (tx.status === \"processing\") {\n          let receipt = await library.getTransactionReceipt(tx.hash);\n          if (receipt !== null) {\n            if (walletHasChanged) return;\n            const status = receipt.status;\n            if (status === 1) dispatch(mineTransaction(tx.hash));\n            // success\n            else if (status === 0)\n              dispatch(\n                revertTransaction({\n                  hash: tx.hash,\n                  reason: \"Reverted\",\n                })\n              ); // reverted\n            return;\n          } else {\n            // Receipt was null, so the transaction is incomplete\n            // Try to get a reference to the transaction in the mem pool - this\n            // can sometimes also return null (e.g. gas price too low or tx only\n            // recently sent) depending on backend.\n            const transaction = await library.getTransaction(tx.hash);\n            if (transaction) {\n              try {\n                await transaction.wait(1);\n                if (!walletHasChanged) dispatch(mineTransaction(tx.hash)); // success\n              } catch (err) {\n                console.error(err);\n                if (!walletHasChanged)\n                  dispatch(\n                    revertTransaction({\n                      hash: tx.hash,\n                      reason: \"Reverted\",\n                    })\n                  );\n              }\n              return;\n            } else {\n              // if transaction === null, we poll at intervals\n              // assume failed after 30 mins\n              const assumedFailureTime = Date.now() + 30 * 60 * 1000;\n              while (receipt === null && Date.now() <= assumedFailureTime) {\n                // wait 30 seconds\n                await new Promise((res) => setTimeout(res, 30000));\n                receipt = await library!.getTransactionReceipt(tx.hash);\n              }\n              if (!receipt || receipt.status === 0) {\n                if (!walletHasChanged)\n                  dispatch(\n                    revertTransaction({\n                      hash: tx.hash,\n                      reason: \"Reverted\",\n                    })\n                  );\n              } else {\n                if (!walletHasChanged) dispatch(mineTransaction(tx.hash)); // success\n              }\n            }\n          }\n        }\n      });\n    }\n    return () => {\n      // Library & dispatch won't change, so when we tear down it's because\n      // the wallet has changed. The useEffect will run after this and set up\n      // everything for the new wallet.\n      walletHasChanged = true;\n    };\n  }, [chainId, dispatch, library, account]);\n\n  return (\n    <div className={className}>\n      <Modal\n        isOpen={showConnectorList}\n        onRequestClose={() => setShowConnectorList(false)}\n        overlayClassName=\"absolute inset-0 flex flex-col items-center justify-center bg-black bg-opacity-50 p-10\"\n        className=\"w-64 p-4 rounded-sm bg-white dark:bg-gray-800 shadow-lg\"\n      >\n        <WalletProviderList\n          onProviderSelected={(provider) => {\n            setProvider(provider);\n            const connector = provider.getConnector();\n            setConnector(connector);\n            setShowConnectorList(false);\n            setIsActivating(true);\n            activate(connector).finally(() => setIsActivating(false));\n          }}\n        />\n      </Modal>\n      <WalletButton\n        address={account}\n        onConnectWalletClicked={() => {\n          setShowConnectorList(true);\n        }}\n        onDisconnectWalletClicked={() => {\n          clearLastAccount();\n          deactivate();\n          if (connector instanceof WalletConnectConnector) {\n            connector.close();\n          }\n        }}\n        isConnecting={isActivating}\n        tokens={allTokens}\n        chainId={chainId!}\n        transactions={transactions}\n      />\n    </div>\n  );\n};\n","import { FunctionComponent, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { AnimatePresence } from \"framer-motion\";\n\nimport { SideBarNavButton } from \"../../routes\";\nimport Information from \"../Content/Introduction\";\nimport Organization from \"../Content/Organization\";\nimport Products from \"../Content/Products\";\nimport Icon from \"../Icon/Icon\";\nimport {\n  StyledSideBar,\n  ToggleButton,\n  Navigation,\n  ContentContainer,\n  StyledNavButton,\n} from \"./SideBar.styles\";\n\nconst content: Record<SideBarNavButton, FunctionComponent> = {\n  introduction: Information,\n  products: Products,\n  organization: Organization,\n};\n\ntype SideBarProps = {\n  isOpen: boolean;\n  setIsOpen?: () => void;\n};\n\nconst SideBar = ({ isOpen, setIsOpen }: SideBarProps) => {\n  const [activeNavButton, setActiveNavButton] = useState<SideBarNavButton>(\n    \"introduction\"\n  );\n  const { t } = useTranslation([\"information\"]);\n\n  const buttons: SideBarNavButton[] = [\n    \"introduction\",\n    \"products\",\n    \"organization\",\n  ];\n\n  return (\n    <StyledSideBar isOpen={isOpen}>\n      <Navigation>\n        {buttons.map((button) => (\n          <StyledNavButton\n            key={button}\n            primary={activeNavButton === button}\n            onClick={() => setActiveNavButton(button)}\n          >\n            {/* @ts-ignore dynamic key */}\n            {t(`information:nav_${button}`)}\n          </StyledNavButton>\n        ))}\n      </Navigation>\n      <AnimatePresence exitBeforeEnter>\n        <ContentContainer\n          initial={{ opacity: 0, x: \"100%\" }}\n          animate={{ opacity: 1, x: \"0%\" }}\n          exit={{ opacity: 0, x: \"100%\" }}\n          transition={{ ease: \"easeOut\" }}\n          key={activeNavButton}\n          style={{\n            display: `${isOpen ? \"none\" : \"block\"}`,\n          }}\n        >\n          {content[activeNavButton]({})}\n        </ContentContainer>\n      </AnimatePresence>\n      <ToggleButton onClick={setIsOpen}>\n        {isOpen ? (\n          <Icon iconSize={0.5} name=\"arrow-left\" />\n        ) : (\n          <Icon iconSize={0.5} name=\"arrow-right\" />\n        )}\n      </ToggleButton>\n    </StyledSideBar>\n  );\n};\n\nexport default SideBar;\n","import { Toaster as T } from \"react-hot-toast\";\n\nimport styled from \"styled-components/macro\";\n\nimport { sizes } from \"../../style/sizes\";\n\nconst ToasterWrapper = styled.div`\n  div[role=\"status\"] {\n    margin: 0;\n  }\n  div {\n    max-width: 100%;\n    border-radius: 0.5rem;\n    background: transparent;\n  }\n`;\n\nconst DEFAULT_INSET_RIGHT = \"80px\";\n\nconst Toaster = ({ sideBarOpen }: { sideBarOpen: boolean }) => (\n  <ToasterWrapper>\n    <T\n      position=\"top-right\"\n      containerStyle={{\n        right: sideBarOpen\n          ? DEFAULT_INSET_RIGHT\n          : `calc(${sizes.sideBarWidth} + ${DEFAULT_INSET_RIGHT})`,\n      }}\n      toastOptions={{\n        style: {\n          padding: 0,\n          margin: 0,\n          borderRadius: 0,\n        },\n      }}\n    ></T>\n  </ToasterWrapper>\n);\n\nexport default Toaster;\n","import styled from \"styled-components/macro\";\n\nimport breakPoints from \"../../style/breakpoints\";\nimport { sizes } from \"../../style/sizes\";\n\nexport const Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  border-radius: 0.25rem;\n  height: 32.5rem;\n  width: 100%;\n  padding: ${sizes.tradeContainerPadding};\n  background: ${(props) => props.theme.colors.black};\n  overflow: hidden;\n`;\n\ntype StyledTradeContainerProps = {\n  isOpen?: boolean;\n};\n\nexport const StyledTradeContainer = styled.div<StyledTradeContainerProps>`\n  display: flex;\n  box-sizing: border-box;\n  border-radius: 0.5rem;\n  margin: 0 auto;\n  padding: 2.25rem;\n  width: 100%;\n  max-width: 34.5rem;\n  background: url(\"${process.env.PUBLIC_URL}/images/bg.jpg\");\n  background-size: 100% 100%;\n\n  transition: transform 0.3s ease-in-out;\n\n  @media ${breakPoints.tabletLandscapeUp} {\n    transform: translateX(${(props) => (props.isOpen ? 0 : \"-16rem\")});\n  }\n\n  @media (prefers-reduced-motion: reduce) {\n    transition: none;\n  }\n\n  @media (min-resolution: 144dpi) {\n    background-image: url(\"${process.env.PUBLIC_URL}/images/bg-x2.jpg\");\n  }\n\n  @media ${breakPoints.phoneOnly} {\n    padding: 1.5rem;\n  }\n\n  @media ${breakPoints.tinyScreenOnly} {\n    padding: 1.25rem;\n  }\n`;\n","import React, { FC, ReactElement } from \"react\";\n\nimport { Container, StyledTradeContainer } from \"./TradeContainer.styles\";\n\ntype TradeContainerProps = {\n  isOpen?: boolean;\n};\n\nconst TradeContainer: FC<TradeContainerProps> = ({\n  children,\n  isOpen = false,\n}): ReactElement => {\n  return (\n    <StyledTradeContainer isOpen={isOpen}>\n      <Container>{children}</Container>\n    </StyledTradeContainer>\n  );\n};\n\nexport default TradeContainer;\n","import styled from \"styled-components/macro\";\n\nexport const StyledSiteLogo = styled.svg`\n  width: 10rem;\n  height: 3.125rem;\n  fill: ${(props) =>\n    props.theme.name === \"light\"\n      ? props.theme.colors.primary\n      : props.theme.colors.white};\n`;\n","import React, { FC, ReactElement } from \"react\";\n\nimport { StyledSiteLogo } from \"./SiteLogo.styles\";\n\ntype SiteLogoProps = {\n  className?: string;\n};\n\nconst SiteLogo: FC<SiteLogoProps> = ({ className }): ReactElement => {\n  return (\n    <StyledSiteLogo viewBox=\"0 0 159 50\" className={className}>\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M12.7296 43.8766H19.0945C20.9352 43.8766 21.4878 43.8502 22.5133 43.6914V47.0248C21.5667 46.919 20.8826 46.8925 19.1468 46.8925H3.36652C1.63066 46.8925 0.947139 46.919 0 47.0248V43.6914C1.02574 43.8502 1.57805 43.8766 3.41942 43.8766H9.36312V33.0035H5.33909C3.60322 33.0035 2.9194 33.0299 1.97257 33.1361V29.8292C2.97231 29.9879 3.60322 30.0143 5.39169 30.0143H17.0953C18.8837 30.0143 19.515 29.9879 20.5144 29.8292V33.1361C19.5676 33.0299 18.91 33.0035 17.1479 33.0035H12.7296V43.8766Z\"\n      />\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M63.0343 37.0233H69.3992C71.2399 37.0233 71.7925 36.9982 72.818 36.8478V40.0062C71.8714 39.9059 71.1873 39.8809 69.4514 39.8809H53.6712C51.9353 39.8809 51.2518 39.9059 50.3047 40.0062V36.8478C51.3304 36.9982 51.8827 37.0233 53.7241 37.0233H59.6678H63.0343Z\"\n      />\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M47.9527 29.9531C47.581 30.4012 47.581 30.4275 46.8901 31.7979C45.96 33.7482 44.4185 35.7248 42.7976 37.0952C41.735 38.0173 40.8581 38.5971 39.6091 39.2823C38.8119 38.1754 38.4133 37.7801 37.2176 36.8841C38.998 36.0934 40.0077 35.4876 41.0972 34.4597C42.1867 33.4583 43.0105 32.3777 43.6213 31.1127H29.6712C27.8108 31.1127 27.1467 31.1391 26.0573 31.2709V27.9765C27.0667 28.1347 27.8905 28.1874 29.7243 28.1874H43.5948C45.1894 28.1874 45.4286 28.161 46.1723 27.9502L47.9527 29.9531ZM37.1644 33.2738C37.0847 33.7745 37.0847 33.8009 37.0581 35.4085C36.9518 39.9151 36.2344 42.4451 34.4277 44.7377C32.833 46.767 30.8932 48.1111 27.5719 49.4815C26.881 48.0583 26.5356 47.584 25.4727 46.4771C27.6251 45.8446 28.8208 45.2648 30.1229 44.2369C32.833 42.1025 33.6834 39.8357 33.6834 34.8551C33.6834 34.0644 33.6568 33.8272 33.5508 33.2738H37.1644Z\"\n      />\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M71.3352 23.1614C69.1412 20.4748 66.1016 17.5244 63.2203 15.3377C60.2333 18.6569 57.1934 20.975 53.149 22.951C52.4091 21.5809 52.0919 21.1594 51.0078 20.027C53.0432 19.2367 54.3121 18.5251 56.2946 17.1293C60.2861 14.3367 63.4582 10.5173 65.1764 6.40787L65.4669 5.72296C65.0439 5.7493 65.0439 5.7493 56.7175 5.88102C55.4487 5.90736 54.735 5.96004 53.8362 6.09176L53.7308 2.72021C54.4707 2.85162 54.9732 2.87796 56.0567 2.87796H56.6911L65.9959 2.74656C67.4758 2.72021 67.6876 2.69357 68.3482 2.45648L70.0928 4.24778C69.7495 4.64292 69.5377 5.01171 69.2469 5.67028C68.031 8.48893 66.7357 10.7807 65.1235 12.9408C66.7889 14.0469 68.2163 15.1533 70.0135 16.7605C70.6747 17.3397 70.6747 17.3397 73.8729 20.4221L71.3352 23.1614Z\"\n      />\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M93.5706 6.11073C93.3324 6.60943 93.3056 6.76661 93.1732 7.55403C92.7227 10.5728 92.3252 12.0426 91.5038 13.9062C90.2054 16.9246 88.0857 19.2604 84.9593 21.1502C83.3694 22.1213 81.9916 22.725 79.6863 23.5124C79.0769 22.1738 78.7589 21.7014 77.5665 20.389C80.0838 19.7856 81.5411 19.2341 83.2105 18.2108C87.0526 15.8482 89.0661 12.5148 89.5698 7.68557H76.6391V11.0715C76.6391 11.8851 76.6656 12.5935 76.7186 13.1713H73.168C73.2475 12.5148 73.3005 11.7011 73.3005 10.9662V7.16032C73.3005 6.05823 73.274 5.3758 73.1945 4.66743C74.1219 4.77211 74.5988 4.79836 76.0562 4.79836H81.2497L89.437 4.77211C91.3978 4.77211 91.3978 4.77211 92.0338 4.56213L93.5706 6.11073Z\"\n      />\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M105.155 5.96582C106.553 8.5989 107.054 9.76871 107.714 12.0824L104.785 13.0131C104.284 10.992 103.492 8.94461 102.384 6.76363L105.155 5.96582ZM114.679 7.24262C114.52 7.64122 114.467 7.7745 114.309 8.5989C113.544 12.2153 112.357 15.1406 110.669 17.4543C108.716 20.1402 106.526 21.8688 102.622 23.8633C101.936 22.6932 101.619 22.2943 100.511 21.2302C102.358 20.5125 103.44 19.9272 104.996 18.7839C108.083 16.5235 109.851 13.8109 110.985 9.55596C111.328 8.25287 111.46 7.3224 111.46 6.498L114.679 7.24262ZM99.5352 7.05616C100.643 9.10387 101.171 10.3804 102.12 13.3588L99.1395 14.3162C98.4532 11.6303 97.9258 10.2208 96.7383 7.88056L99.5352 7.05616Z\"\n      />\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M133.804 3.03135C133.804 3.9806 134.572 4.77138 135.525 4.77138C136.504 4.77138 137.272 3.9806 137.272 3.03135C137.272 2.0824 136.504 1.31798 135.525 1.31798C134.572 1.31798 133.804 2.0824 133.804 3.03135ZM130.919 3.11073C131.713 3.11073 132.03 3.08437 132.48 3.05771C132.507 1.34434 133.83 0 135.525 0C137.219 0 138.596 1.3707 138.596 3.03135C138.596 4.71836 137.219 6.08936 135.525 6.08936C135.366 6.08936 135.207 6.063 135.022 6.03633C132.877 14.6559 128.192 20.0333 119.826 23.5124C119.138 22.142 118.688 21.5354 117.496 20.3756C124.83 18.1087 129.621 13.2061 131.315 6.19449H118.714C116.755 6.19449 116.252 6.22085 115.379 6.35265V2.92591C116.332 3.08437 116.967 3.11073 118.767 3.11073H130.919Z\"\n      />\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M23.918 22.1087H27.4357V2.10559H23.918V22.1087Z\"\n      />\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M44.9907 22.1087L40.4966 15.3854H35.9752V22.1087H32.3633V2.10559H41.5249C46.2518 2.10559 49.1595 4.85847 49.1595 8.74655C49.1595 12.0376 47.1327 14.0239 44.2551 14.7902L49.2482 22.1087H44.9907ZM41.2313 5.28371H35.9752V12.2927H41.2595C43.8444 12.2927 45.4885 10.7876 45.4885 8.74502C45.4885 6.56004 43.9034 5.28371 41.2313 5.28371Z\"\n      />\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M0 22.1087H3.78527C3.78527 22.1087 6.5041 16.3386 14.4802 17.0038L16.6353 22.1087H20.4027L12.0627 2.10559H8.542L0 22.1087ZM10.3452 6.27642L13.2629 13.8573C13.2629 13.8573 10.0568 13.7376 6.85105 15.2714L10.3452 6.27642Z\"\n      />\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M85.9459 37.1418C82.0325 36.2313 81.026 35.3634 81.026 33.7983C81.026 32.4603 82.0914 31.3987 84.1944 31.3987C86.0642 31.3987 88.1358 32.3034 89.9763 33.6411L91.9037 30.9942C89.83 29.3718 87.0747 28.4254 84.0955 28.4254C80.0358 28.4254 77.4337 30.639 77.4337 34.1112C77.4337 37.8115 79.9585 39.2479 84.3099 40.2727C88.1072 41.1268 88.9242 41.8951 88.9242 43.3462C88.9242 44.8834 87.9029 46.0284 85.6843 46.0284C83.1432 46.0284 80.8054 44.9404 78.8491 43.2898L76.6875 45.7939C79.1408 47.9287 82.4716 49.1304 85.5956 49.1304C89.8891 49.1304 92.5171 46.762 92.5171 43.0054C92.5171 42.5577 92.4762 42.143 92.3955 41.7584C91.8751 39.2788 89.688 38.0294 85.9459 37.1418Z\"\n      />\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M120.042 28.7764L115.146 43.5021L110.104 28.777H107.055L102.013 43.5021L97.1175 28.7764H93.2188L100.371 48.7795H103.479L108.521 34.5075L113.563 48.7795H116.67L123.823 28.7764H120.042Z\"\n      />\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M150.872 38.9666H145.735V31.9544H150.872C153.58 31.9544 155.317 32.6131 155.317 35.3667C155.317 37.9517 153.61 38.9666 150.872 38.9666ZM151.166 28.7764H142.113V48.7795H145.735V42.1162H150.754C155.606 42.1162 158.998 39.7035 158.998 35.2207C158.998 31.1631 155.965 28.7764 151.166 28.7764Z\"\n      />\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M127.445 40.5279L130.362 32.9473L133.856 41.9422C130.651 40.4085 127.445 40.5279 127.445 40.5279ZM128.644 28.7764L120.305 48.7795H124.072L126.227 43.6747C134.203 43.0096 136.922 48.7795 136.922 48.7795H140.707L132.165 28.7764H128.644Z\"\n      />\n    </StyledSiteLogo>\n  );\n};\n\nexport default SiteLogo;\n","import styled from \"styled-components/macro\";\n\nimport SiteLogo from \"../SiteLogo/SiteLogo\";\n\nexport const StyledSiteLogo = styled(SiteLogo)`\n  position: absolute;\n  top: 2.5rem;\n  left: 2.5rem;\n`;\n\nexport const StyledPage = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n  min-width: 18rem;\n  min-height: 100vh;\n  padding: 2rem 0;\n\n  @media (min-height: 50rem) {\n    align-items: center;\n    height: 100vh;\n    min-height: 50rem;\n  }\n`;\n","import React, { FC, ReactElement } from \"react\";\nimport { useState } from \"react\";\n\nimport { useAppDispatch } from \"../../app/hooks\";\nimport { Orders } from \"../../features/orders/Orders\";\nimport { toggleTheme } from \"../../features/userSettings/userSettingsSlice\";\nimport SideBar from \"../SideBar/SideBar\";\nimport { StyledWallet, StyledDarkModeSwitch } from \"../SideBar/SideBar.styles\";\nimport Toaster from \"../Toasts/Toaster\";\nimport TradeContainer from \"../TradeContainer/TradeContainer\";\nimport { StyledPage, StyledSiteLogo } from \"./Page.styles\";\n\nconst Page: FC = (): ReactElement => {\n  const [sideBarOpen, setSideBarOpen] = useState<boolean>(false);\n  const dispatch = useAppDispatch();\n\n  return (\n    <StyledPage>\n      <Toaster sideBarOpen={sideBarOpen} />\n      <StyledSiteLogo />\n      <StyledWallet isOpen={sideBarOpen} />\n      <TradeContainer isOpen={sideBarOpen}>\n        <Orders />\n      </TradeContainer>\n      <SideBar\n        isOpen={sideBarOpen}\n        setIsOpen={() => {\n          setSideBarOpen(!sideBarOpen);\n        }}\n      />\n      <StyledDarkModeSwitch\n        onClick={() => {\n          dispatch(toggleTheme());\n        }}\n      />\n    </StyledPage>\n  );\n};\n\nexport default Page;\n","import React, { FC, ReactElement } from \"react\";\n\nimport { StyledPage, StyledSiteLogo } from \"../Page/Page.styles\";\nimport { StyledDarkModeSwitch, StyledSideBar } from \"../SideBar/SideBar.styles\";\nimport TradeContainer from \"../TradeContainer/TradeContainer\";\n\nconst PageLoader: FC = (): ReactElement => {\n  const sideBarIsOpen = window.location.pathname.indexOf(\"swap\") !== -1;\n\n  return (\n    <StyledPage>\n      <StyledSiteLogo />\n      <TradeContainer isOpen={sideBarIsOpen} />\n      <StyledSideBar isOpen={sideBarIsOpen} />\n      <StyledDarkModeSwitch />\n    </StyledPage>\n  );\n};\n\nexport default PageLoader;\n","import { initReactI18next } from \"react-i18next\";\n\nimport i18n from \"i18next\";\nimport LanguageDetector from \"i18next-browser-languagedetector\";\nimport HttpBackend from \"i18next-http-backend\";\n\ni18n\n  // load translation using http -> see /public/locales\n  .use(HttpBackend)\n  // detect user language\n  // learn more: https://github.com/i18next/i18next-browser-languageDetector\n  .use(LanguageDetector)\n  // pass the i18n instance to react-i18next.\n  .use(initReactI18next)\n  // init i18next\n  // for all options read: https://www.i18next.com/overview/configuration-options\n  .init({\n    fallbackLng: \"en\",\n    ns: \"common\",\n    load: \"languageOnly\",\n    debug: process.env.NODE_ENV !== \"production\",\n    interpolation: {\n      escapeValue: false, // not needed for react as it escapes by default\n    },\n    react: {\n      useSuspense: true,\n    },\n    backend: {\n      loadPath: process.env.PUBLIC_URL + \"/locales/{{lng}}/{{ns}}.json\",\n    },\n  });\n\nexport default i18n;\n","import \"@fontsource/montserrat/400.css\";\nimport \"@fontsource/montserrat/500.css\";\nimport \"@fontsource/montserrat/600.css\";\nimport \"@fontsource/montserrat/700.css\";\n\nimport { createGlobalStyle } from \"styled-components/macro\";\n\nimport convertHexToRGBA from \"../helpers/transformHexToRgba\";\nimport breakPoints from \"./breakpoints\";\nimport reset from \"./reset\";\n\nconst GlobalStyle = createGlobalStyle`\n  ${reset}\n  \n  body {\n    margin: 0;\n    padding: 0;\n    overflow-x: hidden;\n    font-family: 'Montserrat', sans-serif;\n    color: ${(props) =>\n      props.theme.name === \"dark\"\n        ? props.theme.colors.white\n        : props.theme.colors.primary};\n    background: ${(props) => props.theme.colors.black};\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n\n  code {\n    font-family: source-code-pro, Menlo, Monaco, Consolas, \"Courier New\",\n      monospace;\n  }\n\n  p {\n    font-size: ${(props) => props.theme.typography.paragraph.fontSize};\n    font-weight: ${(props) => props.theme.typography.paragraph.fontWeight};\n    line-height: ${(props) => props.theme.typography.paragraph.lineHeight};\n  }\n\n  .ReactModal__Overlay {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    padding: 1.5rem;\n    background: ${(props) =>\n      convertHexToRGBA(props.theme.colors.alwaysBlack, 0.5)};\n\n    @media ${breakPoints.tabletPortraitUp} {\n      padding: 2.5rem;\n    }\n\n  }\n\n  .ReactModal__Content {\n    position: relative !important;\n    border-radius: 0.125rem;\n    width: 100%;\n    max-width: 25rem;\n    padding: 1.5rem;\n    background: ${(props) => props.theme.colors.grey};\n  }\n`;\n\nexport default GlobalStyle;\n","const reset = `\n  /* ! tailwindcss v2.1.4 | MIT License | https://tailwindcss.com */\n\n  /*! modern-normalize v1.1.0 | MIT License | https://github.com/sindresorhus/modern-normalize */\n\n  /*\n  Document\n  ========\n  */\n\n  /**\n  Use a better box model (opinionated).\n  */\n\n  *,\n  ::before,\n  ::after {\n    box-sizing: border-box;\n  }\n\n  /**\n  Use a more readable tab size (opinionated).\n  */\n\n  html {\n    -moz-tab-size: 4;\n    tab-size: 4;\n  }\n\n  /**\n  1. Correct the line height in all browsers.\n  2. Prevent adjustments of font size after orientation changes in iOS.\n  */\n\n  html {\n    line-height: 1.15; /* 1 */\n    -webkit-text-size-adjust: 100%; /* 2 */\n  }\n\n  /*\n  Grouping content\n  ================\n  */\n\n  /**\n  1. Add the correct height in Firefox.\n  2. Correct the inheritance of border color in Firefox. (https://bugzilla.mozilla.org/show_bug.cgi?id=190655)\n  */\n\n  hr {\n    height: 0; /* 1 */\n    color: inherit; /* 2 */\n  }\n\n  /*\n  Text-level semantics\n  ====================\n  */\n\n  /**\n  Add the correct text decoration in Chrome, Edge, and Safari.\n  */\n\n  abbr[title] {\n    text-decoration: underline dotted;\n  }\n\n  /**\n  Add the correct font weight in Edge and Safari.\n  */\n\n  b,\n  strong {\n    font-weight: bolder;\n  }\n\n  /**\n  1. Improve consistency of default fonts in all browsers. (https://github.com/sindresorhus/modern-normalize/issues/3)\n  2. Correct the odd 'em' font sizing in all browsers.\n  */\n\n  code,\n  kbd,\n  samp,\n  pre {\n    font-family: ui-monospace,\n    SFMono-Regular,\n    Consolas,\n    'Liberation Mono',\n    Menlo,\n    monospace; /* 1 */\n    font-size: 1em; /* 2 */\n  }\n\n  /**\n  Add the correct font size in all browsers.\n  */\n\n  small {\n    font-size: 80%;\n  }\n\n  /**\n  Prevent 'sub' and 'sup' elements from affecting the line height in all browsers.\n  */\n\n  sub,\n  sup {\n    font-size: 75%;\n    line-height: 0;\n    position: relative;\n    vertical-align: baseline;\n  }\n\n  sub {\n    bottom: -0.25em;\n  }\n\n  sup {\n    top: -0.5em;\n  }\n\n  /*\n  Tabular data\n  ============\n  */\n\n  /**\n  1. Remove text indentation from table contents in Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=999088, https://bugs.webkit.org/show_bug.cgi?id=201297)\n  2. Correct table border color inheritance in all Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=935729, https://bugs.webkit.org/show_bug.cgi?id=195016)\n  */\n\n  table {\n    text-indent: 0; /* 1 */\n    border-color: inherit; /* 2 */\n  }\n\n  /*\n  Forms\n  =====\n  */\n\n  /**\n  1. Change the font styles in all browsers.\n  2. Remove the margin in Firefox and Safari.\n  */\n\n  button,\n  input,\n  optgroup,\n  select,\n  textarea {\n    font-family: inherit; /* 1 */\n    font-size: 100%; /* 1 */\n    line-height: 1.15; /* 1 */\n    margin: 0; /* 2 */\n  }\n\n  /**\n  Remove the inheritance of text transform in Edge and Firefox.\n  1. Remove the inheritance of text transform in Firefox.\n  */\n\n  button,\n  select { /* 1 */\n    text-transform: none;\n  }\n\n  /**\n  Correct the inability to style clickable types in iOS and Safari.\n  */\n\n  button,\n  [type='button'],\n  [type='reset'],\n  [type='submit'] {\n    -webkit-appearance: button;\n  }\n\n  /**\n  Remove the inner border and padding in Firefox.\n  */\n\n  ::-moz-focus-inner {\n    border-style: none;\n    padding: 0;\n  }\n\n  /**\n  Restore the focus styles unset by the previous rule.\n  */\n\n  :-moz-focusring {\n    outline: 1px dotted ButtonText;\n  }\n\n  /**\n  Remove the additional ':invalid' styles in Firefox.\n  See: https://github.com/mozilla/gecko-dev/blob/2f9eacd9d3d995c937b4251a5557d95d494c9be1/layout/style/res/forms.css#L728-L737\n  */\n\n  :-moz-ui-invalid {\n    box-shadow: none;\n  }\n\n  /**\n  Remove the padding so developers are not caught out when they zero out 'fieldset' elements in all browsers.\n  */\n\n  legend {\n    padding: 0;\n  }\n\n  /**\n  Add the correct vertical alignment in Chrome and Firefox.\n  */\n\n  progress {\n    vertical-align: baseline;\n  }\n\n  /**\n  Correct the cursor style of increment and decrement buttons in Safari.\n  */\n\n  ::-webkit-inner-spin-button,\n  ::-webkit-outer-spin-button {\n    height: auto;\n  }\n\n  /**\n  1. Correct the odd appearance in Chrome and Safari.\n  2. Correct the outline style in Safari.\n  */\n\n  [type='search'] {\n    -webkit-appearance: textfield; /* 1 */\n    outline-offset: -2px; /* 2 */\n  }\n\n  /**\n  Remove the inner padding in Chrome and Safari on macOS.\n  */\n\n  ::-webkit-search-decoration {\n    -webkit-appearance: none;\n  }\n\n  /**\n  1. Correct the inability to style clickable types in iOS and Safari.\n  2. Change font properties to 'inherit' in Safari.\n  */\n\n  ::-webkit-file-upload-button {\n    -webkit-appearance: button; /* 1 */\n    font: inherit; /* 2 */\n  }\n\n  /*\n  Interactive\n  ===========\n  */\n\n  /*\n  Add the correct display in Chrome and Safari.\n  */\n\n  summary {\n    display: list-item;\n  }\n\n  /**\n   * Manually forked from SUIT CSS Base: https://github.com/suitcss/base\n   * A thin layer on top of normalize.css that provides a starting point more\n   * suitable for web applications.\n   */\n\n  /**\n   * Removes the default spacing and border for appropriate elements.\n   */\n\n  blockquote,\n  dl,\n  dd,\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6,\n  hr,\n  figure,\n  p,\n  pre {\n    margin: 0;\n  }\n\n  button {\n    background-color: transparent;\n    background-image: none;\n  }\n\n  /**\n   * Work around a Firefox/IE bug where the transparent \\`button\\` background\n   * results in a loss of the default \\`button\\` focus styles.\n   */\n\n  button:focus {\n    outline: 1px dotted;\n    outline: 5px auto -webkit-focus-ring-color;\n  }\n\n  fieldset {\n    margin: 0;\n    padding: 0;\n  }\n\n  ol,\n  ul {\n    list-style: none;\n    margin: 0;\n    padding: 0;\n  }\n\n  /**\n   * Tailwind custom reset styles\n   */\n\n  /**\n   * 1. Use the user's configured \\`sans\\` font-family (with Tailwind's default\n   *    sans-serif font stack as a fallback) as a sane default.\n   * 2. Use Tailwind's default \"normal\" line-height so the user isn't forced\n   *    to override it to ensure consistency even when using the default theme.\n   */\n\n  html {\n    font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, \"Noto Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\"; /* 1 */\n    line-height: 1.5; /* 2 */\n  }\n\n  /**\n   * Inherit font-family and line-height from \\`html\\` so users can set them as\n   * a class directly on the \\`html\\` element.\n   */\n\n  body {\n    font-family: inherit;\n    line-height: inherit;\n  }\n\n  /**\n   * 1. Prevent padding and border from affecting element width.\n   *\n   *    We used to set this in the html element and inherit from\n   *    the parent element for everything else. This caused issues\n   *    in shadow-dom-enhanced elements like <details> where the content\n   *    is wrapped by a div with box-sizing set to \\`content-box\\`.\n   *\n   *    https://github.com/mozdevs/cssremedy/issues/4\n   *\n   *\n   * 2. Allow adding a border to an element by just adding a border-width.\n   *\n   *    By default, the way the browser specifies that an element should have no\n   *    border is by setting it's border-style to \\`none\\` in the user-agent\n   *    stylesheet.\n   *\n   *    In order to easily add borders to elements by just setting the \\`border-width\\`\n   *    property, we change the default border-style for all elements to \\`solid\\`, and\n   *    use border-width to hide them instead. This way our \\`border\\` utilities only\n   *    need to set the \\`border-width\\` property instead of the entire \\`border\\`\n   *    shorthand, making our border utilities much more straightforward to compose.\n   *\n   *    https://github.com/tailwindcss/tailwindcss/pull/116\n   */\n\n  *,\n  ::before,\n  ::after {\n    box-sizing: border-box; /* 1 */\n    border-width: 0; /* 2 */\n    border-style: solid; /* 2 */\n    border-color: #e5e7eb; /* 2 */\n  }\n\n  /*\n   * Ensure horizontal rules are visible by default\n   */\n\n  hr {\n    border-top-width: 1px;\n  }\n\n  /**\n   * Undo the \\`border-style: none\\` reset that Normalize applies to images so that\n   * our \\`border-{width}\\` utilities have the expected effect.\n   *\n   * The Normalize reset is unnecessary for us since we default the border-width\n   * to 0 on all elements.\n   *\n   * https://github.com/tailwindcss/tailwindcss/issues/362\n   */\n\n  img {\n    border-style: solid;\n  }\n\n  textarea {\n    resize: vertical;\n  }\n\n  input::placeholder,\n  textarea::placeholder {\n    opacity: 1;\n    color: #9ca3af;\n  }\n\n  button,\n  [role=\"button\"] {\n    cursor: pointer;\n  }\n\n  table {\n    border-collapse: collapse;\n  }\n\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6 {\n    font-size: inherit;\n    font-weight: inherit;\n  }\n\n  /**\n   * Reset links to optimize for opt-in styling instead of\n   * opt-out.\n   */\n\n  a {\n    color: inherit;\n    text-decoration: inherit;\n  }\n\n  /**\n   * Reset form element properties that are easy to forget to\n   * style explicitly so you don't inadvertently introduce\n   * styles that deviate from your design system. These styles\n   * supplement a partial reset that is already applied by\n   * normalize.css.\n   */\n\n  button,\n  input,\n  optgroup,\n  select,\n  textarea {\n    padding: 0;\n    line-height: inherit;\n    color: inherit;\n  }\n\n  /**\n   * Use the configured 'mono' font family for elements that\n   * are expected to be rendered with a monospace font, falling\n   * back to the system monospace stack if there is no configured\n   * 'mono' font family.\n   */\n\n  pre,\n  code,\n  kbd,\n  samp {\n    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace;\n  }\n\n  /**\n   * Make replaced elements \\`display: block\\` by default as that's\n   * the behavior you want almost all of the time. Inspired by\n   * CSS Remedy, with \\`svg\\` added as well.\n   *\n   * https://github.com/mozdevs/cssremedy/issues/14\n   */\n\n  img,\n  svg,\n  video,\n  canvas,\n  audio,\n  iframe,\n  embed,\n  object {\n    display: block;\n    vertical-align: middle;\n    width: inherit;\n  }\n`;\n\nexport default reset;\n","import { DefaultTheme } from \"styled-components/macro\";\n\nconst typography: DefaultTheme[\"typography\"] = {\n  title1: {\n    fontSize: \"2rem\",\n    lineHeight: 1.167,\n    fontWeight: 500,\n  },\n  title2: {\n    fontSize: \"1.5rem\",\n    lineHeight: 1.25,\n    fontWeight: 700,\n  },\n  title3: {\n    fontSize: \"1.25rem\",\n    lineHeight: 1.25,\n    fontWeight: 400,\n  },\n  title4: {\n    fontSize: \"1rem\",\n    lineHeight: 1.33,\n    fontWeight: 700,\n  },\n  subtitle: {\n    fontSize: \"1rem\",\n    lineHeight: 1.5,\n    fontWeight: 700,\n  },\n  paragraph: {\n    fontSize: \"1rem\",\n    lineHeight: 1.5,\n    fontWeight: 400,\n  },\n  infoHeading: {\n    fontSize: \"1rem\",\n    lineHeight: 1.5625,\n    fontWeight: 600,\n  },\n  infoSubHeading: {\n    fontSize: \"1rem\",\n    lineHeight: 1.5625,\n    fontWeight: 400,\n  },\n  formLabel: {\n    fontSize: \"0.75rem\",\n    lineHeight: 1.5,\n    fontWeight: 600,\n  },\n  formInput: {\n    fontSize: \"1.5rem\",\n    lineHeight: 1.5,\n    fontWeight: 500,\n  },\n  // Form select inputs\n  selectItem: {\n    fontSize: \"1.125rem\",\n    lineHeight: 1 + 1 / 3,\n    fontWeight: 600,\n  },\n  link: {\n    fontSize: \"0.75rem\",\n    lineHeight: 2,\n    fontWeight: 700,\n  },\n  nav: {\n    fontSize: \"1rem\",\n    lineHeight: 1.25,\n    fontWeight: 400,\n  },\n  small: {\n    fontSize: \"0.875rem\",\n    lineHeight: 1.25,\n    fontWeight: 500,\n  },\n};\n\nexport const darkTheme: DefaultTheme = {\n  name: \"dark\",\n  colors: {\n    primary: \"#2B71FF\",\n    primaryDark: \"#0F5FFF\",\n    white: \"#FFFFFF\",\n    alwaysWhite: \"#FFFFFF\",\n    black: \"#060607\",\n    alwaysBlack: \"#060607\",\n    grey: \"#404040\",\n    borderGrey: \"#1A1E25\",\n    darkGrey: \"#101217\",\n    lightGrey: \"#6E7686\",\n    placeholderGrey: \"#6E7686\",\n    red: \"#FF004D\",\n    orange: \"#E7765A\",\n    green: \"#60FF66\",\n    placeholderGradient: \"linear-gradient(270deg, #232833 0%, #2F364400 93.3%)\",\n  },\n  typography,\n};\n\nexport const lightTheme: DefaultTheme = {\n  name: \"light\",\n  colors: {\n    primary: \"#2B71FF\",\n    primaryDark: \"#101217\",\n    white: \"#060607\",\n    alwaysWhite: \"#FFFFFF\",\n    black: \"#FFFFFF\",\n    alwaysBlack: \"#000000\",\n    grey: \"#404040\",\n    borderGrey: \"#DDE2ED\",\n    darkGrey: \"#F5F8FF\",\n    lightGrey: \"#6E7686\",\n    placeholderGrey: \"#E0EAFF\",\n    red: \"#FF004D\",\n    orange: \"#E7765A\",\n    green: \"#60FF66\",\n    placeholderGradient: \"linear-gradient(270deg, #E1EBFF 0%, #E1EBFF00 93.3%)\",\n  },\n  typography,\n};\n","import { Suspense } from \"react\";\nimport { HashRouter as Router, Route } from \"react-router-dom\";\n\nimport { Web3Provider } from \"@ethersproject/providers\";\nimport { Web3ReactProvider } from \"@web3-react/core\";\n\nimport { ThemeProvider } from \"styled-components/macro\";\n\nimport { useAppSelector } from \"./app/hooks\";\nimport Page from \"./components/Page/Page\";\nimport PageLoader from \"./components/PageLoader/PageLoader\";\nimport { selectUserSettings } from \"./features/userSettings/userSettingsSlice\";\nimport \"./i18n/i18n\";\nimport GlobalStyle from \"./style/GlobalStyle\";\nimport { darkTheme, lightTheme } from \"./style/themes\";\n\nfunction getLibrary(provider: any): Web3Provider {\n  const library = new Web3Provider(provider);\n  library.pollingInterval = 12000;\n  return library;\n}\n\nconst App = (): JSX.Element => {\n  const { theme } = useAppSelector(selectUserSettings);\n\n  return (\n    <ThemeProvider theme={theme === \"dark\" ? darkTheme : lightTheme}>\n      <Web3ReactProvider getLibrary={getLibrary}>\n        {/* Suspense needed here for loading i18n resources */}\n        <Suspense fallback={<PageLoader />}>\n          <Router>\n            <Route path=\"/:tokenFrom?/:tokenTo?\">\n              <Page />\n            </Route>\n          </Router>\n        </Suspense>\n      </Web3ReactProvider>\n      <GlobalStyle />\n    </ThemeProvider>\n  );\n};\n\nexport default App;\n","import { configureStore, ThunkAction, Action } from \"@reduxjs/toolkit\";\n\nimport {\n  balancesReducer,\n  allowancesReducer,\n} from \"../features/balances/balancesSlice\";\nimport metadataReducer from \"../features/metadata/metadataSlice\";\nimport { subscribeToSavedTokenChangesForLocalStoragePersisting } from \"../features/metadata/metadataSubscriber\";\nimport ordersReducer from \"../features/orders/ordersSlice\";\nimport registryReducer from \"../features/registry/registrySlice\";\nimport transactionsReducer from \"../features/transactions/transactionsSlice\";\nimport userSettingsReducer from \"../features/userSettings/userSettingsSlice\";\nimport walletReducer from \"../features/wallet/walletSlice\";\n\nexport const store = configureStore({\n  reducer: {\n    allowances: allowancesReducer,\n    transactions: transactionsReducer,\n    balances: balancesReducer,\n    metadata: metadataReducer,\n    orders: ordersReducer,\n    wallet: walletReducer,\n    registry: registryReducer,\n    userSettings: userSettingsReducer,\n  },\n});\n\nsubscribeToSavedTokenChangesForLocalStoragePersisting();\n\nexport type AppDispatch = typeof store.dispatch;\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppThunk<ReturnType = void> = ThunkAction<\n  ReturnType,\n  RootState,\n  unknown,\n  Action<string>\n>;\n","import { store } from \"../../app/store\";\nimport {\n  SubmittedTransaction,\n  TransactionsState,\n} from \"../transactions/transactionsSlice\";\nimport {\n  getActiveTokensLocalStorageKey,\n  getTransactionsLocalStorageKey,\n} from \"./metadataApi\";\n\nexport const subscribeToSavedTokenChangesForLocalStoragePersisting = () => {\n  const activeTokensCache: {\n    [address: string]: {\n      [chainId: number]: string[];\n    };\n  } = {};\n  const transactionCache: {\n    [address: string]: {\n      [chainId: number]: SubmittedTransaction[];\n    };\n  } = {};\n\n  let currentChainId: number;\n  let currentTransaction: TransactionsState;\n\n  store.subscribe(() => {\n    const { wallet, metadata, transactions } = store.getState();\n    if (!wallet.connected) return;\n\n    let previousChainId = currentChainId;\n    currentChainId = wallet.chainId!;\n\n    let previousTransaction = currentTransaction;\n    currentTransaction = transactions;\n\n    if (\n      previousTransaction !== currentTransaction ||\n      previousChainId !== currentChainId\n    ) {\n      // handles change in transactions and persists all transactions to localStorage\n      // Store only the top 3 transactions\n      const txs: TransactionsState = JSON.parse(\n        localStorage.getItem(\n          getTransactionsLocalStorageKey(wallet.address!, wallet.chainId!)\n        )!\n      ) || { all: [] };\n\n      const mostRecentTransactions = transactions.all.slice(0, 3);\n\n      if (transactionCache[wallet.address!] === undefined) {\n        transactionCache[wallet.address!] = {};\n        transactionCache[wallet.address!][wallet.chainId!] = txs.all;\n      }\n      if (\n        previousChainId === currentChainId &&\n        transactions.all.length &&\n        transactionCache[wallet.address!][wallet.chainId!] !== transactions.all\n      ) {\n        transactionCache[wallet.address!][\n          wallet.chainId!\n        ] = mostRecentTransactions;\n        localStorage.setItem(\n          getTransactionsLocalStorageKey(wallet.address!, wallet.chainId!),\n          JSON.stringify({\n            all: mostRecentTransactions,\n          })\n        );\n      }\n    }\n\n    if (!activeTokensCache[wallet.address!]) {\n      activeTokensCache[wallet.address!] = {};\n    }\n    const cachedTokensForActiveWallet =\n      activeTokensCache[wallet.address!][wallet.chainId!];\n    if (\n      metadata.tokens.active.length &&\n      cachedTokensForActiveWallet !== metadata.tokens.active\n    ) {\n      // active tokens have changed, persist to local storage.\n      activeTokensCache[wallet.address!][wallet.chainId!] =\n        metadata.tokens.active;\n      localStorage.setItem(\n        getActiveTokensLocalStorageKey(wallet.address!, wallet.chainId!),\n        metadata.tokens.active.join(\",\")\n      );\n    }\n  });\n};\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { \"Service-Worker\": \"script\" },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Modal from \"react-modal\";\nimport { Provider } from \"react-redux\";\n\nimport App from \"./App\";\nimport { store } from \"./app/store\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nModal.setAppElement(\"#root\");\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}